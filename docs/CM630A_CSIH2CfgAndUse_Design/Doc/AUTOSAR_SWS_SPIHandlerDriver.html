---
layout: default
title: AUTOSAR_SWS_SPIHandlerDriver
nav_order: 2
parent: Component Design
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>1 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>Document Title </b></p>
<p>Specification of SPI Han-</p>
<p>dler/Driver </p>
<p><b>Document Owner </b></p>
<p>AUTOSAR  </p>
<p><b>Document Responsibility </b></p>
<p>AUTOSAR  </p>
<p><b>Document Identification No </b></p>
<p>038 </p>
<p><b>Document Classification </b></p>
<p>Standard </p>
<p><b> </b></p>
<p> </p>
<p><b>Document Version </b></p>
<p>3.2.0 </p>
<p><b>Document Status </b></p>
<p>Final </p>
<p><b>Part of Release </b></p>
<p>4.0 </p>
<p><b>Revision </b></p>
<p>3 </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Document Change History </b></p>
<p><b>Date </b></p>
<p><b>Version </b></p>
<p><b>Changed by </b></p>
<p><b>Change Description </b></p>
<p>24.11.2011 </p>
<p>3.2.0 </p>
<p>AUTOSAR </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Rephrased: requirement SPI002, SPI046, </p>
<p>SPI129, SPI233, SPI163, SPI 171, </p>
<p>SPI172, SPI289 and SPI290, block 2 in </p>
<p>chapter 7.2.2 </p>
<p>•</p>
<p> </p>
<p>Removed: requirement SPI083; SPI132, </p>
<p>SPI284 and SPI107 removed from state-</p>
<p>ment </p>
<p>•</p>
<p> </p>
<p>Corrected:Dem_EventStatusType in </p>
<p>SPI191, Spi_SyncTransmit Syn/Async </p>
<p>changed to Synchronous, </p>
<p>SPI_E_PARAM_POINTER in SPI371,  </p>
<p>•</p>
<p> </p>
<p>Reference to MCU in SPI244 and SPI342 </p>
<p>•</p>
<p> </p>
<p>Added: requirement SPI140, chapter 10 - </p>
<p>SpiCsSelection, SPI194 - </p>
<p>SPI_JOB_QUEUED state introduced, </p>
<p>SPI195 with error table update </p>
<p>•</p>
<p> </p>
<p>Modified: SPI114 and SPI135, chapter 10 </p>
<p>- SpiEnableCs </p>
<p>12.11.2010 </p>
<p>3.1.0 </p>
<p>AUTOSAR </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Added SPI369, SPI371, SPI370 </p>
<p>•</p>
<p> </p>
<p>Removed SPI190, SPI094 </p>
<p>•</p>
<p> </p>
<p>Updated configuration: base on min-max </p>
<p>value for defined parameter; SpiHwUnit </p>
<p>belongs to SpiExternalDevice Container; </p>
<p>updated SpiTimeClk2Cs </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>2 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>Document Change History </b></p>
<p><b>Date </b></p>
<p><b>Version </b></p>
<p><b>Changed by </b></p>
<p><b>Change Description </b></p>
<p>11.12.2009 </p>
<p>3.0.0 </p>
<p>AUTOSAR </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Splitting and refinement of several re-</p>
<p>quirements  </p>
<p>•</p>
<p> </p>
<p>Removal of redundant requirements </p>
<p>•</p>
<p> </p>
<p>Introduction of new IDs to allow imple-</p>
<p>mentation of debugging concept </p>
<p>•</p>
<p> </p>
<p>Inserted UML diagram in chapter 9 </p>
<p>•</p>
<p> </p>
<p>Updating of Chapter 10 with the inclusion </p>
<p>of 2 new container and the definition of </p>
<p>the Chip Select configuration </p>
<p>•</p>
<p> </p>
<p>Legal disclaimer revised </p>
<p>23.06.2008 </p>
<p>2.2.1 </p>
<p>AUTOSAR  </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Legal disclaimer revised </p>
<p>12.12.2007 </p>
<p>2.2.0 </p>
<p>AUTOSAR  </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Updated Chapter 10 with the inclusion of </p>
<p>CS configuration </p>
<p>•</p>
<p> </p>
<p>Document meta information extended  </p>
<p>•</p>
<p> </p>
<p>Small layout adaptations made </p>
<p>31.01.2007 </p>
<p>2.1.0 </p>
<p>AUTOSAR  </p>
<p>Administration </p>
<p>•</p>
<p> </p>
<p>Configuration Specification updating </p>
<p>•</p>
<p> </p>
<p>General rephrasing for clarification </p>
<p>•</p>
<p> </p>
<p>Syntax error </p>
<p>•</p>
<p> </p>
<p> </p>
<p>•</p>
<p> </p>
<p>Legal disclaimer revised </p>
<p>•</p>
<p> </p>
<p>Release Notes added </p>
<p>•</p>
<p> </p>
<p>“Advice for users” revised </p>
<p>•</p>
<p> </p>
<p>“Revision Information” added </p>
<p>28.04.2006 </p>
<p>2.0.0 </p>
<p>AUTOSAR </p>
<p>Administration </p>
<p>Document structure adapted to common Re-</p>
<p>lease 2.0 SWS Template. </p>
<p>•</p>
<p> </p>
<p>Major changes in chapter 10 </p>
<p>•</p>
<p> </p>
<p>Structure of document changed partly </p>
<p>•</p>
<p> </p>
<p>Other changes see chapter 13 </p>
<p>09.06.2005 </p>
<p>1.0.0 </p>
<p>AUTOSAR </p>
<p>Administration </p>
<p>Initial Release </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>3 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>Disclaimer </b></p>
<p> </p>
<p>This specification and the material contained in it, as released by AUTOSAR is for </p>
<p>the purpose of information only. AUTOSAR and the companies that have contributed </p>
<p>to it shall not be liable for any use of the specification. </p>
<p> </p>
<p>The material contained in this specification is protected by copyright and other types </p>
<p>of Intellectual Property Rights. The commercial exploitation of the material contained </p>
<p>in this specification requires a license to such Intellectual Property Rights.  </p>
<p> </p>
<p>This specification may be utilized or reproduced without any modification, in any form </p>
<p>or by any means, for informational purposes only.  </p>
<p>For any other purpose, no part of the specification may be utilized or reproduced, in </p>
<p>any form or by any means, without permission in writing from the publisher.  </p>
<p> </p>
<p>The AUTOSAR specifications have been developed for automotive applications only. </p>
<p>They have neither been developed, nor tested for non-automotive applications. </p>
<p> </p>
<p>The word AUTOSAR and the AUTOSAR logo are registered trademarks. </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>Advice for users  </b></p>
<p><b> </b></p>
<p>AUTOSAR Specification Documents may contain exemplary items (exemplary refer-</p>
<p>ence models, &quot;use cases&quot;, and/or references to exemplary technical solutions, devic-</p>
<p>es, processes or software).  </p>
<p> </p>
<p>Any such exemplary items are contained in the Specification Documents for illustra-</p>
<p>tion  purposes  only,  and  they  themselves  are  not  part  of  the  AUTOSAR  Standard. </p>
<p>Neither their presence in such Specification Documents, nor any later documentation </p>
<p>of AUTOSAR conformance of products actually implementing such exemplary items, </p>
<p>imply that intellectual property rights covering such exemplary items are licensed un-</p>
<p>der the same rules as applicable to the AUTOSAR Standard. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>4 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>Table of Contents </b></p>
<p> </p>
<p>1</p>
<p> </p>
<p>Introduction and functional overview ................................................................... 7</p>
<p> </p>
<p>2</p>
<p> </p>
<p>Acronyms and abbreviations ............................................................................... 8</p>
<p> </p>
<p>3</p>
<p> </p>
<p>Related documentation........................................................................................ 9</p>
<p> </p>
<p>3.1</p>
<p> </p>
<p>Input documents ........................................................................................... 9</p>
<p> </p>
<p>3.2</p>
<p> </p>
<p>Related standards and norms ...................................................................... 9</p>
<p> </p>
<p>4</p>
<p> </p>
<p>Constraints and assumptions .............................................................................. 9</p>
<p> </p>
<p>4.1</p>
<p> </p>
<p>Limitations .................................................................................................. 10</p>
<p> </p>
<p>4.2</p>
<p> </p>
<p>Applicability to car domains ........................................................................ 10</p>
<p> </p>
<p>5</p>
<p> </p>
<p>Dependencies to other modules ........................................................................ 11</p>
<p> </p>
<p>5.1</p>
<p> </p>
<p>File structure .............................................................................................. 11</p>
<p> </p>
<p>5.1.1</p>
<p> </p>
<p>Code file structure ............................................................................... 11</p>
<p> </p>
<p>5.1.2</p>
<p> </p>
<p>Header file structure ............................................................................ 12</p>
<p> </p>
<p>6</p>
<p> </p>
<p>Requirements traceability .................................................................................. 14</p>
<p> </p>
<p>7</p>
<p> </p>
<p>Functional specification ..................................................................................... 30</p>
<p> </p>
<p>7.1</p>
<p> </p>
<p>Overall view of functionalities and features ................................................ 30</p>
<p> </p>
<p>7.2</p>
<p> </p>
<p>General behaviour ...................................................................................... 31</p>
<p> </p>
<p>7.2.1</p>
<p> </p>
<p>Common configurable feature: Allowed Channel Buffers .................... 34</p>
<p> </p>
<p>7.2.1.1</p>
<p> </p>
<p>Behaviour of IB channels ................................................................. 34</p>
<p> </p>
<p>7.2.1.2</p>
<p> </p>
<p>Behaviour of EB channels ............................................................... 35</p>
<p> </p>
<p>7.2.1.3</p>
<p> </p>
<p>Buffering channel usage .................................................................. 35</p>
<p> </p>
<p>7.2.2</p>
<p> </p>
<p>LEVEL 0, Simple Synchronous behaviour .......................................... 35</p>
<p> </p>
<p>7.2.3</p>
<p> </p>
<p>LEVEL 1, Basic Asynchronous behavior ............................................. 36</p>
<p> </p>
<p>7.2.4</p>
<p> </p>
<p>Asynchronous configurable feature: Interruptible Sequences ............. 38</p>
<p> </p>
<p>7.2.4.1</p>
<p> </p>
<p>Behavior of Non-Interruptible Sequences ........................................ 39</p>
<p> </p>
<p>7.2.4.2</p>
<p> </p>
<p>Behavior of Mixed Sequences ......................................................... 39</p>
<p> </p>
<p>7.2.5</p>
<p> </p>
<p>LEVEL 2, Enhanced behaviour ........................................................... 40</p>
<p> </p>
<p>7.3</p>
<p> </p>
<p>Scheduling Advices .................................................................................... 41</p>
<p> </p>
<p>7.4</p>
<p> </p>
<p>Error classification ...................................................................................... 42</p>
<p> </p>
<p>7.5</p>
<p> </p>
<p>Error detection ............................................................................................ 44</p>
<p> </p>
<p>7.5.1</p>
<p> </p>
<p>API parameter checking ...................................................................... 44</p>
<p> </p>
<p>7.5.2</p>
<p> </p>
<p>SPI state checking .............................................................................. 45</p>
<p> </p>
<p>7.6</p>
<p> </p>
<p>Error notification ......................................................................................... 45</p>
<p> </p>
<p>7.7</p>
<p> </p>
<p>Version check ............................................................................................. 46</p>
<p> </p>
<p>7.8</p>
<p> </p>
<p>Debugging .................................................................................................. 46</p>
<p> </p>
<p>8</p>
<p> </p>
<p>API specification ................................................................................................ 47</p>
<p> </p>
<p>8.1</p>
<p> </p>
<p>Imported types............................................................................................ 47</p>
<p> </p>
<p>8.2</p>
<p> </p>
<p>Type definitions .......................................................................................... 47</p>
<p> </p>
<p>8.2.1</p>
<p> </p>
<p>Spi_ConfigType ................................................................................... 47</p>
<p> </p>
<p>8.2.2</p>
<p> </p>
<p>Spi_StatusType ................................................................................... 48</p>
<p> </p>
<p>8.2.3</p>
<p> </p>
<p>Spi_JobResultType ............................................................................. 49</p>
<p> </p>
<p>8.2.4</p>
<p> </p>
<p>Spi_SeqResultType ............................................................................ 50</p>
<p> </p>
<p>8.2.5</p>
<p> </p>
<p>Spi_DataType ..................................................................................... 51</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>5 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>8.2.6</p>
<p> </p>
<p>Spi_NumberOfDataType ..................................................................... 51</p>
<p> </p>
<p>8.2.7</p>
<p> </p>
<p>Spi_ChannelType ................................................................................ 51</p>
<p> </p>
<p>8.2.8</p>
<p> </p>
<p>Spi_JobType ....................................................................................... 52</p>
<p> </p>
<p>8.2.9</p>
<p> </p>
<p>Spi_SequenceType ............................................................................. 52</p>
<p> </p>
<p>8.2.10</p>
<p> </p>
<p>Spi_HWUnitType ................................................................................. 52</p>
<p> </p>
<p>8.2.11</p>
<p> </p>
<p>Spi_AsyncModeType .......................................................................... 52</p>
<p> </p>
<p>8.3</p>
<p> </p>
<p>Function definitions .................................................................................... 53</p>
<p> </p>
<p>8.3.1</p>
<p> </p>
<p>Spi_Init ................................................................................................ 53</p>
<p> </p>
<p>8.3.2</p>
<p> </p>
<p>Spi_DeInit............................................................................................ 54</p>
<p> </p>
<p>8.3.3</p>
<p> </p>
<p>Spi_WriteIB ......................................................................................... 55</p>
<p> </p>
<p>8.3.4</p>
<p> </p>
<p>Spi_AsyncTransmit ............................................................................. 57</p>
<p> </p>
<p>8.3.5</p>
<p> </p>
<p>Spi_ReadIB ......................................................................................... 59</p>
<p> </p>
<p>8.3.6</p>
<p> </p>
<p>Spi_SetupEB ....................................................................................... 60</p>
<p> </p>
<p>8.3.7</p>
<p> </p>
<p>Spi_GetStatus ..................................................................................... 63</p>
<p> </p>
<p>8.3.8</p>
<p> </p>
<p>Spi_GetJobResult ............................................................................... 63</p>
<p> </p>
<p>8.3.9</p>
<p> </p>
<p>Spi_GetSequenceResult ..................................................................... 64</p>
<p> </p>
<p>8.3.10</p>
<p> </p>
<p>Spi_GetVersionInfo ............................................................................. 65</p>
<p> </p>
<p>8.3.11</p>
<p> </p>
<p>Spi_SyncTransmit ............................................................................... 66</p>
<p> </p>
<p>8.3.12</p>
<p> </p>
<p>Spi_GetHWUnitStatus ......................................................................... 67</p>
<p> </p>
<p>8.3.13</p>
<p> </p>
<p>Spi_Cancel .......................................................................................... 68</p>
<p> </p>
<p>8.3.14</p>
<p> </p>
<p>Spi_SetAsyncMode ............................................................................. 69</p>
<p> </p>
<p>8.4</p>
<p> </p>
<p>Callback notifications .................................................................................. 71</p>
<p> </p>
<p>8.5</p>
<p> </p>
<p>Scheduled functions ................................................................................... 71</p>
<p> </p>
<p>8.5.1</p>
<p> </p>
<p>Spi_MainFunction_Handling ............................................................... 71</p>
<p> </p>
<p>8.6</p>
<p> </p>
<p>Expected Interfaces .................................................................................... 71</p>
<p> </p>
<p>8.6.1</p>
<p> </p>
<p>Mandatory Interfaces .......................................................................... 71</p>
<p> </p>
<p>8.6.2</p>
<p> </p>
<p>Optional Interfaces .............................................................................. 71</p>
<p> </p>
<p>8.6.3</p>
<p> </p>
<p>Configurable interfaces ....................................................................... 72</p>
<p> </p>
<p>8.6.3.1</p>
<p> </p>
<p>Spi_JobEndNotification ................................................................... 73</p>
<p> </p>
<p>8.6.3.2</p>
<p> </p>
<p>Spi_SeqEndNotification ................................................................... 73</p>
<p> </p>
<p>9</p>
<p> </p>
<p>Sequence diagrams .......................................................................................... 75</p>
<p> </p>
<p>9.1</p>
<p> </p>
<p>Initialization ................................................................................................ 75</p>
<p> </p>
<p>9.2</p>
<p> </p>
<p>Modes transitions ....................................................................................... 75</p>
<p> </p>
<p>9.3</p>
<p> </p>
<p>Write/AsyncTransmit/Read (IB) .................................................................. 76</p>
<p> </p>
<p>9.3.1</p>
<p> </p>
<p>One Channel, one Job then one Sequence ........................................ 76</p>
<p> </p>
<p>9.3.2</p>
<p> </p>
<p>Many Channels, one Job then one Sequence .................................... 78</p>
<p> </p>
<p>9.3.3</p>
<p> </p>
<p>Many Channels, many Jobs and one Sequence ................................. 79</p>
<p> </p>
<p>9.3.4</p>
<p> </p>
<p>Many Channels, many Jobs and many Sequences ............................ 81</p>
<p> </p>
<p>9.4</p>
<p> </p>
<p>Setup/AsyncTransmit (EB) ......................................................................... 83</p>
<p> </p>
<p>9.4.1</p>
<p> </p>
<p>Variable Number of Data / Constant Number of Data ......................... 83</p>
<p> </p>
<p>9.4.2</p>
<p> </p>
<p>One Channel, one Job then one Sequence ........................................ 83</p>
<p> </p>
<p>9.4.3</p>
<p> </p>
<p>Many Channels, one Job then one Sequence .................................... 85</p>
<p> </p>
<p>9.4.4</p>
<p> </p>
<p>Many Channels, many Jobs and one Sequence ................................. 86</p>
<p> </p>
<p>9.4.5</p>
<p> </p>
<p>Many Channels, many Jobs and many Sequences ............................ 88</p>
<p> </p>
<p>9.5</p>
<p> </p>
<p>Mixed Jobs Transmission ........................................................................... 89</p>
<p> </p>
<p>9.6</p>
<p> </p>
<p>LEVEL 0 SyncTransmit diagrams............................................................... 91</p>
<p> </p>
<p>9.6.1</p>
<p> </p>
<p>Write/SyncTransmit/Read (IB): Many Channels, many Jobs and one </p>
<p>Sequence .......................................................................................................... 91</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>6 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>9.6.2</p>
<p> </p>
<p>Setup/SyncTransmit (EB): Many Channels, many Jobs and one </p>
<p>Sequence .......................................................................................................... 92</p>
<p> </p>
<p>10</p>
<p> </p>
<p>Configuration specification ............................................................................. 93</p>
<p> </p>
<p>10.1</p>
<p> </p>
<p>How to read this chapter ............................................................................ 93</p>
<p> </p>
<p>10.1.1</p>
<p> </p>
<p>Configuration and configuration parameters ....................................... 93</p>
<p> </p>
<p>10.1.2</p>
<p> </p>
<p>Containers ........................................................................................... 93</p>
<p> </p>
<p>10.1.3</p>
<p> </p>
<p>Specification template for configuration parameters ........................... 93</p>
<p> </p>
<p>10.2</p>
<p> </p>
<p>Containers and configuration parameters .................................................. 95</p>
<p> </p>
<p>10.2.1</p>
<p> </p>
<p>Variants ............................................................................................... 95</p>
<p> </p>
<p>10.2.2</p>
<p> </p>
<p>Spi ....................................................................................................... 95</p>
<p> </p>
<p>10.2.3</p>
<p> </p>
<p>SpiGeneral .......................................................................................... 95</p>
<p> </p>
<p>10.2.4</p>
<p> </p>
<p>SpiSequence ....................................................................................... 97</p>
<p> </p>
<p>10.2.5</p>
<p> </p>
<p>SpiChannel.......................................................................................... 98</p>
<p> </p>
<p>10.2.6</p>
<p> </p>
<p>SpiChannelList .................................................................................. 100</p>
<p> </p>
<p>10.2.7</p>
<p> </p>
<p>SpiJob ............................................................................................... 101</p>
<p> </p>
<p>10.2.8</p>
<p> </p>
<p>SpiExternalDevice ............................................................................. 103</p>
<p> </p>
<p>10.2.9</p>
<p> </p>
<p>SpiDriver ........................................................................................... 105</p>
<p> </p>
<p>10.2.10</p>
<p> </p>
<p>SpiPublishedInformation ................................................................ 106</p>
<p> </p>
<p>10.3</p>
<p> </p>
<p>Published information ............................................................................... 108</p>
<p> </p>
<p>10.4</p>
<p> </p>
<p>Configuration concept .............................................................................. 109</p>
<p> </p>
<p>11</p>
<p> </p>
<p>Not applicable requirements ........................................................................ 111</p>
<p> </p>
<p>12</p>
<p> </p>
<p>Appendix ...................................................................................................... 112</p>
<p> </p>
<p>13</p>
<p> </p>
<p>Changes to Release 1 ................................................................................. 114</p>
<p> </p>
<p>13.1</p>
<p> </p>
<p>Deleted SWS Items .................................................................................. 114</p>
<p> </p>
<p>13.2</p>
<p> </p>
<p>Replaced SWS Items ............................................................................... 114</p>
<p> </p>
<p>13.3</p>
<p> </p>
<p>Changed SWS Items ................................................................................ 114</p>
<p> </p>
<p>13.4</p>
<p> </p>
<p>Added SWS Items .................................................................................... 114</p>
<p> </p>
<p>14</p>
<p> </p>
<p>Changes during SWS Improvements by Technical Office ........................... 117</p>
<p> </p>
<p>14.1</p>
<p> </p>
<p>Deleted SWS Items .................................................................................. 117</p>
<p> </p>
<p>14.2</p>
<p> </p>
<p>Replaced SWS Items ............................................................................... 117</p>
<p> </p>
<p>14.3</p>
<p> </p>
<p>Changed SWS Items ................................................................................ 117</p>
<p> </p>
<p>14.4</p>
<p> </p>
<p>Added SWS Items .................................................................................... 117</p>
<p> </p>
<p>15</p>
<p> </p>
<p>Changes to Release 3 ................................................................................. 119</p>
<p> </p>
<p>15.1</p>
<p> </p>
<p>Deleted SWS Items .................................................................................. 119</p>
<p> </p>
<p>15.2</p>
<p> </p>
<p>Splitted SWS Items .................................................................................. 119</p>
<p> </p>
<p>15.3</p>
<p> </p>
<p>Changed SWS Items ................................................................................ 122</p>
<p> </p>
<p>15.4</p>
<p> </p>
<p>Added SWS Items .................................................................................... 122</p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>7 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>1 </b></p>
<p><b>Introduction and functional overview </b></p>
<p> </p>
<p>The  SPI  Handler/Driver  provides  services  for  reading  from  and  writing  to  devices </p>
<p>connected via SPI busses. It provides access to SPI communication to several users </p>
<p>(e.g. EEPROM, Watchdog, I/O ASICs). It also provides the required mechanism to </p>
<p>configure the onchip SPI peripheral. </p>
<p> </p>
<p>This  specification  describes  the  API  for  a  monolithic  SPI  Handler/Driver.  This  soft-</p>
<p>ware  module  includes  handling  and  driving  functionalities.  Main  objectives  of  this </p>
<p>monolithic  SPI  Handler/Driver  are  to  take  the  best  of each microcontroller features </p>
<p>and to allow implementation optimization depending on static configuration to fit as </p>
<p>much as possible to ECU needs. </p>
<p> </p>
<p>Hence, this specification defines selectable levels of functionalities and configurable </p>
<p>features to allow the design of a high scalable module that exploits the peculiarities of </p>
<p>the microcontroller. </p>
<p> </p>
<p>To configure the SPI Handler/Driver these steps shall be followed: </p>
<p>•</p>
<p> </p>
<p>SPI Handler/Driver Level of Functionality shall be selected and optional fea-</p>
<p>tures configured. </p>
<p>•</p>
<p> </p>
<p>SPI  Channels  shall  be  defined  according  to  data  usage,  and  they  could  be </p>
<p>buffered inside the SPI Handler/Driver (IB) or provided by the user (EB). </p>
<p>•</p>
<p> </p>
<p>SPI Jobs shall be defined according to HW properties (CS), and they will con-</p>
<p>tain a list of channels using those properties.  </p>
<p>•</p>
<p> </p>
<p>As a final step, Sequences of Jobs shall be defined, in order to transmit data </p>
<p>in a sorted way (priority sorted).  </p>
<p> </p>
<p>The general behaviour of the SPI Handler/Driver can be asynchronous or synchro-</p>
<p>nous according to the Level of Functionality selected. </p>
<p> </p>
<p>The  specification  covers  the  Handler/Driver  functionality  combined  in  one  single </p>
<p>module.  One  is  the  SPI  handling  part  that  handles  multiple  access  to  busses  that </p>
<p>could be located in the ECU Abstraction layer. The other part is the SPI driver that </p>
<p>accesses the microcontroller hardware directly that could be located in the Microcon-</p>
<p>troller Abstraction layer. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>8 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>2 </b></p>
<p><b>Acronyms and abbreviations </b></p>
<p> </p>
<p>Acronyms  and  abbreviations  which  have  a  local  scope  and  therefore  are  not  con-</p>
<p>tained in the AUTOSAR glossary must appear in a local glossary. </p>
<p> </p>
<p><i><b>Acronym: </b></i></p>
<p><i><b>Description: </b></i></p>
<p>DET </p>
<p>Development Error Tracer – module to which development errors are reported. </p>
<p>DEM </p>
<p>Diagnostic Event Manager – module to which production relevant errors are report-</p>
<p>ed. </p>
<p>SPI </p>
<p>Serial Peripheral Interface. It is exactly defined hereafter in this document.  </p>
<p>CS </p>
<p>Chip Select </p>
<p>MISO </p>
<p>Master Input Slave Output </p>
<p>MOSI </p>
<p>Master Output Slave Input </p>
<p> </p>
<p><i><b>Abbreviation: </b></i></p>
<p><i><b>Description: </b></i></p>
<p>EB </p>
<p>Externally buffered channels. Buffers containing data to transfer are outside the SPI </p>
<p>Handler/Driver. </p>
<p>IB </p>
<p>Internally buffered channels. Buffers containing data to transfer are inside the SPI </p>
<p>Handler/Driver.  </p>
<p>ID </p>
<p>Identification Number of an element (Channel, Job, Sequence). </p>
<p> </p>
<p><i><b>Definition: </b></i></p>
<p><i><b>Description: </b></i></p>
<p>Channel </p>
<p>A Channel is a software exchange medium for data that are defined with the same </p>
<p>criteria: Config. Parameters, Number of Data elements with same size and data </p>
<p>pointers (Source &amp; Destination) or location. </p>
<p>Job </p>
<p>A Job is composed of one or several Channels with the same Chip Select (is not </p>
<p>released during the processing of Job). A Job is considered atomic and therefore </p>
<p>cannot be interrupted by another Job. A Job has an assigned priority.  </p>
<p>Sequence </p>
<p>A Sequence is a number of consecutive Jobs to transmit but it can be rescheduled </p>
<p>between Jobs using a priority mechanism. A Sequence transmission is interruptible </p>
<p>(by another Sequence transmission) or not depending on a static configuration. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>9 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>3 </b></p>
<p><b>Related documentation </b></p>
<p> </p>
<p><b>3.1 </b></p>
<p><b>Input documents  </b></p>
<p> </p>
<p><b>[1]   </b></p>
<p>Layered Software Architecture </p>
<p>AUTOSAR_EXP_LayeredSoftwareArchitecture.pdf </p>
<p> </p>
<p><b>[2]   </b></p>
<p>General Requirements on SPAL </p>
<p>AUTOSAR_SRS_SPALGeneral.pdf </p>
<p> </p>
<p><b>[3]   </b></p>
<p>General Requirements on Basic Software Modules </p>
<p>AUTOSAR_SRS_BSWGeneral.pdf </p>
<p> </p>
<p><b>[4]   </b></p>
<p>Specification of Development Error Tracer </p>
<p>AUTOSAR_SWS_DevelopmentErrorTracer.pdf </p>
<p> </p>
<p><b>[5]   </b></p>
<p>Specification of ECU Configuration </p>
<p>AUTOSAR_TPS_ECUConfiguration.pdf  </p>
<p> </p>
<p><b>[6]   </b></p>
<p>Requirements on SPI Handler/Driver </p>
<p>AUTOSAR_SRS_SPIHandlerDriver.pdf  </p>
<p> </p>
<p><b>[7]   </b></p>
<p>Specification of Diagnostic Event Manager </p>
<p>AUTOSAR_SWS_DiagnosticEventManager.pdf </p>
<p> </p>
<p><b>[8]   </b></p>
<p>Glossary </p>
<p>AUTOSAR_TR_Glossary.pdf  </p>
<p> </p>
<p><b>[9]   </b></p>
<p>Specification of MCU Driver </p>
<p>AUTOSAR_SWS_MCUDriver .pdf </p>
<p> </p>
<p><b>[10] </b></p>
<p>Specification of PORT Driver </p>
<p>AUTOSAR_SWS_PORTDriver  </p>
<p> </p>
<p><b>[11] </b></p>
<p>Basic Software Module Description Template, </p>
<p>      AUTOSAR_TPS_BSWModuleDescriptionTemplate.pdf </p>
<p> </p>
<p><b>[12] </b></p>
<p>List of Basic Software Modules </p>
<p>AUTOSAR_TR_BSWModuleList </p>
<p> </p>
<p><b>[13] </b></p>
<p>Specification of Standard Types, </p>
<p>AUTOSAR_SWS_StandardTypes.pdf </p>
<p> </p>
<p><b>3.2 </b></p>
<p><b>Related standards and norms </b></p>
<p> </p>
<p>Not related. </p>
<p> </p>
<p><b>4 </b></p>
<p><b>Constraints and assumptions </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>10 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>4.1 </b></p>
<p><b>Limitations </b></p>
<p> </p>
<p><b>[SPI040] </b></p>
<p><b>⌈</b></p>
<p>The SPI Handler/Driver handles only the Master mode.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI050] </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver only supports full-duplex mode.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI108] </b></p>
<p>⌈</p>
<p>The LEVEL 2 SPI Handler/Driver is specified for microcontrollers that have </p>
<p>to provide, at least, two SPI busses using separated hardware units. Otherwise, us-</p>
<p>ing this level of functionality does not make sense.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>4.2 </b></p>
<p><b>Applicability to car domains </b></p>
<p> </p>
<p>No restrictions. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>11 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>5 </b></p>
<p><b>Dependencies to other modules </b></p>
<p> </p>
<p><b>[SPI239]  </b></p>
<p>⌈</p>
<p>SPI peripherals may depend on the system clock, prescaler(s) and PLL. </p>
<p>Thus, changes of the system clock (e.g. PLL on </p>
<p></p>
<p> PLL off) may also affect the clock </p>
<p>settings of the SPI hardware. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI244]  </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver module does not take care of setting the registers </p>
<p>which  configure  the  clock,  prescaler(s)  and  PLL  in  its  init  function.  This  has  to  be </p>
<p>done by the MCU module [9].</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI342]  </b></p>
<p>⌈</p>
<p>Depending on microcontrollers, the SPI peripheral could share registers </p>
<p>with other peripherals. In this typical case, the SPI Handler/Driver has a relationship </p>
<p>with MCU module [9] for initialising and de-initialising those registers.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI343]  </b></p>
<p>⌈</p>
<p>If Chip Selects are done using microcontroller pins the SPI Handler/Driver </p>
<p>has a relationship with PORT module [10]. In this case, this specification assumes </p>
<p>that these microcontroller pins are directly accessed by the SPI Handler/Driver mod-</p>
<p>ule without using APIs of DIO module. </p>
<p>Anyhow, the SPI depends on ECU hardware design and for that reason it may de-</p>
<p>pend on other modules.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>5.1 </b></p>
<p><b>File structure </b></p>
<p> </p>
<p><b>5.1.1 </b></p>
<p><b>Code file structure </b></p>
<p> </p>
<p><b>[SPI095]  </b></p>
<p>⌈</p>
<p>The code file structure shall not be defined within this specification com-</p>
<p>pletely.</p>
<p>⌋</p>
<p>(BSW00380, BSW00419, BSW158) </p>
<p> </p>
<p><b>[SPI277]  </b></p>
<p>⌈</p>
<p>The code-file structure shall include the file named Spi_Lcfg.c – for link </p>
<p>time and Spi_PBcfg.c – for post build time configurable parameters.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>12 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>5.1.2 </b></p>
<p><b>Header file structure </b></p>
<p> </p>
<p><b>[SPI092]  </b></p>
<p>⌈</p>
<p>The SPI module shall adhere to the following include file structure: Spi.c </p>
<p>shall include Spi.h, MemMap.h, Det.h and SchM_Spi.h. </p>
<p> </p>
<p> </p>
<p> </p>
<p>⌋</p>
<p>(BSW00412, BSW00415, BSW00435, BSW00436) </p>
<p> </p>
<p><b>[SPI272]  </b></p>
<p>⌈</p>
<p>Spi.h shall include Std_Types.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI273]  </b></p>
<p>⌈</p>
<p>Spi.h shall include Spi_Cfg.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI274]  </b></p>
<p>⌈</p>
<p>Spi_Xcfg.c shall include Spi.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI275]  </b></p>
<p>⌈</p>
<p>Spi_Xcfg.c shall include MemMap.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI276]  </b></p>
<p>⌈</p>
<p>Spi_Irq.c file could exist depending upon implementation and also it could </p>
<p>or not include Spi.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI158] </b></p>
<p>⌈</p>
<p>The SPI module shall optionally include the </p>
<p>Dem.h</p>
<p> file if any production </p>
<p>error will be issued by the implemetation. By this inclusion the APIs to report errors </p>
<p>as well as the required Event Id symbols are included.</p>
<p>⌋</p>
<p>(BSW00384) </p>
<p> </p>
<p><b>[SPI159] </b></p>
<p>⌈</p>
<p>The  DEM  configuration  tool  shall  assign  ECU  dependent  values  to  the </p>
<p>Event Id symbols and publish the symbols in </p>
<p>Dem_IntErrId.h</p>
<p>.</p>
<p>⌋</p>
<p>(BSW00384) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>13 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p>The names of the Event Id symbols which are provided by XML to the DEM configu-</p>
<p>ration tool are specified in this document. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>14 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>6 </b></p>
<p><b>Requirements traceability </b></p>
<p> </p>
<p> </p>
<p><b>Requirement </b></p>
<p><b>Satisfied by </b></p>
<p>- </p>
<p>SPI292 </p>
<p>- </p>
<p>SPI160 </p>
<p>- </p>
<p>SPI244 </p>
<p>- </p>
<p>SPI164 </p>
<p>- </p>
<p>SPI255 </p>
<p>- </p>
<p>SPI137 </p>
<p>- </p>
<p>SPI332 </p>
<p>- </p>
<p>SPI080 </p>
<p>- </p>
<p>SPI310 </p>
<p>- </p>
<p>SPI308 </p>
<p>- </p>
<p>SPI361 </p>
<p>- </p>
<p>SPI349 </p>
<p>- </p>
<p>SPI316 </p>
<p>- </p>
<p>SPI309 </p>
<p>- </p>
<p>SPI249 </p>
<p>- </p>
<p>SPI154 </p>
<p>- </p>
<p>SPI151 </p>
<p>- </p>
<p>SPI161 </p>
<p>- </p>
<p>SPI088 </p>
<p>- </p>
<p>SPI307 </p>
<p>- </p>
<p>SPI299 </p>
<p>- </p>
<p>SPI243 </p>
<p>- </p>
<p>SPI171 </p>
<p>- </p>
<p>SPI293 </p>
<p>- </p>
<p>SPI112 </p>
<p>- </p>
<p>SPI183 </p>
<p>- </p>
<p>SPI175 </p>
<p>- </p>
<p>SPI236 </p>
<p>- </p>
<p>SPI287 </p>
<p>- </p>
<p>SPI186 </p>
<p>- </p>
<p>SPI267 </p>
<p>- </p>
<p>SPI256 </p>
<p>- </p>
<p>SPI040 </p>
<p>- </p>
<p>SPI343 </p>
<p>- </p>
<p>SPI170 </p>
<p>- </p>
<p>SPI275 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>15 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>- </p>
<p>SPI185 </p>
<p>- </p>
<p>SPI341 </p>
<p>- </p>
<p>SPI117 </p>
<p>- </p>
<p>SPI143 </p>
<p>- </p>
<p>SPI030 </p>
<p>- </p>
<p>SPI363 </p>
<p>- </p>
<p>SPI297 </p>
<p>- </p>
<p>SPI037 </p>
<p>- </p>
<p>SPI326 </p>
<p>- </p>
<p>SPI131 </p>
<p>- </p>
<p>SPI302 </p>
<p>- </p>
<p>SPI188 </p>
<p>- </p>
<p>SPI129 </p>
<p>- </p>
<p>SPI322 </p>
<p>- </p>
<p>SPI036 </p>
<p>- </p>
<p>SPI368 </p>
<p>- </p>
<p>SPI269 </p>
<p>- </p>
<p>SPI023 </p>
<p>- </p>
<p>SPI270 </p>
<p>- </p>
<p>SPI140 </p>
<p>- </p>
<p>SPI239 </p>
<p>- </p>
<p>SPI152 </p>
<p>- </p>
<p>SPI184 </p>
<p>- </p>
<p>SPI176 </p>
<p>- </p>
<p>SPI311 </p>
<p>- </p>
<p>SPI286 </p>
<p>- </p>
<p>SPI246 </p>
<p>- </p>
<p>SPI328 </p>
<p>- </p>
<p>SPI086 </p>
<p>- </p>
<p>SPI108 </p>
<p>- </p>
<p>SPI300 </p>
<p>- </p>
<p>SPI150 </p>
<p>- </p>
<p>SPI342 </p>
<p>- </p>
<p>SPI156 </p>
<p>- </p>
<p>SPI344 </p>
<p>- </p>
<p>SPI364 </p>
<p>- </p>
<p>SPI260 </p>
<p>- </p>
<p>SPI133 </p>
<p>- </p>
<p>SPI289 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>16 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>- </p>
<p>SPI278 </p>
<p>- </p>
<p>SPI128 </p>
<p>- </p>
<p>SPI146 </p>
<p>- </p>
<p>SPI195 </p>
<p>- </p>
<p>SPI354 </p>
<p>- </p>
<p>SPI116 </p>
<p>- </p>
<p>SPI301 </p>
<p>- </p>
<p>SPI238 </p>
<p>- </p>
<p>SPI313 </p>
<p>- </p>
<p>SPI280 </p>
<p>- </p>
<p>SPI303 </p>
<p>- </p>
<p>SPI182 </p>
<p>- </p>
<p>SPI028 </p>
<p>- </p>
<p>SPI258 </p>
<p>- </p>
<p>SPI370 </p>
<p>- </p>
<p>SPI330 </p>
<p>- </p>
<p>SPI145 </p>
<p>- </p>
<p>SPI265 </p>
<p>- </p>
<p>SPI336 </p>
<p>- </p>
<p>SPI325 </p>
<p>- </p>
<p>SPI350 </p>
<p>- </p>
<p>SPI317 </p>
<p>- </p>
<p>SPI242 </p>
<p>- </p>
<p>SPI130 </p>
<p>- </p>
<p>SPI254 </p>
<p>- </p>
<p>SPI187 </p>
<p>- </p>
<p>SPI345 </p>
<p>- </p>
<p>SPI371 </p>
<p>- </p>
<p>SPI366 </p>
<p>- </p>
<p>SPI177 </p>
<p>- </p>
<p>SPI331 </p>
<p>- </p>
<p>SPI281 </p>
<p>- </p>
<p>SPI272 </p>
<p>- </p>
<p>SPI123 </p>
<p>- </p>
<p>SPI240 </p>
<p>- </p>
<p>SPI166 </p>
<p>- </p>
<p>SPI320 </p>
<p>- </p>
<p>SPI126 </p>
<p>- </p>
<p>SPI049 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>17 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>- </p>
<p>SPI295 </p>
<p>- </p>
<p>SPI355 </p>
<p>- </p>
<p>SPI157 </p>
<p>- </p>
<p>SPI347 </p>
<p>- </p>
<p>SPI196 </p>
<p>- </p>
<p>SPI334 </p>
<p>- </p>
<p>SPI277 </p>
<p>- </p>
<p>SPI082 </p>
<p>- </p>
<p>SPI012 </p>
<p>- </p>
<p>SPI179 </p>
<p>- </p>
<p>SPI266 </p>
<p>- </p>
<p>SPI285 </p>
<p>- </p>
<p>SPI169 </p>
<p>- </p>
<p>SPI359 </p>
<p>- </p>
<p>SPI138 </p>
<p>- </p>
<p>SPI189 </p>
<p>- </p>
<p>SPI027 </p>
<p>- </p>
<p>SPI358 </p>
<p>- </p>
<p>SPI081 </p>
<p>- </p>
<p>SPI172 </p>
<p>- </p>
<p>SPI141 </p>
<p>- </p>
<p>SPI290 </p>
<p>- </p>
<p>SPI114 </p>
<p>- </p>
<p>SPI262 </p>
<p>- </p>
<p>SPI250 </p>
<p>- </p>
<p>SPI264 </p>
<p>- </p>
<p>SPI288 </p>
<p>- </p>
<p>SPI155 </p>
<p>- </p>
<p>SPI362 </p>
<p>- </p>
<p>SPI136 </p>
<p>- </p>
<p>SPI360 </p>
<p>- </p>
<p>SPI261 </p>
<p>- </p>
<p>SPI321 </p>
<p>- </p>
<p>SPI351 </p>
<p>- </p>
<p>SPI282 </p>
<p>- </p>
<p>SPI304 </p>
<p>- </p>
<p>SPI338 </p>
<p>- </p>
<p>SPI273 </p>
<p>- </p>
<p>SPI144 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>18 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>- </p>
<p>SPI305 </p>
<p>- </p>
<p>SPI339 </p>
<p>- </p>
<p>SPI233 </p>
<p>- </p>
<p>SPI142 </p>
<p>- </p>
<p>SPI274 </p>
<p>- </p>
<p>SPI252 </p>
<p>- </p>
<p>SPI356 </p>
<p>- </p>
<p>SPI296 </p>
<p>- </p>
<p>SPI011 </p>
<p>- </p>
<p>SPI017 </p>
<p>- </p>
<p>SPI268 </p>
<p>- </p>
<p>SPI263 </p>
<p>- </p>
<p>SPI168 </p>
<p>- </p>
<p>SPI271 </p>
<p>- </p>
<p>SPI365 </p>
<p>- </p>
<p>SPI051 </p>
<p>- </p>
<p>SPI115 </p>
<p>- </p>
<p>SPI251 </p>
<p>- </p>
<p>SPI335 </p>
<p>- </p>
<p>SPI367 </p>
<p>- </p>
<p>SPI192 </p>
<p>- </p>
<p>SPI327 </p>
<p>- </p>
<p>SPI346 </p>
<p>- </p>
<p>SPI333 </p>
<p>- </p>
<p>SPI024 </p>
<p>- </p>
<p>SPI173 </p>
<p>- </p>
<p>SPI191 </p>
<p>- </p>
<p>SPI348 </p>
<p>- </p>
<p>SPI194 </p>
<p>- </p>
<p>SPI353 </p>
<p>- </p>
<p>SPI324 </p>
<p>- </p>
<p>SPI276 </p>
<p>- </p>
<p>SPI329 </p>
<p>- </p>
<p>SPI291 </p>
<p>- </p>
<p>SPI245 </p>
<p>- </p>
<p>SPI193 </p>
<p>- </p>
<p>SPI085 </p>
<p>- </p>
<p>SPI241 </p>
<p>- </p>
<p>SPI237 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>19 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>- </p>
<p>SPI352 </p>
<p>- </p>
<p>SPI314 </p>
<p>- </p>
<p>SPI253 </p>
<p>- </p>
<p>SPI178 </p>
<p>- </p>
<p>SPI298 </p>
<p>- </p>
<p>SPI257 </p>
<p>- </p>
<p>SPI259 </p>
<p>- </p>
<p>SPI337 </p>
<p>- </p>
<p>SPI165 </p>
<p>- </p>
<p>SPI318 </p>
<p>- </p>
<p>SPI294 </p>
<p>- </p>
<p>SPI167 </p>
<p>- </p>
<p>SPI319 </p>
<p>- </p>
<p>SPI323 </p>
<p>- </p>
<p>SPI149 </p>
<p>- </p>
<p>SPI181 </p>
<p>- </p>
<p>SPI312 </p>
<p>- </p>
<p>SPI306 </p>
<p>- </p>
<p>SPI279 </p>
<p>- </p>
<p>SPI180 </p>
<p>- </p>
<p>SPI139 </p>
<p>- </p>
<p>SPI340 </p>
<p>- </p>
<p>SPI357 </p>
<p>- </p>
<p>SPI315 </p>
<p>- </p>
<p>SPI283 </p>
<p>- </p>
<p>SPI135 </p>
<p>- </p>
<p>SPI050 </p>
<p>BSW00301 </p>
<p>SPI999 </p>
<p>BSW00302 </p>
<p>SPI999 </p>
<p>BSW00306 </p>
<p>SPI999 </p>
<p>BSW00307 </p>
<p>SPI999 </p>
<p>BSW00308 </p>
<p>SPI999 </p>
<p>BSW00309 </p>
<p>SPI999 </p>
<p>BSW00312 </p>
<p>SPI999 </p>
<p>BSW00323 </p>
<p>SPI029, SPI060, SPI031, SPI032 </p>
<p>BSW00324 </p>
<p>SPI999 </p>
<p>BSW00325 </p>
<p>SPI999 </p>
<p>BSW00326 </p>
<p>SPI999 </p>
<p>BSW00327 </p>
<p>SPI004 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>20 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>BSW00328 </p>
<p>SPI999 </p>
<p>BSW00330 </p>
<p>SPI999 </p>
<p>BSW00331 </p>
<p>SPI999 </p>
<p>BSW00334 </p>
<p>SPI999 </p>
<p>BSW00335 </p>
<p>SPI019, SPI061, SPI062 </p>
<p>BSW00336 </p>
<p>SPI022, SPI021 </p>
<p>BSW00337 </p>
<p>SPI098, SPI097, SPI007, SPI004 </p>
<p>BSW00338 </p>
<p>SPI100 </p>
<p>BSW00339 </p>
<p>SPI099, SPI006 </p>
<p>BSW00341 </p>
<p>SPI999 </p>
<p>BSW00342 </p>
<p>SPI999 </p>
<p>BSW00343 </p>
<p>SPI999 </p>
<p>BSW00344 </p>
<p>SPI009 </p>
<p>BSW00347 </p>
<p>SPI999 </p>
<p>BSW00350 </p>
<p>SPI005 </p>
<p>BSW00355 </p>
<p>SPI999 </p>
<p>BSW00357 </p>
<p>SPI174 </p>
<p>BSW00359 </p>
<p>SPI048 </p>
<p>BSW00360 </p>
<p>SPI048 </p>
<p>BSW00369 </p>
<p>SPI029, SPI006, SPI005, SPI048 </p>
<p>BSW00375 </p>
<p>SPI999 </p>
<p>BSW00380 </p>
<p>SPI095 </p>
<p>BSW00384 </p>
<p>SPI159, SPI158 </p>
<p>BSW00385 </p>
<p>SPI007, SPI004 </p>
<p>BSW00386 </p>
<p>SPI029, SPI005 </p>
<p>BSW00399 </p>
<p>SPI999 </p>
<p>BSW004 </p>
<p>SPI069, SPI369 </p>
<p>BSW00400 </p>
<p>SPI999 </p>
<p>BSW00401 </p>
<p>SPI999 </p>
<p>BSW00405 </p>
<p>SPI013, SPI008 </p>
<p>BSW00406 </p>
<p>SPI015, SPI046 </p>
<p>BSW00407 </p>
<p>SPI102, SPI101 </p>
<p>BSW00409 </p>
<p>SPI097 </p>
<p>BSW00411 </p>
<p>SPI102 </p>
<p>BSW00412 </p>
<p>SPI092 </p>
<p>BSW00413 </p>
<p>SPI999 </p>
<p>BSW00415 </p>
<p>SPI092 </p>
<p>BSW00416 </p>
<p>SPI999 </p>
<p>BSW00417 </p>
<p>SPI999 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>21 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>BSW00419 </p>
<p>SPI095 </p>
<p>BSW00420 </p>
<p>SPI999 </p>
<p>BSW00421 </p>
<p>SPI099, SPI006 </p>
<p>BSW00422 </p>
<p>SPI999 </p>
<p>BSW00423 </p>
<p>SPI999 </p>
<p>BSW00424 </p>
<p>SPI999 </p>
<p>BSW00426 </p>
<p>SPI999 </p>
<p>BSW00427 </p>
<p>SPI999 </p>
<p>BSW00428 </p>
<p>SPI999 </p>
<p>BSW00429 </p>
<p>SPI999 </p>
<p>BSW00431 </p>
<p>SPI999 </p>
<p>BSW00432 </p>
<p>SPI999 </p>
<p>BSW00433 </p>
<p>SPI999 </p>
<p>BSW00434 </p>
<p>SPI999 </p>
<p>BSW00435 </p>
<p>SPI092 </p>
<p>BSW00436 </p>
<p>SPI092 </p>
<p>BSW005 </p>
<p>SPI999 </p>
<p>BSW006 </p>
<p>SPI999 </p>
<p>BSW009 </p>
<p>SPI999 </p>
<p>BSW010 </p>
<p>SPI999 </p>
<p>BSW101 </p>
<p>SPI013, SPI015 </p>
<p>BSW12024 </p>
<p>SPI008, SPI063 </p>
<p>BSW12025 </p>
<p>SPI009, SPI008, SPI052, SPI053, SPI063 </p>
<p>BSW12026 </p>
<p>SPI009 </p>
<p>BSW12032 </p>
<p>SPI009, SPI066 </p>
<p>BSW12033 </p>
<p>SPI009, SPI066 </p>
<p>BSW12037 </p>
<p>SPI014, SPI124, SPI127, SPI059 </p>
<p>BSW12056 </p>
<p>SPI009, SPI054, SPI064, SPI044 </p>
<p>BSW12057 </p>
<p>SPI013, SPI015 </p>
<p>BSW12063 </p>
<p>SPI999 </p>
<p>BSW12064 </p>
<p>SPI025, SPI021 </p>
<p>BSW12067 </p>
<p>SPI999 </p>
<p>BSW12068 </p>
<p>SPI999 </p>
<p>BSW12069 </p>
<p>SPI999 </p>
<p>BSW12075 </p>
<p>SPI053 </p>
<p>BSW12077 </p>
<p>SPI999 </p>
<p>BSW12078 </p>
<p>SPI999 </p>
<p>BSW12092 </p>
<p>SPI999 </p>
<p>BSW12093 </p>
<p>SPI010, SPI009, SPI034, SPI041 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>22 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>BSW12094 </p>
<p>SPI009, SPI066 </p>
<p>BSW12099 </p>
<p>SPI016, SPI020, SPI162, SPI163 </p>
<p>BSW12101 </p>
<p>SPI018, SPI020, SPI162, SPI163 </p>
<p>BSW12103 </p>
<p>SPI020, SPI058, SPI053, SPI067, SPI162, SPI163 </p>
<p>BSW12104 </p>
<p>SPI025, SPI026, SPI039 </p>
<p>BSW12108 </p>
<p>SPI120, SPI118, SPI119, SPI057 </p>
<p>BSW12125 </p>
<p>SPI013, SPI009, SPI008 </p>
<p>BSW12129 </p>
<p>SPI999 </p>
<p>BSW12150 </p>
<p>SPI093, SPI009, SPI064 </p>
<p>BSW12152 </p>
<p>SPI016, SPI134 </p>
<p>BSW12153 </p>
<p>SPI018, SPI134 </p>
<p>BSW12154 </p>
<p>SPI134 </p>
<p>BSW12163 </p>
<p>SPI022, SPI021 </p>
<p>BSW12170 </p>
<p>SPI084, SPI042 </p>
<p>BSW12179 </p>
<p>SPI003, SPI009, SPI064, SPI065 </p>
<p>BSW12180 </p>
<p>SPI003, SPI065 </p>
<p>BSW12181 </p>
<p>SPI055, SPI065 </p>
<p>BSW12197 </p>
<p>SPI063 </p>
<p>BSW12198 </p>
<p>SPI077, SPI053 </p>
<p>BSW12199 </p>
<p>SPI003, SPI064, SPI065 </p>
<p>BSW12200 </p>
<p>SPI077, SPI003, SPI053, SPI065, SPI035 </p>
<p>BSW12201 </p>
<p>SPI077, SPI003, SPI065, SPI035 </p>
<p>BSW12202 </p>
<p>SPI078, SPI053 </p>
<p>BSW12253 </p>
<p>SPI078, SPI052 </p>
<p>BSW12256 </p>
<p>SPI009, SPI008, SPI034 </p>
<p>BSW12257 </p>
<p>SPI010, SPI009, SPI008, SPI066, SPI065, SPI063, SPI034 </p>
<p>BSW12258 </p>
<p>SPI003, SPI009, SPI065 </p>
<p>BSW12259 </p>
<p>SPI009 </p>
<p>BSW12260 </p>
<p>SPI093, SPI014, SPI002, SPI009, SPI059, SPI064 </p>
<p>BSW12261 </p>
<p>SPI003, SPI053, SPI065 </p>
<p>BSW12262 </p>
<p>SPI078, SPI003, SPI053, SPI065 </p>
<p>BSW12265 </p>
<p>SPI999 </p>
<p>BSW12267 </p>
<p>SPI999 </p>
<p>BSW13400 </p>
<p>SPI110 </p>
<p>BSW13401 </p>
<p>SPI109, SPI121, SPI122, SPI125, SPI111 </p>
<p>BSW157 </p>
<p>SPI075, SPI073, SPI026, SPI057, SPI071, SPI038, SPI039, SPI042 </p>
<p>BSW158 </p>
<p>SPI095 </p>
<p>BSW161 </p>
<p>SPI999 </p>
<p>BSW164 </p>
<p>SPI999 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>23 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>BSW168 </p>
<p>SPI999 </p>
<p>BSW170 </p>
<p>SPI999 </p>
<p>BSW172 </p>
<p>SPI999 </p>
<p> </p>
<p> </p>
<p>Document: AUTOSAR requirements on Basic Software, general </p>
<p> </p>
<p><i><b>Requirement </b></i></p>
<p><i><b>Satisfied by </b></i></p>
<p>[BSW003] Version identification </p>
<p>SPI068 SPI089 </p>
<p>[BSW004] Version check </p>
<p>SPI369 </p>
<p>[BSW00300] Module naming convention  </p>
<p>Chapter 5.1 </p>
<p>[BSW00301] Limit imported information  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00302] Limit exported information  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00304] AUTOSAR integer data types  </p>
<p>Chapters 5.1.2, 8.2, 10.2 and 10.3 </p>
<p>[BSW00305] Self-defined data types naming con-</p>
<p>vention  </p>
<p>Chapter 8.2 </p>
<p>[BSW00306] Avoid direct use of compiler and </p>
<p>platform specific keywords  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00307] Global variables naming convention  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00308] Definition of global data  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00309] Global data with read-only constraint   Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00310] API naming convention  </p>
<p>Chapter 8.3 </p>
<p>[BSW00312] Shared code shall be reentrant  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00314] Separation of interrupt frames and </p>
<p>service routines  </p>
<p>Chapter 5.1 </p>
<p>[BSW00318] Format of module version numbers  </p>
<p>SPI068 </p>
<p>[BSW00321] Enumeration of module version </p>
<p>numbers  </p>
<p>SPI068 </p>
<p>[BSW00323] API parameter checking </p>
<p>SPI029 SPI031 SPI032 SPI060 </p>
<p>[BSW00324] Do not use HIS I/O Library  </p>
<p>Not applicable </p>
<p>(requirement on AUTOSAR architecture, not a </p>
<p>single module) </p>
<p>[BSW00325] Runtime of interrupt service routines  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW00326] Transition from ISRs to OS tasks  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW00327] Error values naming convention </p>
<p>SPI004 </p>
<p>[BSW00328] Avoid duplication of code  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00329] Avoidance of generic interfaces  </p>
<p>Chapter 8 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>24 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>[BSW00330] Usage of macros / inline functions </p>
<p>instead of functions  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00331] Separation of error and status values   Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00333] Documentation of callback function </p>
<p>context  </p>
<p>Chapters 8.6.3.1 and 8.6.3.2 </p>
<p>[BSW00334] Provision of XML file  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00335] Status values naming convention </p>
<p>SPI061 SPI062 SPI019 </p>
<p>[BSW00336] Shutdown interface </p>
<p>SPI021 SPI022 </p>
<p>[BSW00337] Classification of errors </p>
<p>SPI004 SPI007 SPI097 SPI098 </p>
<p>[BSW00338] Reporting of development errors </p>
<p>SPI100 </p>
<p>[BSW00339] Reporting of production relevant </p>
<p>error status </p>
<p>SPI006 SPI099 and Chapter 8.6.2 </p>
<p>[BSW00341] Microcontroller compatibility docu-</p>
<p>mentation  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00342] Usage of source code and object </p>
<p>code  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00343] Specification and configuration of </p>
<p>time  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00344] Reference to link-time configuration </p>
<p>SPI009 SPI091 </p>
<p>[BSW00345] Pre-compile-time configuration </p>
<p>SPI056 </p>
<p>[BSW00347] Naming separation of different in-</p>
<p>stances of BSW drivers  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00348] Standard type header  </p>
<p>Chapter 8.1 </p>
<p>[BSW00350] Development error detection </p>
<p>keywords </p>
<p>SPI005 SPI103 SPI056 </p>
<p>[BSW00353] Platform specific type header  </p>
<p>Chapter 8.1 </p>
<p>[BSW00355] Do not redefine AUTOSAR integer </p>
<p>data types  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00357] Standard API return type </p>
<p>SPI174 Chapter 8.3 </p>
<p>[BSW00358] Return type of init() functions </p>
<p>Chapter 8.3.1 </p>
<p>[BSW00359] Return type of callback functions </p>
<p>SPI048 </p>
<p>[BSW00360] Parameters of callback functions </p>
<p>SPI048 </p>
<p>[BSW00361] Compiler specific language exten-</p>
<p>sion header  </p>
<p>Chapter 5.1.2 </p>
<p>[BSW00369] Do not return development error </p>
<p>codes via API  </p>
<p>SPI005 SPI029 SPI048 SPI006 </p>
<p>[BSW00370] Separation of callback interface from </p>
<p>API  </p>
<p>Chapter 8.4 </p>
<p>[BSW00371] Do not pass function pointers via API   Chapters 8.6.3, 10.2 </p>
<p>[BSW00373] Main processing function naming </p>
<p>convention  </p>
<p>Chapter 8.5 </p>
<p>[BSW00374] Module vendor identification  </p>
<p>SPI068 SPI089 </p>
<p>[BSW00375] Notification of wake-up reason </p>
<p>Not applicable.  </p>
<p>(Only master mode is supported. Master mode </p>
<p>does not provide wake up events.) </p>
<p>[BSW00376] Return type and parameters of main </p>
<p>processing functions  </p>
<p>Chapter 8.5 </p>
<p>[BSW00377] Module specific API return types  </p>
<p>Chapters 0, 8.2.3 and 8.2.4 </p>
<p>[BSW00378] AUTOSAR boolean type  </p>
<p>SPI105 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>25 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>[BSW00379] Module identification  </p>
<p>SPI068 SPI089 </p>
<p>[BSW00380] Separate C-Files for configuration </p>
<p>parameters </p>
<p>SPI095 </p>
<p>[BSW00381] Separate configuration header file </p>
<p>for pre-compile time parameters  </p>
<p>SPI103 </p>
<p>[BSW00383] List dependencies of configuration </p>
<p>files  </p>
<p>Chapter 5 </p>
<p>[BSW00384] List dependencies to other modules  </p>
<p>Chapter 5, SPI158 SPI159 </p>
<p>[BSW00385] List possible error notifications  </p>
<p>SPI004 SPI007 </p>
<p>[BSW00386] Configuration for detecting an error  </p>
<p>SPI005 SPI029 </p>
<p>[BSW00387] Specify the configuration class of </p>
<p>callback function  </p>
<p>Chapters 8.4 and 8.6.3 </p>
<p>[BSW00388] Introduce containers  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00389] Containers shall have names  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00390] Parameter content shall be unique </p>
<p>within the module  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>SPI068</p>
<p> </p>
<p>[BSW00391] Parameter shall have unique names  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>SPI068</p>
<p> </p>
<p>[BSW00392] Parameters shall have a type  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00393] Parameters shall have a range  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00394] Specify the scope of the parameters  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00395] List the required parameters (per </p>
<p>parameter)  </p>
<p>SPI103 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00396] Configuration classes  </p>
<p>SPI056 SPI076 SPI103 SPI091 SPI104 SPI105 </p>
<p>SPI106 </p>
<p>[BSW00397] Pre-compile-time parameters  </p>
<p>SPI056 SPI103 </p>
<p>[BSW00398] Link-time parameters  </p>
<p>SPI076 SPI091 SPI104 SPI105 SPI106 </p>
<p>[BSW00399] Loadable Post-build time parameters   Non applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on ECU integration.) </p>
<p>[BSW004] Version check </p>
<p>SPI069 </p>
<p>[BSW00400] Selectable Post-build time parame-</p>
<p>ters  </p>
<p>Non applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on ECU integration.) </p>
<p>[BSW00401] Documentation of multiple instances </p>
<p>of configuration parameters  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00402] Published information  </p>
<p>SPI068 SPI089 </p>
<p>[BSW00404] Reference to post build time </p>
<p>configuration  </p>
<p>SPI148 </p>
<p>[BSW00405] Reference to multiple configuration </p>
<p>sets  </p>
<p>SPI008 SPI013 SPI076 SPI148 </p>
<p>[BSW00406] Check module initialization  </p>
<p>SPI015 SPI046 </p>
<p>[BSW00407] Function to read out published pa-</p>
<p>rameters  </p>
<p>SPI101 SPI102 </p>
<p>[BSW00408] Configuration parameter naming </p>
<p>convention  </p>
<p>Chapter 10.2 </p>
<p>[BSW00409] Header files for production code </p>
<p>error IDs  </p>
<p>SPI097 </p>
<p>[BSW00410] Compiler switches shall have de-</p>
<p>fined values  </p>
<p>SPI103 </p>
<p>[BSW00411] Get version info keyword  </p>
<p>SPI102 </p>
<p>[BSW00412] Separate H-File for configuration </p>
<p>parameters  </p>
<p>SPI092 </p>
<p>[BSW00413] Accessing instances of BSW mod-</p>
<p>ules  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00414] Parameter of init function  </p>
<p>Chapter 8.3.1 </p>
<p>[BSW00415] User dependent include files  </p>
<p>SPI092 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>26 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>[BSW00416] Sequence of Initialization  </p>
<p>Not applicable  </p>
<p>(this is a general software integration requirement) </p>
<p>[BSW00417] Reporting of Error Events by Non-</p>
<p>Basic Software  </p>
<p>Not applicable  </p>
<p>(applies only for non BSW modules) </p>
<p>[BSW00419] Separate C-Files for pre-compile </p>
<p>time configuration parameters  </p>
<p>SPI095 </p>
<p>[BSW00420] Production relevant error event rate </p>
<p>detection  </p>
<p>Not applicable  </p>
<p>(applies only for DEM) </p>
<p>[BSW00421] Reporting of production relevant </p>
<p>error events  </p>
<p>SPI006 SPI099 and Chapter 8.6.2 </p>
<p>[BSW00422] Debouncing of production relevant </p>
<p>error status  </p>
<p>Not applicable  </p>
<p>(applies only for DEM) </p>
<p>[BSW00423] Usage of SW-C template to describe </p>
<p>BSW modules with AUTOSAR Interfaces  </p>
<p>Not applicable  </p>
<p>(EEPROM driver has no Autosar Interface) </p>
<p>[BSW00424] BSW main processing function task </p>
<p>allocation  </p>
<p>Not applicable  </p>
<p>(this is a general software integration requirement) </p>
<p>[BSW00425] Trigger conditions for schedulable </p>
<p>objects  </p>
<p>Chapter 8.5 </p>
<p>[BSW00426] Exclusive areas in BSW modules  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW00427] ISR description for BSW modules  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW00428] Execution order dependencies of </p>
<p>main processing functions  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW00429] Restricted BSW OS functionality </p>
<p>access  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00431] The BSW Scheduler module imple-</p>
<p>ments task bodies  </p>
<p>Not applicable  </p>
<p>(SPI Handler/Driver Module is not the BSW </p>
<p>Scheduler) </p>
<p>[BSW00432] Modules should have separate main </p>
<p>processing functions for read/receive and </p>
<p>write/transmit data path  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW00433] Calling of main processing functions  </p>
<p>Not applicable  </p>
<p>(this is a general software integration requirement) </p>
<p>[BSW00434] The Schedule Module shall provide </p>
<p>an API for exclusive areas  </p>
<p>Not applicable  </p>
<p>(SPI Handler/Driver Module is not the BSW </p>
<p>Scheduler) </p>
<p>[BSW00435] Module Header File Structure for the </p>
<p>Basic Software Scheduler </p>
<p>SPI092 </p>
<p>[BSW00436] Module Header File Structure for the </p>
<p>Memory Mapping </p>
<p>SPI092 </p>
<p>[BSW005] No hard coded horizontal interfaces </p>
<p>within MCAL  </p>
<p>Not applicable </p>
<p>(requirement on AUTOSAR architecture, not a </p>
<p>single module) </p>
<p>[BSW006] Platform independency  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW007] HIS MISRA C  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW009] Module User Documentation  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>27 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>[BSW010] Memory resource documentation  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW101] Initialization interface </p>
<p>SPI013 SPI015 </p>
<p>[BSW158] Separation of configuration from im-</p>
<p>plementation  </p>
<p>SPI103 SPI091 SPI089 SPI095 </p>
<p>[BSW159] Tool-based configuration </p>
<p>Both static and runtime configuration parameters </p>
<p>are located outside the source code of the mod-</p>
<p>ule. This is the prerequisite for automatic configu-</p>
<p>ration. </p>
<p>[BSW160] Human-readable configuration data </p>
<p>Requirement on configuration methodology and </p>
<p>tools </p>
<p>[BSW161] Microcontroller abstraction  </p>
<p>Not applicable </p>
<p>(requirement on AUTOSAR architecture, not a </p>
<p>single module) </p>
<p>[BSW162] ECU layout abstraction  </p>
<p>Not applicable </p>
<p>(requirement on AUTOSAR architecture, not a </p>
<p>single module) </p>
<p>[BSW164] Implementation of interrupt service </p>
<p>routines  </p>
<p>Not applicable </p>
<p>(Cannot be detailed at this point of time, because </p>
<p>this depends on module implementation.) </p>
<p>[BSW167] Static configuration checking </p>
<p>Requirement on configuration tool </p>
<p>[BSW168] Diagnostic Interface of SW </p>
<p>components </p>
<p>Not applicable (no use case) </p>
<p>[BSW170] Data for reconfiguration of AUTOSAR </p>
<p>SW-Components </p>
<p>Not applicable  </p>
<p>(requirement on SW Component) </p>
<p>[BSW171] Configurability of optional functionality </p>
<p>Conflicts partly with SPAL requirement </p>
<p>[BSW12263] Configuration after compile time. </p>
<p>[BSW172] Compatibility and documentation of </p>
<p>scheduling strategy  </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p> </p>
<p> </p>
<p>Document: AUTOSAR requirements on Basic Software, cluster SPAL </p>
<p> </p>
<p><i><b>Requirement </b></i></p>
<p><i><b>Satisfied by </b></i></p>
<p>[BSW12263] Object code compatible </p>
<p>configuration concept </p>
<p>SPI076 </p>
<p>[BSW12056] Configuration of notification mecha-</p>
<p>nisms  </p>
<p>SPI009 SPI064 SPI044 SPI054 </p>
<p>[BSW12267] Configuration of wake-up sources </p>
<p>Not applicable. ( </p>
<p>Only master mode is supported. Master mode </p>
<p>does not provide wake up events.) </p>
<p>[BSW12057] Driver module initialization  </p>
<p>SPI013 SPI015 </p>
<p>[BSW12125] Initialization of hardware resources  </p>
<p>SPI013 SPI008 SPI009 </p>
<p>[BSW12163] Driver module deinitialization </p>
<p>SPI021 SPI022 </p>
<p>[BSW12461] Responsibility for register </p>
<p>initialization </p>
<p>See chapter 5 </p>
<p>[BSW12462] Provide settings for register </p>
<p>initialization </p>
<p>Cannot be detailed at this point of time, because </p>
<p>this depends on SPI hardware and implementa-</p>
<p>tion. </p>
<p>[BSW12463] Combine and forward settings for </p>
<p>register initialization </p>
<p>Cannot be detailed at this point of time (see </p>
<p>above) </p>
<p>[BSW12068] MCAL initialization sequence </p>
<p>Not applicable  </p>
<p>(this is a general software integration requirement) </p>
<p>[BSW12069] Wake-up notification of ECU State </p>
<p>Manager </p>
<p>Not applicable  </p>
<p>(the SPI does not cause any wake-ups) </p>
<p>[BSW157] Notification mechanisms of drivers and </p>
<p>SPI026 SPI038 SPI039 SPI042 SPI057 SPI071 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>28 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>handlers </p>
<p>SPI073 SPI075 </p>
<p>[BSW12169] Control of operation mode  </p>
<p>Chapter 9.2 </p>
<p>[BSW12063] Raw value mode </p>
<p>Not applicable (no I/O functionality) </p>
<p>[BSW12075] Use of application buffers </p>
<p>SPI053  </p>
<p>[BSW12129] Resetting of interrupt flags </p>
<p>No Applicable to the Handler API but shall be </p>
<p>define for the Driver API. </p>
<p>[BSW12064] Change of operation mode during </p>
<p>running operation </p>
<p>Chapter 9.2, SPI025 SPI021 </p>
<p>[BSW12448] Behavior after development error </p>
<p>detection </p>
<p>Chapters 7.5.1 and 7.5.2 </p>
<p>[BSW12067] Setting of wake-up conditions </p>
<p>Not applicable (the SPI resource does not cause </p>
<p>any wake-ups) </p>
<p>[BSW12077] Non-blocking implementation </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW12078] Runtime and memory efficiency </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW12092] Access to drivers </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW12265] Configuration data shall be kept </p>
<p>constant </p>
<p>Not applicable </p>
<p>(requirement on implementation, not on specifica-</p>
<p>tion) </p>
<p>[BSW12264] Specification of configuration items </p>
<p>Chapter 10.2 </p>
<p> </p>
<p>Document: AUTOSAR requirements on Basic Software, SPI Handler/Driver </p>
<p> </p>
<p><i><b>Requirement </b></i></p>
<p><i><b>Satisfied by </b></i></p>
<p>[BSW12093] SPI Channel support </p>
<p>SPI009 SPI010 SPI034 SPI041 </p>
<p>[BSW12094] Chip select </p>
<p>SPI009 SPI066 </p>
<p>[BSW12256] Support of all Controller Peripherals </p>
<p>SPI008 SPI009 SPI034 </p>
<p>[BSW12257] Support of chained HW devices </p>
<p>SPI008 SPI063 SPI009 SPI010 SPI034 SPI065 </p>
<p>SPI066 </p>
<p>[BSW13400] Scalable functionality </p>
<p>SPI110 Chapters 7.2.1 and 7.2.4 </p>
<p>[BSW12025] Configuration of SPI general SW </p>
<p>and HW properties </p>
<p>SPI008 SPI009 SPI063 SPI052 SPI053 </p>
<p>[BSW12179] SPI Channel linkage  </p>
<p>SPI009 SPI003 SPI064 SPI065 </p>
<p>[BSW12026] Assignment of SPI Channel to SPI </p>
<p>HW Unit </p>
<p>SPI009 </p>
<p>[BSW12197] Definition of data width </p>
<p>SPI063 </p>
<p>[BSW13401] Statically configurable functionali-</p>
<p>ties </p>
<p>SPI109 SPI111 SPI121 SPI122 SPI125 </p>
<p>[BSW12258] Data shall be accessible device </p>
<p>individually </p>
<p>SPI003 SPI065 SPI009 </p>
<p>[BSW12259] Support of different timing and HW </p>
<p>parameters </p>
<p>SPI009 </p>
<p>[BSW12260] Support of different priorities of </p>
<p>sequences </p>
<p>SPI009 SPI064 SPI002 SPI014 SPI059 SPI093 </p>
<p>[BSW12180] Handling of single SPI channels </p>
<p>SPI003 SPI065 </p>
<p>[BSW12181] Handling of linked SPI channels </p>
<p>SPI065 SPI055 </p>
<p>[BSW12032] Chip select mode – normal mode </p>
<p>SPI009 SPI066 </p>
<p>[BSW12033] Chip select mode – hold mode </p>
<p>SPI009 SPI066 </p>
<p>[BSW12198] Transfer one short data sequence </p>
<p>with variable data </p>
<p>SPI053 SPI077 </p>
<p>[BSW12253] Transfer one short data sequence </p>
<p>with constant data </p>
<p>SPI052 SPI078 </p>
<p>[BSW12199] Transfer data to several devices in </p>
<p>SPI065 SPI003 SPI064 </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>29 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>one Sequence </p>
<p>[BSW12200] Read large data sequences from </p>
<p>one slave device using dummy send data </p>
<p>SPI053 SPI065 SPI003 SPI035 SPI077 </p>
<p>[BSW12261] Read large data sequences from </p>
<p>one slave device using variable send data </p>
<p>SPI053 SPI065 SPI003 </p>
<p>[BSW12201] Read large data sequences from </p>
<p>several slave devices using dummy send data </p>
<p>SPI065 SPI003 SPI035 SPI077 </p>
<p>[BSW12262] Read large data sequences from </p>
<p>several slave devices using variable send data </p>
<p>SPI053 SPI065 SPI003 SPI078 </p>
<p>[BSW12202] Support of variable data length </p>
<p>SPI053 SPI078 </p>
<p>[BSW12024] Configuration of SPI HW Unit </p>
<p>SPI008 SPI063 </p>
<p>[BSW12150] Configuration of SPI asynchronous </p>
<p>SW and HW properties </p>
<p>SPI009 SPI064 SPI093 </p>
<p>[BSW12108] Callback notification </p>
<p>Chapter 8.6.3 SPI057 SPI118 SPI119 SPI120 </p>
<p>[BSW12099] Asynchronous Read Functionality </p>
<p>SPI020 SPI162 SPI163 SPI016 SPI020 </p>
<p>[BSW12101] Asynchronous Write Functionality </p>
<p>SPI020 SPI162 SPI163 SPI018 SPI020 </p>
<p>[BSW12103] Asynchronous Read-Write Func-</p>
<p>tionality </p>
<p>SPI020 SPI053 SPI058 SPI067 </p>
<p>[BSW12037] Job Management Strategy – Priority </p>
<p>controlled </p>
<p>Chapter 7.2.3, 7.2.4 and 7.3 SPI014 SPI059 </p>
<p>SPI124 SPI127 </p>
<p>[BSW12104] SPI status functionality </p>
<p>SPI025 SPI026 SPI039 </p>
<p>[BSW12170] Concurrent Channel access </p>
<p>SPI042 SPI084 </p>
<p>[BSW12152] Synchronous Read Function </p>
<p>Chapter 7.2.2 SPI134 SPI016  </p>
<p>[BSW12153] Synchronous Write Function </p>
<p>Chapter 7.2.2 SPI134 SPI018  </p>
<p>[BSW12154] Synchronous Write-Read Function </p>
<p>Chapter 7.2.2 SPI134  </p>
<p>[BSW12151] Job Management Strategy – Order </p>
<p>of requests </p>
<p>Chapter 7.2.2  </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>30 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>7 </b></p>
<p><b>Functional specification </b></p>
<p> </p>
<p>The SPI (Serial Peripheral Interface) has a 4-wire synchronous serial interface. Data </p>
<p>communication is enabled with a Chip select wire (CS). Data is transmitted with a 3-</p>
<p>wire interface consisting of wires for serial data output (MOSI), serial data input (MI-</p>
<p>SO) and serial clock (CLOCK). </p>
<p> </p>
<p> </p>
<p><b>7.1 </b></p>
<p><b>Overall view of functionalities and features </b></p>
<p> </p>
<p>This specification is based on previous specification experiences and also based on </p>
<p>predominant identified use cases. The intention of this section is to summarize how </p>
<p>the scalability of this monolithic SPI Handler/Driver allows getting a simple software </p>
<p>module  that  fits  simple  needs  up  to  a  smart  software  module  that  fits  enhanced </p>
<p>needs. </p>
<p> </p>
<p> </p>
<p> </p>
<p>This document specifies the following 3 Levels of Scalable Functionality for the SPI </p>
<p>Handler/Driver: </p>
<p>•</p>
<p> </p>
<p>LEVEL  0, <i><b> Simple  Synchronous  SPI  Handler/Driver: </b></i> the  communication  is </p>
<p>based on synchronous handling with a FIFO policy to handle multiple access-</p>
<p>es. Buffer usage is configurable to optimize and/or to take advantage of HW </p>
<p>capabilities. </p>
<p><b>MCAL</b></p>
<p><b>HAL</b></p>
<p><b>µC</b></p>
<p>Simple SPI</p>
<p>Queued SPI</p>
<p>DMA SPI</p>
<p>Scalability of functionalities</p>
<p><b>SPI Handler/Driver</b></p>
<p>Feature #1</p>
<p>…</p>
<p>Feature #n</p>
<p>Feature #1</p>
<p>…</p>
<p>Feature #m</p>
<p>Feature </p>
<p>#1</p>
<p>…</p>
<p>Feature </p>
<p>#k</p>
<p>SPI API standardized</p>
<p><b>MCAL</b></p>
<p><b>HAL</b></p>
<p><b>µC</b></p>
<p>Simple SPI</p>
<p>Queued SPI</p>
<p>DMA SPI</p>
<p>Scalability of functionalities</p>
<p><b>SPI Handler/Driver</b></p>
<p>Feature #1</p>
<p>…</p>
<p>Feature #n</p>
<p>Feature #1</p>
<p>…</p>
<p>Feature #m</p>
<p>Feature </p>
<p>#1</p>
<p>…</p>
<p>Feature </p>
<p>#k</p>
<p>SPI API standardized</p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>31 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>•</p>
<p> </p>
<p>LEVEL  1, <i><b> Basic  Asynchronous  SPI  Handler/Driver: </b></i> the  communication  is </p>
<p>based on asynchronous behavior and with a Priority policy to handle multiple </p>
<p>accesses. Buffer usage is configurable as for “Simple Synchronous” level. </p>
<p>•</p>
<p> </p>
<p>LEVEL  2, <i><b> Enhanced  (Synchronous/Asynchronous)  SPI  Handler/Driver: </b></i></p>
<p>the communication is based on asynchronous behavior or synchronous han-</p>
<p>dling, using either interrupts or polling mechanism selectable during execution </p>
<p>time  and  with  a  Priority  policy  to  handle  multiple  accesses.  Buffer  usage  is </p>
<p>configurable as for other levels. </p>
<p> </p>
<p><b>[SPI109] </b></p>
<p><b>⌈</b></p>
<p>The  SPI  Handler/Driver’s  level  of  scalable  functionality  shall  always  be </p>
<p>statically  configurable,  i.e.  configured  at  pre-compile  time  to  allow  the  best  source </p>
<p>code optimisation.</p>
<p>⌋</p>
<p>(BSW13401) </p>
<p> </p>
<p><b>[SPI110] </b></p>
<p><b>⌈</b></p>
<p>The </p>
<p>SpiLevelDelivered</p>
<p> parameter shall be configured with one of the </p>
<p>3 authorized values according to the described levels (0, 1 or 2) to allow the selection </p>
<p>of the SPI Handler/Driver’s level of scalable functionality.</p>
<p>⌋</p>
<p>(BSW13400) </p>
<p> </p>
<p>To  improve  the  scalability,  each  level  has  optional features  which  are  configurable </p>
<p>(</p>
<p>ON</p>
<p> / </p>
<p>OFF</p>
<p>) or selectable. These are described in detail in the dedicated chapters. </p>
<p> </p>
<p> </p>
<p><b>7.2 </b></p>
<p><b>General behaviour </b></p>
<p> </p>
<p>This chapter, on the one hand, introduces common behavior and configuration for all </p>
<p>levels. On the other, it specifies the behavior of each level and also the allowed op-</p>
<p>tional features. </p>
<p> </p>
<p><b>[SPI041] </b></p>
<p>⌈</p>
<p>The  SPI  Handler/Driver  interface  configuration  shall  be  based  on  Chan-</p>
<p>nels, Jobs and Sequences as defined in this document (see chapter 2).</p>
<p>⌋</p>
<p>(BSW12093) </p>
<p> </p>
<p><b>[SPI034]   </b></p>
<p>⌈</p>
<p>The  SPI  Handler/Driver  shall  support  one  or  more  Channels,  Jobs  and </p>
<p>Sequences to drive all kind of SPI compatible HW devices.</p>
<p>⌋</p>
<p>(BSW12093, BSW12256, </p>
<p>BSW12257) </p>
<p> </p>
<p><b>[SPI255]  </b></p>
<p><b>⌈</b></p>
<p>Data transmissions shall be done according to Channels, Jobs and Se-</p>
<p>quences configuration parameters.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI066]  </b></p>
<p>⌈</p>
<p>The Chip Select (CS) is attached to the Job definition.</p>
<p>⌋</p>
<p>(BSW12094, </p>
<p>BSW12257, BSW12032, BSW12033) </p>
<p> </p>
<p><b>[SPI263]  </b></p>
<p>⌈</p>
<p>Chip Select shall be handled during Job transmission and shall be re-</p>
<p>leased at the end of it. This Chip Select handling shall be done according to the Job </p>
<p>configuration parameters.</p>
<p>⌋</p>
<p>() </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>32 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI370]  </b></p>
<p><b>⌈</b></p>
<p>It shall be possible to define if the Chip Select handling is managed au-</p>
<p>tonomously by the HW peripheral, without explicit chip select control by the driver, or </p>
<p>the SPI driver shall drive the chip select lines explicitly as DIO (see SPI212_Conf).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><i>Example  of  CS  handling:  Set  the  CS  active  at  the  beginning  of  Job  transmission; </i></p>
<p><i>maintain it until the end of transmission of all Channels belonging to this Job after-</i></p>
<p><i>wards set the CS inactive. </i></p>
<p> </p>
<p>A Channel is defined one time but it could belong to several Jobs according to the </p>
<p>user needs and this software specification. </p>
<p> </p>
<p><b>[SPI065]   </b></p>
<p><b>⌈</b></p>
<p>A  Job  shall  contain  at  least  one  Channel.</p>
<p>⌋</p>
<p>(BSW12257,  BSW12179, </p>
<p>BSW12258, </p>
<p>BSW12180, </p>
<p>BSW12181, </p>
<p>BSW12199, </p>
<p>BSW12200, </p>
<p>BSW12261, </p>
<p>BSW12201, BSW12262) </p>
<p> </p>
<p><b>[SPI368]  </b></p>
<p><b>⌈</b></p>
<p>Each Channel shall have an associated index which is used for specifying </p>
<p>the order of the Channel within the Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI262]  </b></p>
<p>⌈</p>
<p>If a Job contains more than one Channel, all Channels contained have the </p>
<p>same Job properties during transmission and shall be linked together statically.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>A Job is defined one time but it could belong to several Sequences according to the </p>
<p>user needs and this software specification. </p>
<p> </p>
<p><b>[SPI003]   </b></p>
<p>⌈</p>
<p>A  Sequence  shall  contain  at  least  one  Job.</p>
<p>⌋</p>
<p>(BSW12179,  BSW12258, </p>
<p>BSW12180, BSW12199, BSW12200, BSW12261, BSW12201, BSW12262) </p>
<p> </p>
<p><b>[SPI236]  </b></p>
<p>⌈</p>
<p>If it contains more than one, all Jobs contained have the same Sequence </p>
<p>properties during transmission and shall be linked together statically.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>A  Channel  used for  a  transmission  should have  its  parameters  configured but  it  is </p>
<p>allowed to pass Null pointers as source and destination pointers to generate a dum-</p>
<p>my transmission (See also [SPI028] &amp; [SPI030]). </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>33 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>bus is arbitrated by</p>
<p>job n</p>
<p><b>CLOCK</b></p>
<p><b>MOSI</b></p>
<p><b>MISO</b></p>
<p><b>CSn</b></p>
<p><b>CSm</b></p>
<p>Channel x</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>Channel y</p>
<p>Channel z</p>
<p>Job n</p>
<p>Job m</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>Sequence a</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p>D</p>
<p><b>CSo</b></p>
<p><b>...</b></p>
<p>linkage</p>
<p>bus is released</p>
<p>scheduling according</p>
<p>to job priority is done</p>
<p>after the tranceiving</p>
<p>data of Channel x is</p>
<p>finished, the next</p>
<p>Channel of job n is</p>
<p>tranceived without</p>
<p>releasing the bus</p>
<p>bus is arbitrated by</p>
<p>job m</p>
<p>bus is released</p>
<p>transmission of</p>
<p>Sequence a is</p>
<p>initiated via API call</p>
<p> </p>
<p> </p>
<p>Channel data may differ from the hardware handled and user (client application) giv-</p>
<p>en. On the client side the data is handled in 8, 16 or 32bits mode (see chapter 8.2.5). </p>
<p>On the microcontroller side, the hardware may handle between 1 and 32bits or may </p>
<p>handle a fixed value (8 or 16bits) and this width is configurable for each Channel (see </p>
<p>SpiDataWidth</p>
<p>).  </p>
<p> </p>
<p><b>[SPI149]   </b></p>
<p>⌈</p>
<p>The  SPI  Handler/Driver  shall  take  care  of  the  differences  between  the </p>
<p>width of channel data handled by the user and those handled by the hardware.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI289]  </b></p>
<p>⌈</p>
<p>If width of channel data handled by the user and handled by the hardware </p>
<p>is exactly the same (8 or 16 or 32 bits), the SPI Handler/Driver can send and receive </p>
<p>data without any bit changes straightforward.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI290]  </b></p>
<p>⌈</p>
<p>If width of channel data handled by the hardware is superior to data width </p>
<p>handled by the user, means that the data transmitted through the SPI Handler/Driver </p>
<p>shall  send  the  lower  part  extended  with  zero.  Receive  the  lower  part,  ignoring  the </p>
<p>upper part.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI291]   </b></p>
<p>⌈</p>
<p>If  width  of channel  data  handled  by  the  hardware  inferior  to  data  width </p>
<p>handled by the user means the data transmitted through the SPI Handler/Driver shall </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>34 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>be according to the memory alignment separate the data as two part and send and </p>
<p>receive one by one.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>This ensures that the user always gets the same interface. </p>
<p> </p>
<p> </p>
<p><b>7.2.1 </b></p>
<p><b>Common configurable feature: Allowed Channel Buffers </b></p>
<p> </p>
<p>In order to allow taking advantages of all microcontroller capabilities but also to allow </p>
<p>sending/receiving  of  data  to/from  a  dedicated  memory  location,  all  levels  have  an </p>
<p>optional feature with respect to the location of Channel Buffers. </p>
<p> </p>
<p>Hence, two main kinds of channel buffering can be used by configuration: </p>
<p>•</p>
<p> </p>
<p>Internally buffered Channels (IB): The buffer to transmit/receive data is provid-</p>
<p>ed by the Handler/Driver. </p>
<p>•</p>
<p> </p>
<p>Externally buffered Channels (EB): The buffer to transmit/receive is provided </p>
<p>by the user (statically and/or dynamically). </p>
<p> </p>
<p>Both  channel  buffering  methods  may  be  used  depending  on  the  3  use  cases  de-</p>
<p>scribed below: </p>
<p>•</p>
<p> </p>
<p>Usage 0: the SPI Handler/Driver manages only Internal Buffers. </p>
<p>•</p>
<p> </p>
<p>Usage 1: the SPI Handler/Driver manages only External Buffers. </p>
<p>•</p>
<p> </p>
<p>Usage 2: the SPI Handler/Driver manages both buffers types. </p>
<p> </p>
<p><b>[SPI111]  </b></p>
<p>⌈</p>
<p>The SpiChannelBuffersAllowed parameter shall be configured with one of </p>
<p>the 3 authorized values (0, 1 or 2) according to the described usage.</p>
<p>⌋</p>
<p>(BSW13401) </p>
<p> </p>
<p><b>[SPI279]   </b></p>
<p>⌈</p>
<p>The  SpiChannelBuffersAllowed  parameter  shall  be  configured  to  select </p>
<p>which Channel Buffers the SPI Handler/Driver manages.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>7.2.1.1  Behaviour of IB channels </b></p>
<p> </p>
<p>The intention of Internal Buffer channels is to take advantage of microcontrollers in-</p>
<p>cluding  this  feature  by  hardware.  Otherwise,  this  feature  should  be  simulated  by </p>
<p>software. </p>
<p> </p>
<p><b>[SPI052] </b></p>
<p>⌈</p>
<p>For the IB Channels, the Handler/Driver shall provide the buffering but it is </p>
<p>not able to take care of the consistency of the data in the buffer during transmission. </p>
<p>The size of the Channel buffer is fixed.</p>
<p>⌋</p>
<p>(BSW12025, BSW12253) </p>
<p> </p>
<p><b>[SPI049] </b></p>
<p>⌈</p>
<p>The channel data received shall be stored in 1 entry deep internal buffers </p>
<p>by  channel.  The  SPI  Handler/Driver  shall  not  take  care  of  the  overwriting  of  these </p>
<p>“receive” buffers by another transmission on the same channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>35 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI051]  </b></p>
<p>⌈</p>
<p>The channel data to be transmitted shall be copied in 1 entry deep inter-</p>
<p>nal buffers by channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI257]  </b></p>
<p><b>⌈</b></p>
<p>The SPI Handler/Driver is not able to prevent the overwriting of these </p>
<p>“transmit” buffers by users during transmissions.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>7.2.1.2  Behaviour of EB channels </b></p>
<p> </p>
<p>The intention of External Buffer channels is to reuse existing buffers that are located </p>
<p>outside. That means the SPI Handler/Driver does not monitor them. </p>
<p> </p>
<p><b>[SPI053] </b></p>
<p>⌈</p>
<p>For EB Channels the application shall provide the buffering and shall take </p>
<p>care  of  the  consistency  of  the  data  in  the  buffer  during  transmission.</p>
<p>⌋</p>
<p>(BSW12075, </p>
<p>BSW12025, </p>
<p>BSW12198, </p>
<p>BSW12200, </p>
<p>BSW12261, </p>
<p>BSW12262, </p>
<p>BSW12202, </p>
<p>BSW12103) </p>
<p> </p>
<p><b>[SPI112]  </b></p>
<p>⌈</p>
<p>The size of the Channel buffer is either fixed or variable. A maximum size </p>
<p>for the Channel buffer shall be defined by the configuration.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI280]   </b></p>
<p>⌈</p>
<p>The  buffer  provided  by  the  application  for  the  SPI  Handler  Driver  may </p>
<p>have a different size.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>7.2.1.3  Buffering channel usage </b></p>
<p> </p>
<p>The following table provides information about the Channel characteristics: </p>
<p> </p>
<p><i><b>IB Channels </b></i></p>
<p>It provides… </p>
<p>•</p>
<p> </p>
<p>A more abstracted concept (buffering mechanisms are hidden) </p>
<p>•</p>
<p> </p>
<p>Actual and future optimal implementation taken profit of HW buffer facili-</p>
<p>ties (Given size of 256 bytes covers nowadays requirements). </p>
<p>Suggested </p>
<p>use … </p>
<p>•</p>
<p> </p>
<p>Daisy-chain implementation. </p>
<p>•</p>
<p> </p>
<p>Small data transfer devices (up to 10 Bytes). </p>
<p><i><b>EB Channels</b></i></p>
<p> </p>
<p>It provides… </p>
<p>•</p>
<p> </p>
<p>Efficient mechanism to support large stream communication. </p>
<p>•</p>
<p> </p>
<p>Send constant data out of ROM tables and spare RAM size. </p>
<p>•</p>
<p> </p>
<p>Send various data tables each for a different device (highly complex </p>
<p>ASICS with several integrated peripheral devices, also mixed signal </p>
<p>types, could exceed IB HW buffer size) </p>
<p>Suggested use </p>
<p>… </p>
<p>•</p>
<p> </p>
<p>Large streams communication. </p>
<p>•</p>
<p> </p>
<p>EEPROM communication. </p>
<p>•</p>
<p> </p>
<p>Control of complex HW Chips   . </p>
<p> </p>
<p> </p>
<p><b>7.2.2 </b></p>
<p><b>LEVEL 0, Simple Synchronous behaviour </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>36 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>The intention of this functionality level is to provide a Handler/Driver with a reduced </p>
<p>set  of  services  to  handle  only  simple  synchronous  transmissions.  This  is  often  the </p>
<p>case for ECU including simple SPI networks but also for ECU using high speed ex-</p>
<p>ternal devices. </p>
<p> </p>
<p>A simple synchronous transmission means that the function calling the transmission </p>
<p>service is blocked during the ongoing transmission until the transmition is finished. </p>
<p> </p>
<p><b>[SPI160]  </b></p>
<p>⌈</p>
<p>The LEVEL 0 SPI Handler/Driver shall offer a synchronous transfer ser-</p>
<p>vice for SPI busses.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI161] </b></p>
<p><b>⌈</b></p>
<p> For an SPI Handler/Driver operating in LEVEL 0, when there is no on go-</p>
<p>ing </p>
<p>Sequence </p>
<p>transmission, </p>
<p>the </p>
<p>SPI </p>
<p>Handler/Driver </p>
<p>shall </p>
<p>be </p>
<p>in </p>
<p>the </p>
<p>idle </p>
<p>state </p>
<p>SPI_IDLE.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI294]  </b></p>
<p>⌈</p>
<p>This monolithic SPI Handler/Driver is able to handle one to n SPI buses </p>
<p>according to the microcontroller used.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Then SPI buses are assigned to Jobs and not to Sequences. Consequently, Jobs, on </p>
<p>different SPI buses, could belong to the same Sequence. Therefore: </p>
<p> </p>
<p><b>[SPI114] </b></p>
<p><b>⌈</b></p>
<p>The </p>
<p>LEVEL </p>
<p>0 </p>
<p>SPI </p>
<p>Handler/Driver </p>
<p>shall </p>
<p>accept </p>
<p>concurrent </p>
<p>Spi_SyncTransmit(),  if  the  sequences  to  be  transmitted  use  different  bus  and  pa-</p>
<p>rameter </p>
<p>SPI_SUPPORT_CONCURRENT_SYNC_TRANSMIT</p>
<p> </p>
<p>is </p>
<p>enabled.  This  feature </p>
<p>shall be disabled per default. That means during a Sequence on-going transmission, </p>
<p>all requests to transmit another Sequence shall be rejected.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI115] </b></p>
<p><b>⌈</b></p>
<p>The LEVEL 0 SPI Handler/Driver behaviour shall include the common fea-</p>
<p>ture: Allowed Channel Buffers, which is selected.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI084] </b></p>
<p><b>⌈</b></p>
<p>If different Jobs (and consequently also Sequences) have common Chan-</p>
<p>nels, the SPI Handler/Driver’ environment shall ensure that read and/or write func-</p>
<p>tions are not called during transmission.</p>
<p>⌋</p>
<p>(BSW12170) </p>
<p> </p>
<p>Read and write functions can not guarantee the data integrity while Channel data is </p>
<p>being transmitted. </p>
<p> </p>
<p> </p>
<p><b>7.2.3 </b></p>
<p><b>LEVEL 1, Basic Asynchronous behavior </b></p>
<p> </p>
<p>The intention of this functionality level is to provide a Handler/Driver with a reduced </p>
<p>set of services to handle asynchronous transmissions only. This is often the case for </p>
<p>ECU  with  functions  related  to  SPI  networks  having  different  priorities  but  also  for </p>
<p>ECU using low speed external devices. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>37 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p>An asynchronous transmission means that the user calling the transmission service </p>
<p>is not blocked when the transmission is on-going. Furthermore, the user can be noti-</p>
<p>fied at the end of transmission</p>
<p>1</p>
<p><b>[SPI162]  </b></p>
<p>⌈</p>
<p>The LEVEL 1 SPI Handler/Driver shall offer an asynchronous transfer </p>
<p>service for SPI buses. An asynchronous transmission means that the user calling the </p>
<p>transmission service is not blocked when the transmission is on going.</p>
<p>⌋</p>
<p>(BSW12099, </p>
<p>BSW12101, BSW12103) </p>
<p>. </p>
<p> </p>
<p><b>[SPI295]  </b></p>
<p>⌈</p>
<p>The LEVEL 1 SPI Handler/Driver shall offer an asynchronous transfer </p>
<p>service for SPI buses. Furthermore, the user can be notified at the end of transmis-</p>
<p>sion.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI163] </b></p>
<p>⌈</p>
<p>For  an  SPI  Handler/Driver  operating  in  LEVEL  1,  when  there  is  no  on-</p>
<p>going  Sequence  transmission,  the  SPI  Handler/Driver  shall  be  in  the  idle  state </p>
<p>(</p>
<p>SPI_IDLE</p>
<p>).</p>
<p>⌋</p>
<p>(BSW12099, BSW12101, BSW12103) </p>
<p> </p>
<p>This  Handler/Driver  will  be  used  by  several  software  modules  which  may  be  inde-</p>
<p>pendent from each other and also may belong to different layers. Therefore, priorities </p>
<p>will  be  assigned  to  Jobs  in order  to figure out  specific  cases  of multiple  accesses. </p>
<p>These cases usually occur within real time systems based on asynchronous mecha-</p>
<p>nisms. </p>
<p> </p>
<p><b>[SPI002] </b></p>
<p><b>⌈</b></p>
<p>Jobs have priorities assigned. Jobs linked in a Sequence shall have same </p>
<p>or de-creasing priorities. That means the first Job shall have the equal priority or the </p>
<p>highest priority of all Jobs within the Sequence.</p>
<p>⌋</p>
<p>(BSW12260) </p>
<p> </p>
<p><b>[SPI093] </b></p>
<p><b>⌈</b></p>
<p>Priority order of jobs shall be from the lower to the higher value defined, </p>
<p>higher value higher priority (from 0, the lower to 3, the higher, limited to 4 priority lev-</p>
<p>els see [SPI009]).</p>
<p>⌋</p>
<p>(BSW12260, BSW12150) </p>
<p> </p>
<p>With reference to Jobs priorities, this Handler/Driver needs rules to make a decision </p>
<p>in these specific cases of multiple accesses. </p>
<p> </p>
<p><b>[SPI059] </b></p>
<p><b>⌈</b></p>
<p>The SPI Handler/Driver scheduling method shall schedule Jobs in order to </p>
<p>send the highest priority Job first.</p>
<p>⌋</p>
<p>(BSW12260, BSW12037) </p>
<p> </p>
<p>This monolithic SPI Handler/Driver is able to handle one to n SPI busses according </p>
<p>to  the  microcontroller  used.  But  SPI  busses  are  assigned  to  Jobs  and  not  to  Se-</p>
<p>quences. Consequently, Jobs on different SPI buses could belong to the same Se-</p>
<p>quence. Therefore: </p>
<p>                                            </p>
<p>1</p>
<p> This basic asynchronous behaviour might be implemented either by using interrupt or by polling </p>
<p>mechanism. This software design choice is not in the scope of this document, but only solution is re-</p>
<p>quired for the LEVEL 1. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>38 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI116] </b></p>
<p><b>⌈</b></p>
<p>The  LEVEL  1  SPI  Handler/Driver  may  allow  transmitting  more  than  one </p>
<p>Sequence  at  the  same  time.  That  means  during  a  Sequence  transmission,  all  re-</p>
<p>quests to transmit another Sequence shall be evaluated in order to accept to start a </p>
<p>new sequence or to reject it accordingly to the lead Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI117] </b></p>
<p><b>⌈</b></p>
<p>The LEVEL 1 SPI Handler/Driver behaviour shall include the common fea-</p>
<p>ture: Allowed Channel Buffers, which is selected, and the configured asynchronous </p>
<p>feature: Interruptible Sequence (see next chapter).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI267]  </b></p>
<p>⌈</p>
<p>When a hardware error is detected, the SPI Handler/Driver shall stop the </p>
<p>current Sequence, report an error to the DEM as configured and set the state of the </p>
<p>Job to SPI_JOB_FAILED and the state of the Sequence to SPI_SEQ_FAILED.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI118]   </b></p>
<p>⌈</p>
<p>If  Jobs  are  configured  with  a  specific  end  notification  function,  the  SPI </p>
<p>Handler/Driver  shall  call  this  notification  function  at  the  end  of  the  Job  transmis-</p>
<p>sion.</p>
<p>⌋</p>
<p>(BSW12108) </p>
<p> </p>
<p><b>[SPI281]  </b></p>
<p>⌈</p>
<p>If Sequences are configured with a specific end notification function, the </p>
<p>SPI  Handler/Driver  shall  call  this  notification  function  at  the  end  of  the  Sequence </p>
<p>transmission.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI119] </b></p>
<p><b>⌈</b></p>
<p>When a valid notification function pointer is configured (see [SPI071]), the </p>
<p>SPI Handler/Driver shall call this notification function at the end of a Job transmission </p>
<p>regardless  of  the  result  of  the  Job  transmission  being  either </p>
<p>SPI_JOB_FAILED</p>
<p>  or </p>
<p>SPI_JOB_OK</p>
<p> (rational: avoid deadlocks or endless loops).</p>
<p>⌋</p>
<p>(BSW12108) </p>
<p> </p>
<p><b>[SPI120] </b></p>
<p><b>⌈</b></p>
<p>When a valid notification function pointer is configured (see [SPI073]), the </p>
<p>SPI  Handler/Driver  shall  call  this  notification  function  at  the  end  of  a  Sequence </p>
<p>transmission  regardless  of  the  result  of  the  Sequence  transmission  being  either </p>
<p>SPI_SEQ_FAILED,</p>
<p> </p>
<p>SPI_SEQ_OK</p>
<p>  or </p>
<p>SPI_SEQ_CANCELLED</p>
<p>  (rational:  avoid  dead-</p>
<p>locks or endless loops).</p>
<p>⌋</p>
<p>(BSW12108) </p>
<p> </p>
<p> </p>
<p><b>7.2.4 </b></p>
<p><b>Asynchronous configurable feature: Interruptible Sequences </b></p>
<p> </p>
<p>In order to allow taking advantages of asynchronous transmission mechanism, level </p>
<p>1 and level 2 of this SPI Handler/Driver have an optional feature with respect to sus-</p>
<p>pending the transmission of Sequences. </p>
<p> </p>
<p>Hence two main kinds of sequences can be used by configuration: </p>
<p>•</p>
<p> </p>
<p>Non-Interruptible  Sequences,  every  Sequence  transmission  started  is  not </p>
<p>suspended by the Handler/Driver until the end of transmission. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>39 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>•</p>
<p> </p>
<p>Mixed  Sequences,  according  to  its  configuration,  a  Sequence  transmission </p>
<p>started may be suspended by the Handler/Driver between two of their consec-</p>
<p>utives Jobs. </p>
<p> </p>
<p><b>[SPI121] </b></p>
<p><b>⌈</b></p>
<p>The </p>
<p>SPI </p>
<p>Handler/Driver’s </p>
<p>environment </p>
<p>shall </p>
<p>configure </p>
<p>the </p>
<p>SpiInterruptibleSeqAllowed</p>
<p>  parameter  (</p>
<p>ON</p>
<p>  / </p>
<p>OFF</p>
<p>)  in  order  to  select  which </p>
<p>kind of Sequences the SPI Handler/Driver manages.</p>
<p>⌋</p>
<p>(BSW13401) </p>
<p> </p>
<p> </p>
<p><b>7.2.4.1  Behavior of Non-Interruptible Sequences </b></p>
<p> </p>
<p>The intention of the Non-Interruptible Sequences feature is to provide a simple soft-</p>
<p>ware  module  based  on  a  basic  asynchronous  mechanism,  if  only  non  blocking </p>
<p>transmissions should be used. </p>
<p> </p>
<p><b>[SPI122] </b></p>
<p><b>⌈</b></p>
<p>Interruptible  Sequences  are  not  allowed  within  levels  1  and  2  of  the </p>
<p>SPI/Handler/Driver </p>
<p>when </p>
<p>the </p>
<p>SpiInterruptibleSeqAllowed</p>
<p> </p>
<p>parameter </p>
<p>is </p>
<p>switched off (i.e. configured with value “OFF”). </p>
<p>⌋</p>
<p>(BSW13401) </p>
<p> </p>
<p><b>[SPI123]  </b></p>
<p>⌈</p>
<p>When the SPI Handler/Driver is configured not allowing interruptible Se-</p>
<p>quences, all Sequences declared are considered as Non-Interruptible Sequences</p>
<p>2</p>
<p> </p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p><b>[SPI282]  </b></p>
<p>⌈</p>
<p>When the SPI Handler/Driver is configured not allowing interruptible Se-</p>
<p>quences their dedicated parameter SpiInterruptibleSequence can be omitted or the </p>
<p>FALSE value should be used as default.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI124] </b></p>
<p><b>⌈</b></p>
<p>According to [SPI116] and [SPI122] requirements, the SPI Handler/Driver </p>
<p>is not allowed to suspend a Sequence transmission already started in favour of an-</p>
<p>other Sequence.</p>
<p>⌋</p>
<p>(BSW12037) </p>
<p> </p>
<p> </p>
<p><b>7.2.4.2  Behavior of Mixed Sequences </b></p>
<p> </p>
<p>The intention of the Mixed Sequences feature is to provide a software module with </p>
<p>specific asynchronous mechanisms, if, for instance, very long Sequences that could </p>
<p>or should be suspended by others with higher priority are used. </p>
<p> </p>
<p><b>[SPI125] </b></p>
<p><b>⌈</b></p>
<p>Interruptible  Sequences  are  allowed  within  levels  1  and  2  of  SPI  Han-</p>
<p>dler/Driver  when  the </p>
<p>SpiInterruptibleSeqAllowed</p>
<p>  parameter  is  switched  on </p>
<p>(i.e. configured with value “ON”).</p>
<p>⌋</p>
<p>(BSW13401) </p>
<p>                                            </p>
<p>2</p>
<p> The intention of this requirement is not to enforce any implementation solution in comparison with </p>
<p>another one. But, it is only to ensure that anyhow, all Sequences will be considered as Non Interrupti-</p>
<p>ble Sequences. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>40 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI126] </b></p>
<p><b>⌈</b></p>
<p><b>When </b> the  SPI  Handler/Driver  is  configured  allowing  interruptible  Se-</p>
<p>quences, </p>
<p>all </p>
<p>Sequences </p>
<p>declared </p>
<p>shall </p>
<p>have </p>
<p>their </p>
<p>dedicated </p>
<p>parameter </p>
<p>SpiInterruptibleSequence</p>
<p> (see SPI064 &amp; SPI106) to identify whether the Se-</p>
<p>quence can be suspended during transmission.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI014] </b></p>
<p><b>⌈</b></p>
<p>In case of a Sequence configured as Interruptible Sequence and accord-</p>
<p>ing to [SPI125] requirement, the SPI Handler/Driver is allowed to suspend an already </p>
<p>started Sequence transmission in favour of another Sequence with a higher priority </p>
<p>Job (see SPI002 &amp; SPI093). That means, at the end of a Job transmission (that be-</p>
<p>longs to the interruptible sequence) with another Sequence transmit request pending, </p>
<p>the SPI Handler/Driver shall perform a rescheduling in order to elect the next Job to </p>
<p>transmit.</p>
<p>⌋</p>
<p>(BSW12260, BSW12037) </p>
<p> </p>
<p><b>[SPI127] </b></p>
<p><b>⌈</b></p>
<p>In case of a Sequence configured as Non-Interruptible Sequence and ac-</p>
<p>cording  to  requirement  [SPI125],  the  SPI  Handler/Driver  is  not  allowed  to  suspend </p>
<p>this </p>
<p>already </p>
<p>started </p>
<p>Sequence </p>
<p>transmission </p>
<p>in </p>
<p>favour </p>
<p>of </p>
<p>another </p>
<p>Se-</p>
<p>quence.</p>
<p>⌋</p>
<p>(BSW12037) </p>
<p> </p>
<p><b>[SPI080] </b></p>
<p><b>⌈</b></p>
<p>When using Interruptible Sequences, the caller must be aware that if the </p>
<p>multiple Sequences access the same Channels, the data for these Channels may be </p>
<p>overwritten by the highest priority Job accessing each Channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>7.2.5 </b></p>
<p><b>LEVEL 2, Enhanced behaviour </b></p>
<p> </p>
<p>The intention of this functionality level is to provide a Handler/Driver with a complete </p>
<p>set of services to handle synchronous and asynchronous transmissions. This could </p>
<p>be the case for ECU with a lot of functions related to SPI networks having different </p>
<p>priorities but also for ECU using external devices with different speeds. </p>
<p> </p>
<p>Handling asynchronous and synchronous transmissions means that the microcontrol-</p>
<p>ler for which this software module is dedicated has to provide more than one SPI bus </p>
<p>(see [SPI108]). In fact, the goal is to support SPI buses using a so-called synchro-</p>
<p>nous driver and to support other SPI buses using a so-called asynchronous driver. </p>
<p> </p>
<p><b>[SPI128]  </b></p>
<p>⌈</p>
<p>The LEVEL 2 SPI Handler/Driver shall offer a synchronous transfer ser-</p>
<p>vice for a dedicated SPI bus and it shall also offer an asynchronous transfer service </p>
<p>for other SPI buses.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI283]  </b></p>
<p>⌈</p>
<p>In LEVEL 2 if there is no on going Sequence transmission, the SPI Han-</p>
<p>dler/Driver shall be in idle state (SPI_IDLE).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>41 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI129] </b></p>
<p><b>⌈</b></p>
<p>The SPI bus dedicated for synchronous transfers is prearranged. It means, </p>
<p>that the bus  is  selected for  synchronous transfers. The  selected  bus  shall  be pub-</p>
<p>lished by supplier of this software module.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>This functionality level, based on a mixed usage of synchronous transmission on one </p>
<p>prearranged </p>
<p>SPI </p>
<p>bus </p>
<p>and </p>
<p>asynchronous </p>
<p>transmission  on </p>
<p>others, </p>
<p>generates </p>
<p>re-</p>
<p>strictions on configuration and usage of Sequences and Jobs. </p>
<p> </p>
<p><b>[SPI130] </b></p>
<p><b>⌈</b></p>
<p>The  so-called  synchronous  Sequences  shall  only  be  composed  of  Jobs </p>
<p>that are associated to the prearranged SPI bus. These Sequences shall be used with </p>
<p>synchronous services</p>
<p>3</p>
<p> </p>
<p> only.</p>
<p>⌋</p>
<p>() </p>
<p><b>[SPI131] </b></p>
<p><b>⌈</b></p>
<p>Jobs  associated  with  the  prearranged  SPI  bus  shall  not  belong  to  Se-</p>
<p>quences containing Jobs associated with another SPI bus. In other words, mixed Se-</p>
<p>quences (synchronous with asynchronous Jobs) shall not be allowed.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Usually, depending on software design, asynchronous end transmission may be de-</p>
<p>tected by polling or interrupt mechanisms. This level of functionality proposes both </p>
<p>mechanisms that are selectable during execution time. </p>
<p> </p>
<p><b>[SPI155] </b></p>
<p><b>⌈</b></p>
<p>The SPI Handler/Driver LEVEL 2 shall implement one polling mechanism </p>
<p>mode and one interrupt mechanism mode for SPI busses handled asynchronously.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI156] </b></p>
<p><b>⌈</b></p>
<p>Both the polling mechanism and interrupt mechanism modes for SPI bus-</p>
<p>ses shall be selectable during execution time (see [SPI188]).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI140] </b></p>
<p><b>⌈</b></p>
<p>If </p>
<p>SpiHwUnitSynchronous</p>
<p> is set to &quot;Synchronous&quot; for a job, the associ-</p>
<p>ated bus defined by </p>
<p>SpiHwUnit </p>
<p>behave same as prearranged bus. It means that all </p>
<p>requirements valid for prearranged bus will be valid also for the bus assigned to this </p>
<p>job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>The requirements for LEVEL 0 apply to synchronous behaviour. </p>
<p>The requirements for LEVEL 1 apply to asynchronous behaviour. </p>
<p> </p>
<p> </p>
<p><b>7.3 </b></p>
<p><b>Scheduling Advices </b></p>
<p> </p>
<p>For asynchronous levels, LEVEL 1 and LEVEL 2, the SPI Handler/Driver can call end </p>
<p>notification </p>
<p>functions </p>
<p>at </p>
<p>the </p>
<p>end </p>
<p>of </p>
<p>a </p>
<p>Job </p>
<p>and/or </p>
<p>Sequence </p>
<p>transmission </p>
<p>(see </p>
<p>[SPI118]). In a second time, in case of interruptible Sequences (that could be sus-</p>
<p>pended),  if  another  Sequence  transmit  request  is  pending,  a  rescheduling  is  also </p>
<p>                                            </p>
<p>3</p>
<p> The second part of this requirement is aim at SPI Handler/Driver users. But, it is up to the software </p>
<p>module supplier to implement mechanisms in order to prevent potential misuses by users. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>42 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>done  by  the  SPI  Handler/Driver  in  order  to  elect  the  next  Job  to  transmit  (see </p>
<p>[SPI014]). </p>
<p> </p>
<p><b>[SPI088]  </b></p>
<p>⌈</p>
<p>For asynchronous levels, LEVEL 1 and LEVEL 2, the SPI Handler/Driver </p>
<p>can call end notification functions at the end of a Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI268]  </b></p>
<p>⌈</p>
<p>For asynchronous levels, LEVEL 1 and LEVEL 2, the SPI Handler/Driver </p>
<p>can call end notification functions at the end of a Sequence transmission.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI269]  </b></p>
<p>⌈</p>
<p>For asynchronous levels, LEVEL 1 and LEVEL 2 in case of interruptible </p>
<p>Sequences, if another Sequence transmit request is pending, a rescheduling is also </p>
<p>done by the SPI Handler/Driver in order to elect the next Job to transmit.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI270]  </b></p>
<p>⌈</p>
<p>In case call end notification function and rescheduling are fully done by </p>
<p>software, the order between these shall be first scheduling and then the call of end </p>
<p>notification function executed.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI271]  </b></p>
<p>⌈</p>
<p>In case call end notification function and rescheduling are fully done by </p>
<p>hardware, the order could not be configured as required; the order shall be complete-</p>
<p>ly documented.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>7.4 </b></p>
<p><b>Error classification </b></p>
<p> </p>
<p><b>[SPI004] </b></p>
<p><b>⌈</b></p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_PARAM_CHANNEL(0x0A) </p>
<p>when </p>
<p>API </p>
<p>service </p>
<p>called </p>
<p>with </p>
<p>wrong </p>
<p>parame-</p>
<p>ter.</p>
<p>⌋</p>
<p>(BSW00327, BSW00337, BSW00385) </p>
<p> </p>
<p><b>[SPI237] </b></p>
<p><b>⌈</b></p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_PARAM_JOB(0x0B) when API service called with wrong parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI238] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_PARAM_SEQ(0x0C) when API service called with wrong parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI240] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_PARAM_LENGTH(0x0D) when API service called with wrong parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI241] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_PARAM_UNIT(0x0E) when API service called with wrong parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>43 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI242] </b></p>
<p>⌈</p>
<p>SPI Handler/driver shall be able to detect the error SPI_E_UNINIT(0x1A) </p>
<p>when API service used without module initialization.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI243] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_SEQ_PENDING(0x2A) when services called in a wrong sequence.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI245] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_SEQ_IN_PROCESS(0x3A) when synchronous transmission service called at </p>
<p>wrong time.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI246] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_ALREADY_INITIALIZED(0x4A)  when  API  SPI_Init  service  called  while  the </p>
<p>SPI driver has already been initialized time.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI195] </b></p>
<p>⌈</p>
<p>SPI </p>
<p>Handler/driver </p>
<p>shall </p>
<p>be </p>
<p>able </p>
<p>to </p>
<p>detect </p>
<p>the </p>
<p>error </p>
<p>SPI_E_HARDWARE_ERROR  when  an  hardware  error  occur  during  asynchronous </p>
<p>transmit. Please see also SPI267.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>The table below summarize the errors that the SPI Handler/Driver shall be able to </p>
<p>detect.  </p>
<p> </p>
<p><i><b>Type or error </b></i></p>
<p><i><b>Relevance </b></i></p>
<p><i><b>Related error code </b></i></p>
<p><i><b>Value(hex) </b></i></p>
<p>API service called </p>
<p>with wrong param-</p>
<p>eter </p>
<p>Development </p>
<p>SPI_E_PARAM_CHANNEL </p>
<p>SPI_E_PARAM_JOB </p>
<p>SPI_E_PARAM_SEQ </p>
<p>SPI_E_PARAM_LENGTH </p>
<p>SPI_E_PARAM_UNIT </p>
<p>0x0A </p>
<p>0x0B </p>
<p>0x0C </p>
<p>0x0D </p>
<p>0x0E </p>
<p>APIs called with a </p>
<p>Null Pointer </p>
<p>Development </p>
<p>SPI_E_PARAM_POINTER </p>
<p> </p>
<p>0x10 </p>
<p>API service used </p>
<p>without module </p>
<p>initialization </p>
<p>Development </p>
<p>SPI_E_UNINIT </p>
<p>0x1A </p>
<p> </p>
<p>Services called in </p>
<p>a wrong sequence </p>
<p>Development </p>
<p>SPI_E_SEQ_PENDING </p>
<p>0x2A </p>
<p>Synchronous </p>
<p>transmission ser-</p>
<p>vice called at </p>
<p>wrong time </p>
<p>Development </p>
<p>SPI_E_SEQ_IN_PROCESS </p>
<p>0x3A </p>
<p>API SPI_Init ser-</p>
<p>vice called while </p>
<p>the SPI driver has </p>
<p>already been ini-</p>
<p>tialized </p>
<p>Development </p>
<p>SPI_E_ALREADY_INITIALIZED </p>
<p>0x4A </p>
<p>Hardware error </p>
<p>detected during </p>
<p>Production </p>
<p>SPI_E_HARDWARE_ERROR </p>
<p>Assigned </p>
<p>by DEM </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>44 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>asynchronous </p>
<p>transmit </p>
<p> </p>
<p> </p>
<p><b>[SPI097] </b></p>
<p><b>⌈</b></p>
<p>Values for production code Event Ids are assigned externally by the con-</p>
<p>figuration of the Dem. They are published in the file Dem_IntErrId.h and included via </p>
<p>Dem.h.</p>
<p>⌋</p>
<p>(BSW00337, BSW00409) </p>
<p> </p>
<p><b>[SPI007] </b></p>
<p><b>⌈</b></p>
<p>Additional  errors  that  are  detected  because  of  specific  implementation </p>
<p>and/or specific hardware properties shall be added to the SPI device specific imple-</p>
<p>mentation description.</p>
<p>⌋</p>
<p>(BSW00337, BSW00385) </p>
<p> </p>
<p><b>[SPI098] </b></p>
<p><b>⌈</b></p>
<p>Development error values are of type </p>
<p>uint8</p>
<p>.</p>
<p>⌋</p>
<p>(BSW00337) </p>
<p> </p>
<p> </p>
<p><b>7.5 </b></p>
<p><b>Error detection </b></p>
<p> </p>
<p><b>[SPI005]   </b></p>
<p><b>⌈</b></p>
<p>The  detection  of  all  development  errors  is  configurable  at  pre-compile </p>
<p>time.</p>
<p>⌋</p>
<p>(BSW00350, BSW00369, BSW00386) </p>
<p> </p>
<p><b>[SPI249]  </b></p>
<p>⌈</p>
<p>The detection of all development errors is configurable as (ON/OFF) by </p>
<p>the switch SpiDevErrorDetect.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI250]  </b></p>
<p>⌈</p>
<p>The switch SpiDevErrorDetect shall activate or deactivate the detection of </p>
<p>all development errors.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI029] </b></p>
<p><b>⌈</b></p>
<p> If the switch </p>
<p>SpiDevErrorDetect</p>
<p> is enabled API parameter checking is </p>
<p>also enabled. The detailed description of the detected errors can be found in chapter </p>
<p>7.5.1. </p>
<p>⌋</p>
<p>(BSW00323, BSW00369, BSW00386) </p>
<p> </p>
<p><b>[SPI099]  </b></p>
<p>⌈</p>
<p>The detection of production code errors cannot be switched </p>
<p>off.</p>
<p>⌋</p>
<p>(BSW00339, BSW00421) </p>
<p> </p>
<p> </p>
<p><b>7.5.1 </b></p>
<p><b>API parameter checking </b></p>
<p> </p>
<p><b>[SPI031] </b></p>
<p><b>⌈</b></p>
<p>The API parameter </p>
<p>Channel</p>
<p> shall have a value within the defined chan-</p>
<p>nels in the initialization data structure, and the correct type of channel (IB or EB) has </p>
<p>to be used with services. Related error value: </p>
<p>SPI_E_PARAM_CHANNEL</p>
<p>. Otherwise, </p>
<p>the service is not done and the return value shall be </p>
<p>E_NOT_OK.</p>
<p> </p>
<p>⌋</p>
<p>(BSW00323) </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>45 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI032]  </b></p>
<p>⌈</p>
<p>The API parameters Sequence and Job shall have values within the spec-</p>
<p>ified range of values. Related errors values: SPI_E_PARAM_SEQ or </p>
<p>SPI_E_PARAM_JOB.</p>
<p>⌋</p>
<p>(BSW00323) </p>
<p> </p>
<p><b>[SPI254]  </b></p>
<p>⌈</p>
<p>If the Sequence and Job related service is not done and, depending on </p>
<p>services, either the return value shall be E_NOT_OK or a failed result </p>
<p>(SPI_JOB_FAILED or SPI_SEQ_FAILED).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI060]  </b></p>
<p>⌈</p>
<p>The API parameter Length of data shall have a value within the specified </p>
<p>buffer maximum value. Related error value: SPI_E_PARAM_LENGTH.</p>
<p>⌋</p>
<p>(BSW00323) </p>
<p> </p>
<p><b>[SPI258] </b></p>
<p><b>⌈</b></p>
<p>  If  the  API  parameter  Length  related  service  is  not  done  and  the  return </p>
<p>value shall be E_NOT_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI143]  </b></p>
<p>⌈</p>
<p>The API parameter HWUnit shall have a value within the specified range </p>
<p>of values. Related error value: SPI_E_PARAM_UNIT.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI288]   </b></p>
<p>⌈</p>
<p>If  HWUnit  related  service  is  not  done  and  the  return  value  shall  be </p>
<p>SPI_UNINIT.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>7.5.2 </b></p>
<p><b>SPI state checking </b></p>
<p> </p>
<p><b>[SPI046]  </b></p>
<p>⌈</p>
<p>If development error detection for the SPI module is enabled and the SPI </p>
<p>Handler/Driver’s  environment  calls  any  API  function  before  initialization,  an  error </p>
<p>should be reported to the DET with the error value SPI_E_UNINIT according to the </p>
<p>configuration.</p>
<p>⌋</p>
<p>(BSW00406) </p>
<p> </p>
<p><b>[SPI256]   </b></p>
<p><b>⌈</b></p>
<p>The  SPI  Handler/Driver  shall  not  process  the  invoked  function  but,  de-</p>
<p>pending on the invoked function, shall either return the value E_NOT_OK or a failed </p>
<p>result (SPI_JOB_FAILED or SPI_SEQ_FAILED).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI233] </b></p>
<p>⌈</p>
<p> </p>
<p>If development error detection for the SPI module is enabled, the calling of the rou-</p>
<p>tine SPI_Init() while the SPI driver is already initialized will cause a development error </p>
<p>SPI_E_ALREADY_INITIALIZED</p>
<p>  and  the  desired  functionality  shall  be  left  without </p>
<p>any action.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>7.6 </b></p>
<p><b>Error notification </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>46 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI100] </b></p>
<p><b>⌈</b></p>
<p>Detected development errors shall be reported to the error hook of the De-</p>
<p>velopment Error Tracer (DET) if the pre-processor switch </p>
<p>SpiDevErrorDetect</p>
<p> is </p>
<p>set (see chapter 10).</p>
<p>⌋</p>
<p>(BSW00338) </p>
<p> </p>
<p><b>[SPI006] </b></p>
<p><b>⌈</b></p>
<p>Production relevant errors shall be reported to the Diagnostic Event Man-</p>
<p>ager </p>
<p>(DEM). </p>
<p>They </p>
<p>shall </p>
<p>not </p>
<p>be </p>
<p>used </p>
<p>as </p>
<p>the </p>
<p>return </p>
<p>value </p>
<p>of </p>
<p>the </p>
<p>called </p>
<p>func-</p>
<p>tion.</p>
<p>⌋</p>
<p>(BSW00339, BSW00369, BSW00421) </p>
<p> </p>
<p> </p>
<p><b>7.7 </b></p>
<p><b>Version check </b></p>
<p> </p>
<p><b>[SPI069] </b></p>
<p><b>⌈</b></p>
<p>Spi.c</p>
<p> shall check if the correct version of </p>
<p>Spi.h</p>
<p> is included. This shall be </p>
<p>done by a pre-processor check</p>
<p>.</p>
<p>⌋</p>
<p>(BSW004)</p>
<p> </p>
<p> </p>
<p><b>[SPI369]   </b></p>
<p>⌈</p>
<p>The  SPI  module  shall  avoid  the  integration  of  incompatible  files  by  the </p>
<p>following pre-processor checks: </p>
<p>for included (external) header files, </p>
<p></p>
<p> </p>
<p>&lt;MODULENAME&gt;_AR_RELEASE_MAJOR_VERSION </p>
<p></p>
<p> </p>
<p>&lt;MODULENAME&gt;_AR_RELEASE_MINOR_VERSION </p>
<p>shall be verified.</p>
<p>⌋</p>
<p>(BSW004) </p>
<p> </p>
<p> </p>
<p><b>7.8 </b></p>
<p><b>Debugging </b></p>
<p> </p>
<p><b>[SPI363]  </b></p>
<p>⌈</p>
<p>Each variable that shall be accessible by AUTOSAR Debugging, shall be </p>
<p>defined as global variable.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI364]  </b></p>
<p>⌈</p>
<p>All type definitions of variables which shall be debugged, shall be acces-</p>
<p>sible by the header file Spi.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI365]  </b></p>
<p>⌈</p>
<p>The declaration of variables in the header file shall be such, that it is pos-</p>
<p>sible to calculate the size of the variables by C-&quot;sizeof&quot;.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI366]   </b></p>
<p>⌈</p>
<p>Variables  available  for  debugging  shall  be  described  in  the  respective </p>
<p>Basic Software Module Description</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI367]  </b></p>
<p>⌈</p>
<p>The states SPI_UNINIT, SPI_IDLE, SPI_BUSY shall be available for de-</p>
<p>bugging.</p>
<p>⌋</p>
<p>() </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>47 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>8 </b></p>
<p><b>API specification </b></p>
<p> </p>
<p><b>8.1 </b></p>
<p><b>Imported types  </b></p>
<p> </p>
<p>In this chapter all types included from the following files are listed: </p>
<p> </p>
<p><b>[SPI174]  </b></p>
<p>⌈</p>
<p>Dem_EventIdType shall be imported from Dem_Types.h.</p>
<p>⌋</p>
<p>(BSW00357) </p>
<p> </p>
<p><b>[SPI296]  </b></p>
<p>⌈</p>
<p>Std_VersionInfoType shall be imported from Std_Types.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI297]  </b></p>
<p>⌈</p>
<p>Std_ReturnType shall be imported from Std_Types.h.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><i><b>Module </b></i></p>
<p><i><b>Imported Type </b></i></p>
<p>Dem </p>
<p>Dem_EventIdType </p>
<p>Dem_EventStatusType </p>
<p>Std_Types </p>
<p>Std_ReturnType </p>
<p>Std_VersionInfoType </p>
<p> </p>
<p><b>8.2 </b></p>
<p><b>Type definitions </b></p>
<p> </p>
<p><b>8.2.1 </b></p>
<p><b>Spi_ConfigType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_ConfigType </p>
<p><i><b>Type: </b></i></p>
<p>Structure </p>
<p><i><b>Range: </b></i></p>
<p>Implementation </p>
<p>Specific </p>
<p>The contents of the initialization data structure are SPI spe-</p>
<p>cific. </p>
<p><i><b>Description: </b></i></p>
<p>This type of the external data structure shall contain the initialization data for the </p>
<p>SPI Handler/Driver. </p>
<p> </p>
<p><b>[SPI344]  </b></p>
<p>⌈</p>
<p>The description of the type Spi_ConfigType is implementation specific and </p>
<p>it shall be provided for external use.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI008]  </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_ConfigType</p>
<p> is an external data structure and shall con-</p>
<p>tain the initialization data for the SPI Handler/Driver. It shall contain: </p>
<p>•</p>
<p> </p>
<p>MCU dependent properties for SPI HW units </p>
<p>•</p>
<p> </p>
<p>Definition of Channels </p>
<p>•</p>
<p> </p>
<p>Definition of Jobs </p>
<p>•</p>
<p> </p>
<p>Definition of Sequences</p>
<p>⌋</p>
<p>(BSW00405, BSW12125, BSW12256, BSW12257, </p>
<p>BSW12025, BSW12024) </p>
<p> </p>
<p><b>[SPI063] </b></p>
<p><b>⌈</b></p>
<p>For the type </p>
<p>Spi_ConfigType</p>
<p>, the definition for each Channel shall con-</p>
<p>tain: </p>
<p>•</p>
<p> </p>
<p>Buffer usage with EB/IB Channel </p>
<p>•</p>
<p> </p>
<p>Transmit data width (1 up to 32 bits) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>48 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>•</p>
<p> </p>
<p>Number of data buffers for IB Channels (at least 1) or it is the maximum of da-</p>
<p>ta for EB Channels (a value of 0 makes no sense) </p>
<p>•</p>
<p> </p>
<p>Transfer start LSB or MSB </p>
<p>•</p>
<p> </p>
<p>Default transmit value</p>
<p>⌋</p>
<p>(BSW12257, BSW12025, BSW12197, BSW12024) </p>
<p> </p>
<p><b>[SPI009]  </b></p>
<p>⌈</p>
<p>For the type </p>
<p>Spi_ConfigType</p>
<p>, the definition for each Job shall contain: </p>
<p>•</p>
<p> </p>
<p>Assigned SPI HW Unit </p>
<p>•</p>
<p> </p>
<p>Assigned Chip Select pin (it is possible to assign no pin) </p>
<p>•</p>
<p> </p>
<p>Chip select functionality on/off </p>
<p>•</p>
<p> </p>
<p>Chip select pin polarity high or low </p>
<p>•</p>
<p> </p>
<p>Baud rate </p>
<p>•</p>
<p> </p>
<p>Timing between clock and chip select </p>
<p>•</p>
<p> </p>
<p>Shift clock idle low or idle high </p>
<p>•</p>
<p> </p>
<p>Data shift with leading or trailing edge </p>
<p>•</p>
<p> </p>
<p>Priority (4 levels are available from 0, the lower to 3, the higher) </p>
<p>•</p>
<p> </p>
<p>Job finish end notification function </p>
<p>•</p>
<p> </p>
<p>MCU dependent properties for the Job (only if needed) </p>
<p>•</p>
<p> </p>
<p>Fixed link of Channels (at least one)</p>
<p>⌋</p>
<p>(BSW00344, BSW12056, BSW12125, </p>
<p>BSW12093, BSW12094, BSW12256, BSW12257, BSW12025, BSW12179, </p>
<p>BSW12026, BSW12259,</p>
<p> </p>
<p>BSW12258, BSW12260, BSW12032, BSW12033, </p>
<p>BSW12150) </p>
<p> </p>
<p><b>[SPI064] </b></p>
<p><b>⌈</b></p>
<p>For the type </p>
<p>Spi_ConfigType</p>
<p>, the definition for each Sequence shall </p>
<p>contain: </p>
<p>•</p>
<p> </p>
<p>Collection of Jobs (at least one) </p>
<p>•</p>
<p> </p>
<p>Interruptible or not interruptible after each Job </p>
<p>•</p>
<p> </p>
<p>Sequence finish end notification function</p>
<p>⌋</p>
<p>(BSW12056, BSW12179, </p>
<p>BSW12260,</p>
<p> </p>
<p>BSW12199, BSW12150) </p>
<p> </p>
<p><b>[SPI010]  </b></p>
<p>⌈</p>
<p>For the type </p>
<p>Spi_ConfigType</p>
<p>, the configuration will map the Jobs to the </p>
<p>different SPI hardware units and the devices.</p>
<p>⌋</p>
<p>(BSW12093, BSW12257) </p>
<p> </p>
<p> </p>
<p><b>8.2.2 </b></p>
<p><b>Spi_StatusType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_StatusType </p>
<p><i><b>Type: </b></i></p>
<p>Enumeration </p>
<p><i><b>Range: </b></i></p>
<p>SPI_UNINIT </p>
<p>The SPI Handler/Driver is not initialized or not usable. </p>
<p> </p>
<p>SPI_IDLE </p>
<p>The SPI Handler/Driver is not currently transmitting any Job. </p>
<p> </p>
<p>SPI_BUSY </p>
<p>The SPI Handler/Driver is performing a SPI Job (transmit). </p>
<p> </p>
<p><i><b>Description: </b></i></p>
<p>This type defines a range of specific status for SPI Handler/Driver. </p>
<p> </p>
<p><b>[SPI061]  </b></p>
<p>⌈</p>
<p>The type Spi_StatusType defines a range of specific status for SPI Han-</p>
<p>dler/Driver. It informs about the SPI Handler/Driver status or specified SPI Hardware </p>
<p>microcontroller peripheral.</p>
<p>⌋</p>
<p>(BSW00335) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>49 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI259]  </b></p>
<p>⌈</p>
<p>The type Spi_StatusType can be obtained calling the API service </p>
<p>Spi_GetStatus.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI260]  </b></p>
<p>⌈</p>
<p>The type Spi_StatusType can be obtained calling the API service </p>
<p>Spi_GetHWUnitStatus.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI011] </b></p>
<p><b>⌈</b></p>
<p>After reset, the type </p>
<p>Spi_StatusType </p>
<p>shall have the default value </p>
<p>SPI_UNINIT </p>
<p>with the numeric value 0.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI345] </b></p>
<p><b>⌈</b></p>
<p> API service Spi_GetStatus shall return SPI_UNINIT when the SPI Han-</p>
<p>dler/Driver is not initialized or not usable.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI346]  </b></p>
<p>⌈</p>
<p>API service Spi_GetStatus shall return SPI_IDLE when The SPI Han-</p>
<p>dler/Driver is not currently transmitting any Job.</p>
<p>⌋</p>
<p>() </p>
<p><b>[SPI347]  </b></p>
<p>⌈</p>
<p>API service Spi_GetStatus shall return SPI_BUSY when The SPI Han-</p>
<p>dler/Driver is performing a SPI Job transmit.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI348]  </b></p>
<p>⌈</p>
<p>Spi_GetHWUnitStatus function shall return SPI_IDLE when The SPI </p>
<p>Hardware microcontroller peripheral is not currently transmitting any Job,</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI349]  </b></p>
<p>⌈</p>
<p>Spi_GetHWUnitStatus function shall return SPI_BUSYwhen The SPI </p>
<p>Hardware microcontroller peripheral is performing a SPI Job transmit.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>8.2.3 </b></p>
<p><b>Spi_JobResultType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_JobResultType </p>
<p><i><b>Type: </b></i></p>
<p>Enumeration </p>
<p><i><b>Range: </b></i></p>
<p>SPI_JOB_OK </p>
<p>The last transmission of the Job has been finished success-</p>
<p>fully. </p>
<p> </p>
<p>SPI_JOB_PENDING </p>
<p>The SPI Handler/Driver is performing a SPI Job. The mean-</p>
<p>ing of this status is equal to SPI_BUSY. </p>
<p> </p>
<p>SPI_JOB_FAILED </p>
<p>The last transmission of the Job has failed. </p>
<p> </p>
<p>SPI_JOB_QUEUED </p>
<p>An asynchronous transmit Job has been accepted, while </p>
<p>actual transmission for this Job has not started yet. </p>
<p> </p>
<p><i><b>Description: </b></i></p>
<p>This type defines a range of specific Jobs status for SPI Handler/Driver. </p>
<p> </p>
<p><b>[SPI062]  </b></p>
<p><b>⌈</b></p>
<p>The type Spi_JobResultType defines a range of specific Jobs status for </p>
<p>SPI Handler/Driver.</p>
<p>⌋</p>
<p>(BSW00335) </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>50 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI261]  </b></p>
<p>⌈</p>
<p>The type Spi_JobResultType it informs about a SPI Handler/Driver Job </p>
<p>status and can be obtained calling the API service Spi_GetJobResult with the Job </p>
<p>ID.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI012] </b></p>
<p><b>⌈</b></p>
<p>After reset, the type </p>
<p>Spi_JobResultType </p>
<p>shall have the default value </p>
<p>SPI_JOB_OK </p>
<p>with the numeric value 0.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI350]  </b></p>
<p>⌈</p>
<p>The function Spi_GetJobResult shall return SPI_JOB_OK when the last </p>
<p>transmission of the Job has been finished successfully.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.4 </b></p>
<p><b>Spi_SeqResultType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_SeqResultType </p>
<p><i><b>Type: </b></i></p>
<p>Enumeration </p>
<p><i><b>Range: </b></i></p>
<p>SPI_SEQ_OK </p>
<p>The last transmission of the Sequence has been finished </p>
<p>successfully. </p>
<p> </p>
<p>SPI_SEQ_PENDING </p>
<p>The SPI Handler/Driver is performing a SPI Sequence. The </p>
<p>meaning of this status is equal to SPI_BUSY. </p>
<p> </p>
<p>SPI_SEQ_FAILED </p>
<p>The last transmission of the Sequence has failed. </p>
<p> </p>
<p>SPI_SEQ_CANCELED </p>
<p>The last transmission of the Sequence has been canceled </p>
<p>by user. </p>
<p> </p>
<p><i><b>Description: </b></i></p>
<p>This type defines a range of specific Sequences status for SPI Handler/Driver. </p>
<p> </p>
<p><b>[SPI351]  </b></p>
<p>⌈</p>
<p>The type Spi_SeqResultType defines a range of specific Sequences sta-</p>
<p>tus for SPI Handler/Driver and can be obtained calling the API service </p>
<p>Spi_GetSequenceResult, it shall be provided for external use.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>[SPI019]  </b></p>
<p>⌈</p>
<p>The type Spi_SeqResultType defines the range of specific Sequences </p>
<p>status for SPI Handler/Driver.</p>
<p>⌋</p>
<p>(BSW00335) </p>
<p> </p>
<p><b>[SPI251]  </b></p>
<p>⌈</p>
<p>The type Spi_SeqResultType defines about SPI Handler/Driver Sequence </p>
<p>status and can be obtained calling the API service Spi_GetSequenceResult with the </p>
<p>Sequence ID.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI017] </b></p>
<p><b>⌈</b></p>
<p>After reset, the type </p>
<p>Spi_SeqResultType</p>
<p> shall have the default value </p>
<p>SPI_SEQ_OK </p>
<p>with the numeric value 0.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI352]  </b></p>
<p>⌈</p>
<p>Spi_GetSequenceResult function shall return SPI_SEQ_OK when the last </p>
<p>transmission of the Sequence has been finished successfully.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>51 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI353]  </b></p>
<p>⌈</p>
<p>Spi_GetSequenceResult function shall return SPI_SEQ_PENDING when </p>
<p>the SPI Handler/Driver is performing a SPI Sequence. The meaning of this status is </p>
<p>equal to SPI_BUSY.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b> [SPI354]  </b></p>
<p><b>⌈</b></p>
<p>Spi_GetSequenceResult function shall return SPI_SEQ_FAILED  when </p>
<p>the last transmission of the Sequence has failed.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.5 </b></p>
<p><b>Spi_DataType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_DataType </p>
<p><i><b>Type: </b></i></p>
<p>uint </p>
<p><i><b>Range: </b></i></p>
<p>8..32 bit </p>
<p>-- </p>
<p>This is implementation specific but not all values may be </p>
<p>valid within the type.This type shall be chosen in order to </p>
<p>have the most efficient implementation on a specific mi-</p>
<p>crocontroller platform. </p>
<p><i><b>Description: </b></i></p>
<p>Type of application data buffer elements. </p>
<p> </p>
<p><b>[SPI355]  </b></p>
<p>⌈</p>
<p>Spi_DataType This defines the type of application data buffer elements. </p>
<p>Type is uint8,uint16,uint32 and Range is 8 to 32 bit. it shall be provided for external </p>
<p>use.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI164] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_DataType</p>
<p> refers to application data buffer elements.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.6 </b></p>
<p><b>Spi_NumberOfDataType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_NumberOfDataType </p>
<p><i><b>Type: </b></i></p>
<p>uint16 </p>
<p><i><b>Description: </b></i></p>
<p>Type for defining the number of data elements of the type Spi_DataType to send </p>
<p>and / or receive by Channel </p>
<p> </p>
<p><b>[SPI165] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_NumberOfDataType</p>
<p> is used for defining the number of </p>
<p>data elements of the type </p>
<p>Spi_DataType</p>
<p> to send and / or receive by Channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.7 </b></p>
<p><b>Spi_ChannelType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_ChannelType </p>
<p><i><b>Type: </b></i></p>
<p>uint8 </p>
<p><i><b>Description: </b></i></p>
<p>Specifies the identification (ID) for a Channel. </p>
<p> </p>
<p><b>[SPI356]  </b></p>
<p>⌈</p>
<p>The type Spi_ChannelType specifies the identification (ID) for a Chan-</p>
<p>nel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>52 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI166] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_ChannelType</p>
<p> is used for specifying the identification (ID) </p>
<p>for a Channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.8 </b></p>
<p><b>Spi_JobType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_JobType </p>
<p><i><b>Type: </b></i></p>
<p>uint16 </p>
<p><i><b>Description: </b></i></p>
<p>Specifies the identification (ID) for a Job. </p>
<p> </p>
<p><b>[SPI357]  </b></p>
<p>⌈</p>
<p>The type Spi_JobType specifies the identification (ID) for a Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI167] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_JobType</p>
<p> is used for specifying the identification (ID) for a </p>
<p>Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.9 </b></p>
<p><b>Spi_SequenceType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_SequenceType </p>
<p><i><b>Type: </b></i></p>
<p>uint8 </p>
<p><i><b>Description: </b></i></p>
<p>Specifies the identification (ID) for a sequence of jobs. </p>
<p> </p>
<p><b>[SPI358]  </b></p>
<p>⌈</p>
<p>The type Spi_SequenceType specifies the identification (ID) for a se-</p>
<p>quence of jobs.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI168] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_SequenceType</p>
<p> is used for specifying the identification (ID) </p>
<p>for a sequence of jobs.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.10 Spi_HWUnitType </b></p>
<p> </p>
<p><i><b>Name: </b></i></p>
<p>Spi_HWUnitType </p>
<p><i><b>Type: </b></i></p>
<p>uint8 </p>
<p><i><b>Description: </b></i></p>
<p>Specifies the identification (ID) for a SPI Hardware microcontroller peripheral </p>
<p>(unit). </p>
<p> </p>
<p><b>[SPI359]  </b></p>
<p>⌈</p>
<p>The type Spi_HWUnitType specifies the identification (ID) for a SPI Hard-</p>
<p>ware microcontroller peripheral (unit).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI169] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_HWUnitType</p>
<p> is used for specifying the identification (ID) for </p>
<p>a SPI Hardware microcontroller peripheral (unit).</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.2.11 Spi_AsyncModeType </b></p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>53 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Name: </b></i></p>
<p>Spi_AsyncModeType </p>
<p><i><b>Type: </b></i></p>
<p>Enumeration </p>
<p><i><b>Range: </b></i></p>
<p>SPI_POLLING_MODE </p>
<p>The asynchronous mechanism is ensured by polling, so </p>
<p>interrupts related to SPI busses handled asynchronously </p>
<p>are disabled. </p>
<p> </p>
<p>SPI_INTERRUPT_MODE </p>
<p>The asynchronous mechanism is ensured by interrupt, so </p>
<p>interrupts related to SPI busses handled asynchronously </p>
<p>are enabled. </p>
<p> </p>
<p><i><b>Description: </b></i></p>
<p>Specifies the asynchronous mechanism mode for SPI busses handled asynchro-</p>
<p>nously in LEVEL 2. </p>
<p> </p>
<p><b>[SPI360]   </b></p>
<p>⌈</p>
<p>The  type  Spi_AsyncModeType  specifies  the  asynchronous  mechanism </p>
<p>mode for SPI buses handled asynchronously in LEVEL 2 and obtained by the API </p>
<p>Spi_SetAsyncMode.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI170] </b></p>
<p>⌈</p>
<p>The type </p>
<p>Spi_AsyncModeType</p>
<p> is used for specifying the asynchronous </p>
<p>mechanism mode for SPI busses handled asynchronously in LEVEL 2.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI150] </b></p>
<p>⌈</p>
<p>The  type </p>
<p>Spi_AsyncModeType</p>
<p>  is  made  available  or  not  depending  on </p>
<p>the  pre-compile  time  parameter: </p>
<p>SpiLevelDelivered</p>
<p>.  This  is  only  relevant  for </p>
<p>LEVEL 2.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI361]   </b></p>
<p>⌈</p>
<p>If  API  Spi_SetAsyncMode  function  is  called  by  the  parameter  value </p>
<p>SPI_POLLING_MODE then asynchronous mechanism is ensured by polling. So in-</p>
<p>terrupts related to SPI buses handled asynchronously are disabled.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI362]   </b></p>
<p>⌈</p>
<p>If  API  Spi_SetAsyncMode  function  is  called  by  the  parameter  value </p>
<p>SPI_INTERRUPT_MODE asynchronous mechanism is ensured by interrupt, so inter-</p>
<p>rupts related to SPI buses handled asynchronously are enabled.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.3 </b></p>
<p><b>Function definitions </b></p>
<p> </p>
<p><b>8.3.1 </b></p>
<p><b>Spi_Init </b></p>
<p> </p>
<p><b>[SPI175]  </b></p>
<p>⌈</p>
<p>void Spi_Init( const Spi_ConfigType* ConfigPtr ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_Init </p>
<p><i><b>Syntax: </b></i></p>
<p>void Spi_Init( </p>
<p>    const Spi_ConfigType* ConfigPtr </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x00 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Non Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>ConfigPtr </p>
<p>Pointer to configuration set </p>
<p><i><b>Parameters (in-</b></i></p>
<p>None </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>54 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>out): </b></i></p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>None </p>
<p><i><b>Description: </b></i></p>
<p>Service for SPI initialization. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI298]  </b></p>
<p>⌈</p>
<p>The operation Spi_Init is Non Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI299]  </b></p>
<p>⌈</p>
<p>The function Spi_Init provides the service for SPI initialization.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI013]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_Init</p>
<p> shall initialize all SPI relevant registers with the </p>
<p>values of the structure referenced by the parameter </p>
<p>ConfigPtr.</p>
<p>⌋(</p>
<p>BSW00405, </p>
<p>BSW101, BSW12057, BSW12125</p>
<p>)</p>
<p> </p>
<p> </p>
<p><b>[SPI082] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_Init</p>
<p> shall define default values for required parameters </p>
<p>of the structure referenced by the </p>
<p>ConfigPtr</p>
<p>. For example: all buffer pointers shall </p>
<p>be initialized as a null value pointer.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI015] </b></p>
<p>⌈</p>
<p>After the module initialization using the function </p>
<p>Spi_Init</p>
<p>, the SPI Han-</p>
<p>dler/Driver shall set its state to </p>
<p>SPI_IDLE</p>
<p>, the Sequences result to </p>
<p>SPI_SEQ_OK</p>
<p> and </p>
<p>the jobs result to </p>
<p>SPI_JOB_OK.</p>
<p>⌋</p>
<p>(BSW00406, BSW101, BSW12057)</p>
<p> </p>
<p> </p>
<p><b>[SPI151] </b></p>
<p>⌈</p>
<p>For LEVEL 2 (see chapter 7.2.5 and SPI103), the function </p>
<p>Spi_Init</p>
<p> shall </p>
<p>set the SPI Handler/Driver asynchronous mechanism mode to </p>
<p>SPI_POLLING_MODE</p>
<p> </p>
<p>by default. Interrupts related to SPI busses shall be disabled.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>A re-initialization of a SPI Handler/Driver by executing the Spi_Init() function requires </p>
<p>a de-initialization before by executing a Spi_DeInit(). </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_Init</p>
<p> shall be checked as it is explained in section </p>
<p>API parameter checking </p>
<p> </p>
<p> </p>
<p><b>8.3.2 </b></p>
<p><b>Spi_DeInit </b></p>
<p> </p>
<p><b>[SPI176]  </b></p>
<p><b>⌈</b></p>
<p>Std_ReturnType Spi_DeInit( ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_DeInit </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_DeInit( </p>
<p>    void </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x01 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Non Reentrant </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>55 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Parameters (in): </b></i></p>
<p>None </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType  E_OK: de-initialisation command has been accepted </p>
<p>E_NOT_OK: de-initialisation command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service for SPI de-initialization. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI300]  </b></p>
<p><b>⌈</b></p>
<p>The operation Std_ReturnType Spi_DeInit( ) is Non Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI301]  </b></p>
<p>⌈</p>
<p>When the API Spi_DeInit has been accepted the return value of this func-</p>
<p>tion shall be E_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI302]  </b></p>
<p>⌈</p>
<p>When the API Spi_DeInit has not been accepted the return value of this </p>
<p>function shall be E_NOT_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI303]  </b></p>
<p>⌈</p>
<p>The function Spi_DeInit provides the service for SPI de-initialization.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI021]  </b></p>
<p>⌈</p>
<p>The function Spi_DeInit shall de-initialize SPI Han-</p>
<p>dler/Driver.</p>
<p>⌋</p>
<p>(BSW00336, BSW12163, BSW12064) </p>
<p> </p>
<p><b>[SPI252]  </b></p>
<p>⌈</p>
<p>In case of the SPI Handler/Driver state is not SPI_BUSY, the </p>
<p>deInitialization function shall put all already initialized microcontroller SPI peripherals </p>
<p>into the same state such as Power On Reset.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI253]  </b></p>
<p>⌈</p>
<p>The function call Spi_DeInit shall be rejected if the status of SPI Han-</p>
<p>dler/Driver is SPI_BUSY.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI022] </b></p>
<p>⌈</p>
<p>After the module de-initialization using the function </p>
<p>Spi_DeInit</p>
<p>, the SPI </p>
<p>Handler/Driver shall set its state to </p>
<p>SPI_UNINIT.</p>
<p>⌋</p>
<p>(BSW00336, BSW12163)</p>
<p> </p>
<p> </p>
<p>The SPI Handler/Driver shall have been initialized before the function </p>
<p>Spi_DeInit</p>
<p> </p>
<p>is called, otherwise see [SPI046]. </p>
<p> </p>
<p> </p>
<p><b>8.3.3 </b></p>
<p><b>Spi_WriteIB </b></p>
<p> </p>
<p><b>[SPI177]  </b></p>
<p><b>⌈</b></p>
<p>Std_ReturnType Spi_WriteIB( Spi_ChannelType Channel, const </p>
<p>Spi_DataType* DataBufferPtr ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_WriteIB </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_WriteIB( </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>56 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>    Spi_ChannelType Channel, </p>
<p>    const Spi_DataType* DataBufferPtr </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x02 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Channel </p>
<p>Channel ID. </p>
<p>DataBufferPtr </p>
<p>Pointer to source data buffer. If this pointer is null, it is assumed </p>
<p>that the data to be transmitted is not relevant and the default </p>
<p>transmit value of this channel will be used instead. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType E_OK: write command has been accepted </p>
<p>E_NOT_OK: write command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service for writing one or more data to an IB SPI Handler/Driver Channel specified </p>
<p>by parameter. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI304]  </b></p>
<p><b>⌈</b></p>
<p>The operation Spi_WriteIB is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI305]  </b></p>
<p>⌈</p>
<p>When the API Spi_WriteIB command has been accepted the function re-</p>
<p>turns the value E_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI306]  </b></p>
<p>⌈</p>
<p>When the API Spi_WriteIB command has not been accepted the function </p>
<p>returns the value E_NOT_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI307]  </b></p>
<p>⌈</p>
<p>The function Spi_WriteIB provides the service for writing one or more data </p>
<p>to an IB SPI Handler/Driver Channel by the respective parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI018] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_WriteIB</p>
<p> shall write one or more data to an IB SPI </p>
<p>Handler/Driver Channel specified by the respective parameter.</p>
<p>⌋</p>
<p>(BSW12101, </p>
<p>BSW12153) </p>
<p> </p>
<p><b>[SPI024] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_WriteIB</p>
<p> shall take over the given parameters, and </p>
<p>save the pointed data to the internal buffer defined with the function </p>
<p>Spi_Init</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI023] </b></p>
<p><b>⌈</b></p>
<p>If the given parameter “DataBufferPtr” is null, the function </p>
<p>Spi_WriteIB</p>
<p> </p>
<p>shall assume that the data to be transmitted is not relevant and the default transmit </p>
<p>value of the given channel shall be used instead.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI137] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_WriteIB</p>
<p> shall be pre-compile time configurable by the </p>
<p>parameter </p>
<p>SpiChannelBuffersAllowed. </p>
<p>This function is only relevant for Chan-</p>
<p>nels with IB.</p>
<p>⌋</p>
<p>() </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>57 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_WriteIB</p>
<p> shall be checked as it is explained in sec-</p>
<p>tion API parameter checking. </p>
<p> </p>
<p>The SPI Handler/Driver shall have been initialized before the function </p>
<p>Spi_WriteIB</p>
<p> </p>
<p>is called, otherwise see [SPI046]. </p>
<p> </p>
<p> </p>
<p><b>8.3.4 </b></p>
<p><b>Spi_AsyncTransmit </b></p>
<p> </p>
<p><b>[SPI178]  </b></p>
<p><b>⌈</b></p>
<p>Std_ReturnType Spi_AsyncTransmit( Spi_SequenceType Sequence ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_AsyncTransmit </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_AsyncTransmit( </p>
<p>    Spi_SequenceType Sequence </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x03 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Asynchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Sequence </p>
<p>Sequence ID. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType  E_OK: Transmission command has been accepted </p>
<p>E_NOT_OK: Transmission command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service to transmit data on the SPI bus. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI308]  </b></p>
<p>⌈</p>
<p>The operation Std_ReturnType Spi_AsyncTransmit( Spi_SequenceType </p>
<p>Sequence ) is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI309]  </b></p>
<p>⌈</p>
<p>When the API Spi_AsyncTransmit command has been accepted the func-</p>
<p>tion shall return the value E_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI310]  </b></p>
<p>⌈</p>
<p>When the API Spi_AsyncTransmit command has not been accepted the </p>
<p>function shall return the value E_NOT_OK.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI311]  </b></p>
<p>⌈</p>
<p>The function Spi_AsyncTransmit provides service to transmit data on the </p>
<p>SPI bus.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI020] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_AsyncTransmit</p>
<p> shall take over the given parameter, </p>
<p>initiate a transmission, set the SPI Handler/Driver status to </p>
<p>SPI_BUSY</p>
<p>, set the se-</p>
<p>quence result to </p>
<p>SPI_SEQ_PENDING</p>
<p> and return. </p>
<p>⌋</p>
<p>(BSW12099, BSW12101, </p>
<p>BSW12103) </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>58 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI194] </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called, shall take over the given </p>
<p>parameter and set the Job status to SPI_JOB_QUEUED, which can be obtained by </p>
<p>calling the API service Spi_GetJobResult.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI157]  </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called, the SPI Handler/Driver </p>
<p>shall handle the Job results. Result shall be SPI_JOB_PENDING when the transmis-</p>
<p>sion of Jobs is started.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI292]  </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called, the SPI Handler/Driver </p>
<p>shall handle the Job results. Result shall be SPI_JOB_OK when the transmission of </p>
<p>Jobs is success.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI293]  </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called, the SPI Handler/Driver </p>
<p>shall handle the Job results. Result shall be SPI_JOB_FAILED when the transmis-</p>
<p>sion of Jobs is failed.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI081]  </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called and the requested Se-</p>
<p>quence is already in state SPI_SEQ_PENDING, the SPI Handler/Driver shall not take </p>
<p>in account this new request and this function shall return with value E_NOT_OK, in </p>
<p>this case.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI266]  </b></p>
<p>⌈</p>
<p>When the function Spi_AsyncTransmit is called and the requested Se-</p>
<p>quence is already in state SPI_SEQ_PENDING the SPI Handler/Driver shall report </p>
<p>the SPI_E_SEQ_PENDING error.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI086] </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_AsyncTransmit</p>
<p> is called and the requested Se-</p>
<p>quence shares Jobs with another sequence that is in the state </p>
<p>SPI_SEQ_PENDING</p>
<p>, </p>
<p>the SPI Handler/Driver shall not take into account this new request and this function </p>
<p>shall return the value </p>
<p>E_NOT_OK</p>
<p>. In this case and according to [SPI100], the SPI </p>
<p>Handler/Driver shall report the </p>
<p>SPI_E_SEQ_PENDING</p>
<p> error.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI035] </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_AsyncTransmit</p>
<p> is used with EB and the source </p>
<p>data pointer has been provided as NULL using the </p>
<p>Spi_SetupEB</p>
<p> method, the de-</p>
<p>fault transmit data configured for each channel will be transmitted. (See also </p>
<p>[SPI028])</p>
<p>⌋</p>
<p>(BSW12200,</p>
<p> </p>
<p>BSW12201) </p>
<p> </p>
<p><b>[SPI036] </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_AsyncTransmit</p>
<p> is used with EB and the destina-</p>
<p>tion data pointer has been provided as NULL using the </p>
<p>Spi_SetupEB</p>
<p> method, the </p>
<p>SPI Handler/Driver shall ignore receiving data (See also [SPI030])</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>59 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI055] </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_AsyncTransmit</p>
<p> is used for a Sequence with </p>
<p>linked Jobs, the function shall transmit from the first Job up to the last Job in the se-</p>
<p>quence.</p>
<p>⌋</p>
<p>(BSW12181) </p>
<p> </p>
<p><b>[SPI057] </b></p>
<p>⌈</p>
<p> At the end of a sequence transmission initiated by the function </p>
<p>Spi_AsyncTransmit</p>
<p> and if configured, the SPI Handler/Driver shall invoke the se-</p>
<p>quence notification call-back function after the last Job end notification if this one is </p>
<p>also configured.</p>
<p>⌋</p>
<p>(BSW157, BSW12108) </p>
<p> </p>
<p><b>[SPI133] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_AsyncTransmit</p>
<p> is pre-compile time selectable by the </p>
<p>configuration parameter </p>
<p>SpiLevelDelivered</p>
<p>. This function is only relevant for </p>
<p>LEVEL 1 and LEVEL 2.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI173] </b></p>
<p><b>⌈</b></p>
<p>The SPI Handler/Driver’s environment shall call the function </p>
<p>Spi_AsyncTransmit</p>
<p> after a function call of </p>
<p>Spi_SetupEB</p>
<p> for EB Channels or a </p>
<p>function call of </p>
<p>Spi_WriteIB</p>
<p> for IB Channels but before the function call </p>
<p>Spi_ReadIB</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_AsyncTransmit</p>
<p> shall be checked as explained in </p>
<p>section API parameter checking </p>
<p> </p>
<p>The SPI Handler/Driver</p>
<p> </p>
<p>shall have been initialized before the function </p>
<p>Spi_AsyncTransmit</p>
<p> is called otherwise see [SPI046]. </p>
<p> </p>
<p> </p>
<p><b>8.3.5 </b></p>
<p><b>Spi_ReadIB </b></p>
<p> </p>
<p><b>[SPI179]  </b></p>
<p><b>⌈</b></p>
<p>Std_ReturnType Spi_ReadIB( Spi_ChannelType Channel, Spi_DataType* </p>
<p>DataBufferPointer ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_ReadIB </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_ReadIB( </p>
<p>    Spi_ChannelType Channel, </p>
<p>    Spi_DataType* DataBufferPointer </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x04 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Channel </p>
<p>Channel ID. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>DataBufferPointer </p>
<p>Pointer to destination data buffer in RAM </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType </p>
<p>E_OK: read command has been accepted </p>
<p>E_NOT_OK: read command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service for reading synchronously one or more data from an IB SPI Handler/Driver </p>
<p>Channel specified by parameter. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>60 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI312]  </b></p>
<p>⌈</p>
<p>The operation Spi_ReadIB is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI313]  </b></p>
<p>⌈</p>
<p>The function Spi_ReadIB return values E_OK: read command has been </p>
<p>accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI314]  </b></p>
<p>⌈</p>
<p>The function Spi_ReadIB return values E_NOT_OK: read command has </p>
<p>not been accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI315]  </b></p>
<p>⌈</p>
<p>The function Spi_ReadIB provides the service for reading synchronously </p>
<p>one or more data from an IB SPI Handler/Driver Channel specified by parameter.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI016] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_ReadIB</p>
<p> shall read synchronously one or more data </p>
<p>from an IB SPI Handler/Driver Channel specified by the respective parame-</p>
<p>ter.</p>
<p>⌋</p>
<p>(BSW12099, BSW12152) </p>
<p> </p>
<p><b>[SPI027] </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver’s environment shall call the function </p>
<p>Spi_ReadIB</p>
<p> </p>
<p>after a Transmit method call to have relevant data within IB Channel.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI138]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_ReadIB</p>
<p> is pre-compile time configurable by the pa-</p>
<p>rameter </p>
<p>SpiChannelBuffersAllowed. </p>
<p>This function is only relevant for Chan-</p>
<p>nels with IB.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_ReadIB</p>
<p> shall be checked as it is explained in sec-</p>
<p>tion API parameter checking. </p>
<p> </p>
<p>The SPI Handler/Driver shall have been initialized before the function </p>
<p>Spi_ReadIB</p>
<p> </p>
<p>is called otherwise see [SPI046]. </p>
<p> </p>
<p> </p>
<p><b>8.3.6 </b></p>
<p><b>Spi_SetupEB </b></p>
<p> </p>
<p><b>[SPI180]  </b></p>
<p>⌈</p>
<p>Std_ReturnType Spi_SetupEB( Spi_ChannelType Channel, const </p>
<p>Spi_DataType* SrcDataBufferPtr, Spi_DataType* DesDataBufferPtr, </p>
<p>Spi_NumberOfDataType Length ) </p>
<p> </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_SetupEB </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_SetupEB( </p>
<p>    Spi_ChannelType Channel, </p>
<p>    const Spi_DataType* SrcDataBufferPtr, </p>
<p>    Spi_DataType* DesDataBufferPtr, </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>61 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>    Spi_NumberOfDataType Length </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x05 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Channel </p>
<p>Channel ID. </p>
<p>SrcDataBufferPtr  Pointer to source data buffer. </p>
<p>DesDataBufferPtr Pointer to destination data buffer in RAM. </p>
<p>Length </p>
<p>Length (in bytes) of the data to be transmitted from Srcda-</p>
<p>taBufferPtr and/or received from DesDataBufferPtr </p>
<p>Min.: 1 </p>
<p>Max.: Max of data specified at configuration for this channel </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType </p>
<p>E_OK: Setup command has been accepted </p>
<p>E_NOT_OK: Setup command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service to setup the buffers and the length of data for the EB SPI Handler/Driver </p>
<p>Channel specified. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI316]  </b></p>
<p>⌈</p>
<p>The operation Spi_SetupEB is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI317]  </b></p>
<p>⌈</p>
<p>Return values of the function Spi_SetupEB are E_OK: Setup command </p>
<p>has been accepted and E_NOT_OK: Setup command has not been accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI318]  </b></p>
<p>⌈</p>
<p>The function Spi_SetupEB provides the service to setup the buffers and </p>
<p>the length of data for the EB SPI Handler/Driver Channel specified.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI058] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SetupEB</p>
<p> shall set up the buffers and the length of data </p>
<p>for the specific EB SPI Handler/Driver Channel.</p>
<p>⌋</p>
<p>(BSW12103) </p>
<p> </p>
<p><b>[SPI067] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SetupEB</p>
<p> shall update the buffer pointers and length </p>
<p>attributes of the specified Channel with the provided values.</p>
<p>⌋</p>
<p>(BSW12103) </p>
<p> </p>
<p>As these attributes are persistent, they will be used for all succeeding calls to a </p>
<p>Transmit method (for the specified Channel). </p>
<p> </p>
<p><b>[SPI028] </b></p>
<p>⌈</p>
<p>When the SPI Handler/Driver’s environment is calling the function </p>
<p>Spi_SetupEB</p>
<p> with the parameter </p>
<p>SrcDataBufferPtr</p>
<p> being a Null pointer, the </p>
<p>function shall transmit the default transmit value configured for the channel after a </p>
<p>Transmit method is requested. (See also [SPI035])</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>62 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI030] </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_SetupEB</p>
<p> is called with the parameter </p>
<p>DesDataBufferPtr</p>
<p> being a Null pointer, the SPI Handler/Driver shall ignore the </p>
<p>received data after a Transmit method is requested.(See also [SPI036])</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI037] </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver’s environment shall call the </p>
<p>Spi_SetupEB</p>
<p> func-</p>
<p>tion once for each Channel with EB declared before the SPI Handler/Driver’s envi-</p>
<p>ronment calls a Transmit method on them.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI139] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SetupEB</p>
<p> is pre-compile time configurable by the pa-</p>
<p>rameter </p>
<p>SpiChannelBuffersAllowed. </p>
<p>This function is only relevant for Chan-</p>
<p>nels with EB.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_SetupEB</p>
<p> shall be checked as it is explained in sec-</p>
<p>tion API parameter checking. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>63 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>The SPI Handler/Driver shall have been initialized before the function </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>is called otherwise see [SPI046]. </p>
<p> </p>
<p> </p>
<p><b>8.3.7 </b></p>
<p><b>Spi_GetStatus </b></p>
<p> </p>
<p><b>[SPI181]  </b></p>
<p>⌈</p>
<p>Spi_StatusType Spi_GetStatus( )  </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_GetStatus </p>
<p><i><b>Syntax: </b></i></p>
<p>Spi_StatusType Spi_GetStatus( </p>
<p>    void </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x06 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>None </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Spi_StatusType </p>
<p>Spi_StatusType </p>
<p><i><b>Description: </b></i></p>
<p>Service returns the SPI Handler/Driver software module status. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI319]  </b></p>
<p>⌈</p>
<p>The operation Spi_GetStatus is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI320]  </b></p>
<p>⌈</p>
<p>The function Spi_GetStatus returns the SPI Handler/Driver software mod-</p>
<p>ule status.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI025] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_GetStatus</p>
<p> shall return the SPI Handler/Driver soft-</p>
<p>ware module status.</p>
<p>⌋</p>
<p>(BSW12064, BSW12104) </p>
<p> </p>
<p> </p>
<p><b>8.3.8 </b></p>
<p><b>Spi_GetJobResult </b></p>
<p> </p>
<p><b>[SPI182]  </b></p>
<p><b>⌈</b></p>
<p>Spi_JobResultType Spi_GetJobResult( Spi_JobType Job ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_GetJobResult </p>
<p><i><b>Syntax: </b></i></p>
<p>Spi_JobResultType Spi_GetJobResult( </p>
<p>    Spi_JobType Job </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x07 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Job </p>
<p>Job ID. An invalid job ID will return an undefined result. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Spi_JobResultType </p>
<p>Spi_JobResultType </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>64 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Description: </b></i></p>
<p>This service returns the last transmission result of the specified Job. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI321]  </b></p>
<p>⌈</p>
<p>The operation Spi_GetJobResult is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI322]  </b></p>
<p>⌈</p>
<p>The function Spi_GetJobResult service returns the last transmission result </p>
<p>of the specified Job.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI026] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_GetJobResult</p>
<p> shall return the last transmission result </p>
<p>of the specified Job. </p>
<p>⌋</p>
<p>(BSW157, BSW12104) </p>
<p> </p>
<p><b>[SPI038] </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver’s environment shall call the function </p>
<p>Spi_GetJobResult</p>
<p> to inquire whether the Job transmission has succeeded </p>
<p>(</p>
<p>SPI_JOB_OK</p>
<p>) or failed (</p>
<p>SPI_JOB_FAILED</p>
<p>).</p>
<p>⌋</p>
<p>(BSW157) </p>
<p> </p>
<p>NOTE: Every new transmit job that has been accepted by the SPI Handler/Driver </p>
<p>overwrites the previous job result with </p>
<p>SPI_JOB_QUEUED</p>
<p> or </p>
<p>SPI_JOB_PENDING</p>
<p>. </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_GetJobResult</p>
<p> shall be checked as it is explained </p>
<p>in section API parameter checking. </p>
<p> </p>
<p>If SPI Handler/Driver has not been initialized before the function </p>
<p>Spi_GetJobResult</p>
<p> is called, the return value is undefined. </p>
<p> </p>
<p> </p>
<p><b>8.3.9 </b></p>
<p><b>Spi_GetSequenceResult </b></p>
<p> </p>
<p><b>[SPI183]  </b></p>
<p><b>⌈</b></p>
<p>Spi_SeqResultType Spi_GetSequenceResult( Spi_SequenceType Se-</p>
<p>quence )  </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_GetSequenceResult </p>
<p><i><b>Syntax: </b></i></p>
<p>Spi_SeqResultType Spi_GetSequenceResult( </p>
<p>    Spi_SequenceType Sequence </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x08 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Sequence </p>
<p>Sequence ID. An invalid sequence ID will return an undefined </p>
<p>result. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Spi_SeqResultType Spi_SeqResultType </p>
<p><i><b>Description: </b></i></p>
<p>This service returns the last transmission result of the specified Sequence. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>65 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI323]  </b></p>
<p>⌈</p>
<p>The operation Spi_GetSequenceResult is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI324]  </b></p>
<p>⌈</p>
<p>The function Spi_GetSequenceResult shall return the last transmission </p>
<p>result of the specified Sequence.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI039] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_GetSequenceResult</p>
<p> shall return the last transmission </p>
<p>result of the specified Sequence. </p>
<p>⌋</p>
<p>(BSW157, BSW12104) </p>
<p> </p>
<p><b>[SPI042] </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver’s environment shall call the function </p>
<p>Spi_GetSequenceResult</p>
<p> to inquire whether the full Sequence transmission has </p>
<p>succeeded (</p>
<p>SPI_SEQ_OK</p>
<p>) or failed (</p>
<p>SPI_SEQ_FAILED</p>
<p>).</p>
<p>⌋</p>
<p>(BSW157, BSW12170) </p>
<p> </p>
<p>Note: </p>
<p>- </p>
<p>Every new transmit sequence that has been accepted by the SPI Han-</p>
<p>dler/Driver overwrites the previous sequence result with </p>
<p>SPI_SEQ_PENDING</p>
<p>. </p>
<p>- </p>
<p>If the SPI Handler/Driver has not been initialized before the function </p>
<p>Spi_GetSequenceResult</p>
<p> is called, the return value is undefined. </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_GetSequenceResult</p>
<p> shall be checked as it is ex-</p>
<p>plained in section API parameter checking. </p>
<p> </p>
<p> </p>
<p><b>8.3.10 Spi_GetVersionInfo </b></p>
<p>  </p>
<p><b>[SPI184]  </b></p>
<p><b>⌈</b></p>
<p>void Spi_GetVersionInfo( Std_VersionInfoType* versioninfo ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_GetVersionInfo </p>
<p><i><b>Syntax: </b></i></p>
<p>void Spi_GetVersionInfo( </p>
<p>    Std_VersionInfoType* versioninfo </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x09 </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>None </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>versioninfo </p>
<p>Pointer to where to store the version information of this module. </p>
<p><i><b>Return value: </b></i></p>
<p>None </p>
<p><i><b>Description: </b></i></p>
<p>This service returns the version information of this module. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI325]  </b></p>
<p>⌈</p>
<p>The operation Spi_GetVersionInfo is Non Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI326]  </b></p>
<p>⌈</p>
<p>The function Spi_GetVersionInfo service returns the version information of </p>
<p>this module.</p>
<p>⌋</p>
<p>() </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>66 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI101] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_GetVersionInfo</p>
<p> shall return the version information </p>
<p>of </p>
<p>this </p>
<p>module </p>
<p>according </p>
<p>to </p>
<p>the </p>
<p>definition </p>
<p>of </p>
<p>Std_VersionInfoType  [13] </p>
<p>⌋</p>
<p>(BSW00407)</p>
<p> </p>
<p> </p>
<p><b>[SPI196]  </b></p>
<p><b>⌈</b></p>
<p>If source code for caller and callee of </p>
<p>Spi_GetVersionInfo</p>
<p> is availa-</p>
<p>ble, the SPI Handler/Driver should realize </p>
<p>Spi_GetVersionInfo</p>
<p> as a macro, de-</p>
<p>fined in the module’s header file.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI102]  </b></p>
<p>⌈</p>
<p>The function Spi_GetVersionInfo is pre compile time configurable by the </p>
<p>configuration parameter SpiVersionInfoApi.</p>
<p>⌋</p>
<p>(BSW00407, BSW00411) </p>
<p> </p>
<p><b>[SPI278]  </b></p>
<p>⌈</p>
<p>The function Spi_GetVersionInfo is pre compile time configurable On/Off </p>
<p>by the configuration parameter SpiVersionInfoApi.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI371]  </b></p>
<p><b>⌈</b></p>
<p>If Det is enabled, the parameter versioninfo shall be checked for being </p>
<p>NULL. The error SPI_E_PARAM_POINTER shall be reported in case the value is a </p>
<p>NULL pointer.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>8.3.11 Spi_SyncTransmit </b></p>
<p> </p>
<p><b>[SPI185]  </b></p>
<p><b>⌈</b></p>
<p>Std_ReturnType Spi_SyncTransmit( Spi_SequenceType Sequence ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_SyncTransmit </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_SyncTransmit( </p>
<p>    Spi_SequenceType Sequence </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x0a </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Asynchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Sequence </p>
<p>Sequence ID. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType  E_OK: Transmission command has been accepted </p>
<p>E_NOT_OK: Transmission command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service to transmit data on the SPI bus </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI327]  </b></p>
<p>⌈</p>
<p>The operation Spi_SyncTransmit is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI328]  </b></p>
<p>⌈</p>
<p>Return value of the function Spi_SyncTransmit is E_OK: when Transmis-</p>
<p>sion command has been accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>67 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI329]  </b></p>
<p>⌈</p>
<p>Return value of the function Spi_SyncTransmit is E_NOT_OK: When </p>
<p>Transmission command has not been accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI330]  </b></p>
<p>⌈</p>
<p>The function Spi_SyncTransmit provides the service to transmit data on </p>
<p>the SPI bus.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI134]  </b></p>
<p>⌈</p>
<p>When the function Spi_SyncTransmit is called, shall take over the given </p>
<p>parameter and set the SPI Handler/Driver status to SPI_BUSY can be obtained call-</p>
<p>ing the API service SPI_GetStatus.</p>
<p>⌋</p>
<p>(BSW12152, BSW12153, BSW12154) </p>
<p> </p>
<p><b>[SPI285]  </b></p>
<p>⌈</p>
<p>When the function Spi_SyncTransmit is called, shall take over the given </p>
<p>parameter and set the Sequence status to SPI_SEQ_PENDING can be obtained </p>
<p>calling the API service Spi_GetSequenceResult.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI286]  </b></p>
<p>⌈</p>
<p>When the function Spi_SyncTransmit is called, shall take over the given </p>
<p>parameter and set the Job status to SPI_JOB_PENDING can be obtained calling the </p>
<p>API service Spi_GetJobResult.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI135]  </b></p>
<p>⌈</p>
<p>When the function </p>
<p>Spi_SyncTransmit</p>
<p> is called while a sequence is on </p>
<p>transmission and </p>
<p>SPI_SUPPORT_CONCURRENT_SYNC_TRANSMIT</p>
<p> is disabled or an-</p>
<p>other sequence is on transmition on same bus, the SPI Handler/Driver shall not take </p>
<p>into account this new transmission request and the function shall return the value </p>
<p>E_NOT_OK</p>
<p> (see [SPI114]). In this case and according to [SPI100], the SPI Han-</p>
<p>dler/Driver shall report the </p>
<p>SPI_E_SEQ_IN_PROCESS</p>
<p> error.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI136] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SyncTransmit</p>
<p> is pre-compile time selectable by the </p>
<p>configuration parameter </p>
<p>SpiLevelDelivered</p>
<p>. This function is only relevant for </p>
<p>LEVEL 0 and LEVEL 2.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_SyncTransmit</p>
<p> shall be checked as it is explained </p>
<p>in section API parameter checking </p>
<p> </p>
<p> </p>
<p><b>8.3.12 Spi_GetHWUnitStatus </b></p>
<p> </p>
<p><b>[SPI186]  </b></p>
<p>⌈</p>
<p>Spi_StatusType Spi_GetHWUnitStatus( Spi_HWUnitType HWUnit )  </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_GetHWUnitStatus </p>
<p><i><b>Syntax: </b></i></p>
<p>Spi_StatusType Spi_GetHWUnitStatus( </p>
<p>    Spi_HWUnitType HWUnit </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x0b </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>68 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>HWUnit </p>
<p>SPI Hardware microcontroller peripheral (unit) ID. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Spi_StatusType </p>
<p>Spi_StatusType </p>
<p><i><b>Description: </b></i></p>
<p>This service returns the status of the specified SPI Hardware microcontroller pe-</p>
<p>ripheral. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI331]  </b></p>
<p>⌈</p>
<p>The operation Spi_GetHWUnitStatus is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI332]  </b></p>
<p>⌈</p>
<p>The function Spi_GetHWUnitStatus service returns the status of the </p>
<p>specified SPI Hardware microcontroller peripheral.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI141]  </b></p>
<p><b>⌈</b></p>
<p>The function Spi_GetHWUnitStatus shall return the status of the specified </p>
<p>SPI Hardware microcontroller peripheral.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI287]  </b></p>
<p>⌈</p>
<p>The SPI Handler/Driver’s environment shall call this function to inquire </p>
<p>whether the specified SPI Hardware microcontroller peripheral is SPI_IDLE or </p>
<p>SPI_BUSY.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI142]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_GetHWUnitStatus</p>
<p> is pre-compile time configurable </p>
<p>On / Off by the configuration parameter </p>
<p>SpiHwStatusApi</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>Parameters of the function </p>
<p>Spi_GetHWUnitStatus</p>
<p> shall be checked as it is ex-</p>
<p>plained in section API parameter checking. </p>
<p> </p>
<p>If SPI Handler/Driver has not been initialized before the function </p>
<p>Spi_GetHWUnitStatus</p>
<p> is called, the return value is undefined. </p>
<p> </p>
<p> </p>
<p><b>8.3.13 Spi_Cancel </b></p>
<p> </p>
<p><b>[SPI187]  </b></p>
<p>⌈</p>
<p>void Spi_Cancel( Spi_SequenceType Sequence ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_Cancel </p>
<p><i><b>Syntax: </b></i></p>
<p>void Spi_Cancel( </p>
<p>    Spi_SequenceType Sequence </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x0c </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Asynchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Sequence </p>
<p>Sequence ID. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>69 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>None </p>
<p><i><b>Description: </b></i></p>
<p>Service cancels the specified on-going sequence transmission. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI333]  </b></p>
<p>⌈</p>
<p>The operation Spi_Cancel is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI334]  </b></p>
<p>⌈</p>
<p>The function Spi_Cancel service cancels the specified on-going sequence </p>
<p>transmission.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI144]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_Cancel</p>
<p> shall cancel the specified on-going sequence </p>
<p>transmission without cancelling any Job transmission and set the sequence result to </p>
<p>SPI_SEQ_CANCELLED</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>With other words, the </p>
<p>Spi_Cancel</p>
<p> function stops a Sequence transmission after a </p>
<p>(possible) on transmission Job ended and before a (potential) next Job transmission </p>
<p>starts.  </p>
<p> </p>
<p><b>[SPI145]  </b></p>
<p>⌈</p>
<p>When the sequence is cancelled by the function </p>
<p>Spi_Cancel</p>
<p> and if con-</p>
<p>figured, the SPI Handler/Driver shall call the sequence notification call-back function </p>
<p>instead of starting a potential next job belonging to it.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI146]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_Cancel</p>
<p> is pre-compile time configurable On / Off by </p>
<p>the configuration parameter </p>
<p>SpiCancelApi</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>The SPI Handler/Driver is not responsible on external devices damages or undefined </p>
<p>state due to cancelling a sequence transmission. It is up to the SPI Handler/Driver’s </p>
<p>environment to be aware to what it is doing! </p>
<p> </p>
<p> </p>
<p><b>8.3.14 Spi_SetAsyncMode </b></p>
<p> </p>
<p><b>[SPI188]  </b></p>
<p>⌈</p>
<p>Std_ReturnType Spi_SetAsyncMode( Spi_AsyncModeType Mode ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_SetAsyncMode </p>
<p><i><b>Syntax: </b></i></p>
<p>Std_ReturnType Spi_SetAsyncMode( </p>
<p>    Spi_AsyncModeType Mode </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x0d </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Non Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>Mode </p>
<p>New mode required. </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>Std_ReturnType </p>
<p>E_OK: Setting command has been done </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>70 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>E_NOT_OK: setting command has not been accepted </p>
<p><i><b>Description: </b></i></p>
<p>Service to set the asynchronous mechanism mode for SPI busses handled asyn-</p>
<p>chronously. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI335]  </b></p>
<p>⌈</p>
<p>The operation Spi_SetAsyncMode is Non Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI336]  </b></p>
<p>⌈</p>
<p>Return value of the function Spi_SetAsyncMode is E_OK: Setting com-</p>
<p>mand has been done.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI337]  </b></p>
<p>⌈</p>
<p>Return value of the function Spi_SetAsyncMode is E_NOT_OK: setting </p>
<p>command has not been accepted.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI338]  </b></p>
<p>⌈</p>
<p>The function Spi_SetAsyncMode service to set the asynchronous mecha-</p>
<p>nism mode for SPI buses handled asynchronously.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI152] </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SetAsyncMode</p>
<p> according to the given parameter shall </p>
<p>set the asynchronous mechanism mode for SPI channels configured to behave </p>
<p>asynchronously.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI171] </b></p>
<p>⌈</p>
<p>If the function </p>
<p>Spi_SetAsyncMode</p>
<p> is called while the SPI Handler/Driver </p>
<p>status is </p>
<p>SPI_BUSY</p>
<p> and an asynchronous transmition is in progress, the SPI Han-</p>
<p>dler/Driver shall not change the AsyncModeType and keep the mode type as it is. </p>
<p>The function shall return the value </p>
<p>E_NOT_OK</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI172] </b></p>
<p>⌈</p>
<p>If  </p>
<p>Spi_SetAsyncMode</p>
<p> is called while a synchronous transmission is in </p>
<p>progress, the SPI Handler/Driver shall set the AsyncModeType according to parame-</p>
<p>ter 'Mode', even if the SPI Handler/Driver status is </p>
<p>SPI_BUSY</p>
<p>. The function shall re-</p>
<p>turn the value </p>
<p>E_OK</p>
<p>.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI154]  </b></p>
<p>⌈</p>
<p>The function </p>
<p>Spi_SetAsyncMode</p>
<p> is pre-compile time selectable by the </p>
<p>configuration parameter </p>
<p>SpiLevelDelivered</p>
<p>. This function is only relevant for </p>
<p>LEVEL 2.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>71 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>8.4 </b></p>
<p><b>Callback notifications </b></p>
<p> </p>
<p>This chapter lists all functions provided by the SPI module to lower layer modules. </p>
<p> </p>
<p>The SPI Handler/Driver module belongs to the lowest layer of AUTOSAR Software </p>
<p>Architecture hence this module specification has not identified any callback functions. </p>
<p> </p>
<p> </p>
<p><b>8.5 </b></p>
<p><b>Scheduled functions </b></p>
<p> </p>
<p>This chapter lists all functions provided by the SPI Handler/Driver and called directly </p>
<p>by the Basic Software Module Scheduler. </p>
<p> </p>
<p>The SPI Handler/Driver module requires a scheduled function for the management of </p>
<p>the asynchronous mode managed with polling (see SPI361). The specified functions </p>
<p>below exemplify how to implement them if they are needed.  </p>
<p> </p>
<p> </p>
<p><b>8.5.1 </b></p>
<p><b>Spi_MainFunction_Handling </b></p>
<p> </p>
<p><b>[SPI189]  </b></p>
<p><b>⌈</b></p>
<p>void Spi_MainFunction_Handling ( void ) </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>Spi_MainFunction_Handling </p>
<p><i><b>Syntax: </b></i></p>
<p>void Spi_MainFunction_Handling( </p>
<p>    void </p>
<p>) </p>
<p><i><b>Service ID[hex]: </b></i></p>
<p>0x10 </p>
<p><i><b>Timing: </b></i></p>
<p>FIXED_CYCLIC </p>
<p><i><b>Description: </b></i></p>
<p>-- </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>This function shall polls the SPI interrupts linked to HW Units allocated to the trans-</p>
<p>mission of SPI sequences to enable the evolution of transmission state machine. </p>
<p> </p>
<p><b>8.6 </b></p>
<p><b>Expected Interfaces </b></p>
<p> </p>
<p>This chapter lists all functions that the SPI Handler/Driver requires from other mod-</p>
<p>ules. </p>
<p><b>8.6.1 </b></p>
<p><b>Mandatory Interfaces </b></p>
<p> </p>
<p>The  SPI  Handler/Driver  module  does  not  define  any  interface  which  is  required  to </p>
<p>fulfill its core functionality. </p>
<p> </p>
<p> </p>
<p><b>8.6.2 </b></p>
<p><b>Optional Interfaces </b></p>
<p> </p>
<p>This chapter defines all interfaces which are required to fulfill an optional functionality </p>
<p>of SPI Handler/Driver module. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>72 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>[SPI191]  </b></p>
<p>⌈</p>
<p>void Dem_ReportErrorStatus(Dem_EventIdType EventId, </p>
<p>Dem_EventStatusType EventStatus)</p>
<p>⌋</p>
<p>() </p>
<p><b> </b></p>
<p><b>[SPI339]  </b></p>
<p>⌈</p>
<p>void Det_ReportError(uint16 ModuleId, uint8 InstanceId, uint8 ApiId, uint8 </p>
<p>ErrorId) </p>
<p> </p>
<p> </p>
<p><i><b>API function </b></i></p>
<p><i><b>Description </b></i></p>
<p>Dem_ReportErrorStatus </p>
<p>Queues the reported events from the BSW modules (API is only used </p>
<p>by BSW modules). The interface has an asynchronous behavior, be-</p>
<p>cause the processing of the event is done within the Dem main function. </p>
<p>Det_ReportError </p>
<p>Service to report development errors. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>8.6.3 </b></p>
<p><b>Configurable interfaces </b></p>
<p> </p>
<p>In this chapter all interfaces are listed where the target function could be configured. </p>
<p>The target function is usually a call-back function. The name of these interfaces is not </p>
<p>fixed because they are configurable. </p>
<p> </p>
<p><b>[SPI075] </b></p>
<p>⌈</p>
<p>The </p>
<p>SPI </p>
<p>Handler/Driver </p>
<p>shall </p>
<p>use </p>
<p>the </p>
<p>callback </p>
<p>routines </p>
<p>Spi_JobEndNotification    to  inform  other  software  modules  about  certain  states  or </p>
<p>state changes.</p>
<p>⌋</p>
<p>(BSW157) </p>
<p> </p>
<p><b>[SPI264] </b></p>
<p>⌈</p>
<p>The </p>
<p>SPI </p>
<p>Handler/Driver </p>
<p>shall </p>
<p>use </p>
<p>the </p>
<p>callback </p>
<p>routines </p>
<p>Spi_SeqEndNotification  to  inform  other  software  modules  about  certain  states  or </p>
<p>state changes.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI265]  </b></p>
<p>⌈</p>
<p>For implement the call back function other modules are required to pro-</p>
<p>vide the routines in the expected manner.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p>he </p>
<p>callback </p>
<p>notifications </p>
<p>Spi_JobEndNotification</p>
<p> </p>
<p>and </p>
<p>Spi_SeqEndNotification</p>
<p> as function pointers defined within the initialization da-</p>
<p>ta structure (</p>
<p>Spi_ConfigType</p>
<p>).</p>
<p>⌋</p>
<p>(BSW12056) </p>
<p> </p>
<p>The callback notifications </p>
<p>Spi_JobEndNotification</p>
<p> and </p>
<p>Spi_SeqEndNotification</p>
<p> shall have no parameters and no return </p>
<p>value.</p>
<p>⌋</p>
<p>(BSW00359, BSW00360, BSW00369) </p>
<p> </p>
<p><b>[SPI054] </b></p>
<p>⌈</p>
<p>If a callback notification is configured as null pointer, no callback shall be </p>
<p>executed.</p>
<p>⌋</p>
<p>(BSW12056) </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>73 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>[SPI085] </b></p>
<p>⌈</p>
<p>It is allowed to use the following API calls within the SPI callback notifica-</p>
<p>tions:  </p>
<p>•</p>
<p> </p>
<p>Spi_ReadIB </p>
<p>•</p>
<p> </p>
<p>Spi_WriteIB </p>
<p>•</p>
<p> </p>
<p>Spi_SetupEB </p>
<p>•</p>
<p> </p>
<p>Spi_GetJobResult </p>
<p>•</p>
<p> </p>
<p>Spi_GetSequenceResult </p>
<p>•</p>
<p> </p>
<p>Spi_GetHWUnitStatus </p>
<p>•</p>
<p> </p>
<p>Spi_Cancel </p>
<p>All other SPI Handler/Driver API calls are not allowed.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p> </p>
<p><b>8.6.3.1  Spi_JobEndNotification </b></p>
<p> </p>
<p><b>[SPI192]  </b></p>
<p>⌈</p>
<p>void (*Spi_JobEndNotification)( ) </p>
<p> </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>(*Spi_JobEndNotification) </p>
<p><i><b>Syntax: </b></i></p>
<p>void (*Spi_JobEndNotification)( </p>
<p>    void </p>
<p>) </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>None </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>None </p>
<p><i><b>Description: </b></i></p>
<p>Callback routine provided by the user for each Job to notify the caller that a job </p>
<p>has been finished. </p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI340]  </b></p>
<p><b>⌈</b></p>
<p>The operation SpiJobEndNotification is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI071] </b></p>
<p>⌈</p>
<p>If the </p>
<p>SpiJobEndNotification</p>
<p> is configured (i.e. not a null pointer), the </p>
<p>SPI Handler/Driver shall call the configured callback notification at the end of a Job </p>
<p>transmission.</p>
<p>⌋</p>
<p>(BSW157) </p>
<p> </p>
<p>Note: This routine might be called on interrupt level, depending on the calling func-</p>
<p>tion. </p>
<p> </p>
<p> </p>
<p><b>8.6.3.2  Spi_SeqEndNotification </b></p>
<p> </p>
<p><b>[SPI193]  </b></p>
<p>⌈</p>
<p>void (*Spi_SeqEndNotification)( )  </p>
<p> </p>
<p><i><b>Service name: </b></i></p>
<p>(*Spi_SeqEndNotification) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>74 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Syntax: </b></i></p>
<p>void (*Spi_SeqEndNotification)( </p>
<p>    void </p>
<p>) </p>
<p><i><b>Sync/Async: </b></i></p>
<p>Synchronous </p>
<p><i><b>Reentrancy: </b></i></p>
<p>Reentrant </p>
<p><i><b>Parameters (in): </b></i></p>
<p>None </p>
<p><i><b>Parameters (in-</b></i></p>
<p><i><b>out): </b></i></p>
<p>None </p>
<p><i><b>Parameters (out): </b></i></p>
<p>None </p>
<p><i><b>Return value: </b></i></p>
<p>None </p>
<p><i><b>Description: </b></i></p>
<p>Callback routine provided by the user for each Sequence to notify the caller that a </p>
<p>sequence has been finished. </p>
<p>⌋</p>
<p>() </p>
<p><b> </b></p>
<p><b>[SPI341]  </b></p>
<p>⌈</p>
<p>The operation SpiJobEndNotification is Re-entrant.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI073] </b></p>
<p>⌈</p>
<p>If the </p>
<p>SpiSeqEndNotification</p>
<p> is configured (i.e. not a null pointer), the </p>
<p>SPI Handler/Driver shall call the configured callback notification at the end of a Se-</p>
<p>quence transmission.</p>
<p>⌋</p>
<p>(BSW157) </p>
<p> </p>
<p>Note: This routine might be called on interrupt level, depending on the calling func-</p>
<p>tion. </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>75 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9 </b></p>
<p><b>Sequence diagrams </b></p>
<p> </p>
<p><b>9.1 </b></p>
<p><b>Initialization </b></p>
<p> </p>
<p>«module»</p>
<p>Spi</p>
<p>Spi User</p>
<p>Spi_Init(const</p>
<p>Spi_ConfigType*)</p>
<p>Spi_Init()</p>
<p> </p>
<p> </p>
<p> </p>
<p><b>9.2 </b></p>
<p><b>Modes transitions </b></p>
<p> </p>
<p>The following sequence diagram shows an example of an Init / DeInit calls for a run-</p>
<p>ning mode transition. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>76 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>«module»</p>
<p>Spi</p>
<p>Spi User</p>
<p>Description:</p>
<p>Initialization of SPI Handler/Driver is </p>
<p>performed synchronously with a </p>
<p>parameter to run in a mode.</p>
<p>For instance, &quot;FullPowerConf&quot; is the </p>
<p>structure containing all configurations </p>
<p>for the &quot;RUN State&quot; with PLL enable.</p>
<p>Description:</p>
<p>Use the get status service of SPI </p>
<p>Handler/Driver to know its state before </p>
<p>to de-initialize it.</p>
<p>Description:</p>
<p>Initialization of SPI Handler/Driver is </p>
<p>performed with a specific parameter to run in </p>
<p>another mode.</p>
<p>For instance, &quot;ReducePowerConf&quot; is the </p>
<p>structure containing all configurations for the </p>
<p>&quot;SLEEP State&quot; with PLL disable.</p>
<p>Use of SPI </p>
<p>Handler/Driver: </p>
<p>Embedded software </p>
<p>execution, time and </p>
<p>code execution </p>
<p>undefined during this </p>
<p>life period.</p>
<p>Use of SPI </p>
<p>Handler/Driver: </p>
<p>Embedded software </p>
<p>execution, time and </p>
<p>code execution </p>
<p>undefined during this </p>
<p>life period.</p>
<p>Spi_Init(const</p>
<p>Spi_ConfigType*)</p>
<p>Spi_Init()</p>
<p>Spi_GetStatus(Spi_StatusType) :</p>
<p>Spi_StatusType</p>
<p>Spi_GetStatus=SPI_BUSY()</p>
<p>Spi_GetStatus(Spi_StatusType) :</p>
<p>Spi_StatusType</p>
<p>Spi_GetStatus=SPI_IDLE()</p>
<p>Spi_DeInit(Std_ReturnType)</p>
<p>Spi_DeInit()</p>
<p>Spi_Init(const</p>
<p>Spi_ConfigType*)</p>
<p>Spi_Init()</p>
<p> </p>
<p> </p>
<p><b>9.3 </b></p>
<p><b>Write/AsyncTransmit/Read (IB) </b></p>
<p> </p>
<p><b>9.3.1 </b></p>
<p><b>One Channel, one Job then one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_WriteIB </p>
<p>/ </p>
<p>Spi_AsyncTransmit  /  Spi_ReadIB  calls  for  a  Sequence  transmission  with  only  one </p>
<p>Job composed of only one Channel. Write or Read step could be skipped when Job </p>
<p>is just reading or writing respectively. </p>
<p> </p>
<p>Example: Channel ID 2 belongs to Job ID 1 which belongs to Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID2 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>77 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>«module»</p>
<p>Spi</p>
<p>Spi User</p>
<p>Description:</p>
<p>Write to the Channel is done synchronously. </p>
<p>You pass the Channel ID and the buffer.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. The </p>
<p>SPI Handler/Driver records the sequence and </p>
<p>returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the sequence</p>
<p>requested and the prioritization mechanism.</p>
<p>This case is not a Sequence of linked Jobs so </p>
<p>the SPI Handler/Driver becomes idle at the end </p>
<p>of the Channel transmission.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>Description:</p>
<p>The received data will be allocated in the </p>
<p>configured receive buffers, and can be read </p>
<p>using the read function for IB Channels.</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>Spi_ReadIB(Std_ReturnType, Spi_ChannelType, Spi_DataType**)</p>
<p>Spi_ReadIB()</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>78 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.3.2 </b></p>
<p><b>Many Channels, one Job then one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_WriteIB </p>
<p>/ </p>
<p>Spi_AsyncTransmit  /  Spi_ReadIB  calls  for  a  Sequence  transmission  with  only  one </p>
<p>Job composed of many Channels. Write or Read steps could be skipped when Job is </p>
<p>just reading or writing respectively. </p>
<p> </p>
<p>Example: Channels ID 2 &amp; 3 belong to Job ID 1 which belongs to Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID2 </p>
<p>ID3 </p>
<p> </p>
<p>«module»</p>
<p>Spi</p>
<p>User1 :Spi User</p>
<p>User2 :Spi User</p>
<p>Description:</p>
<p>Write to a Channel is done synchronously. You </p>
<p>pass the Channel ID and the buffer.</p>
<p>In this case, Channels are within the same Job.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. The </p>
<p>SPI Handler/Driver records the sequence and </p>
<p>returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the sequence</p>
<p>requested and the prioritization mechanism.</p>
<p>This case is not a sequence of linked Jobs. At </p>
<p>the end of Channels transmission the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>Description:</p>
<p>The received data, if there are, will be </p>
<p>allocated in the configured receive buffers, </p>
<p>and can be read using the read function for </p>
<p>IB Channels.</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>Spi_ReadIB(Std_ReturnType, Spi_ChannelType, Spi_DataType**)</p>
<p>Spi_ReadIB()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>79 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.3.3 </b></p>
<p><b>Many Channels, many Jobs and one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_WriteIB </p>
<p>/ </p>
<p>Spi_AsyncTransmit / Spi_ReadIB calls for a Sequence transmission of linked Jobs. </p>
<p>Write or Read steps could be skipped when Jobs are just reading or writing respec-</p>
<p>tively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (higher priority), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Lower priority) which has not an end notification function. These </p>
<p>Jobs belong to the same Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Priority </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>High </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>Low </p>
<p>ID4…ID10 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>80 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>User2 :Spi User</p>
<p>User1 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>Description:</p>
<p>Write to a Channel is done synchronously. You </p>
<p>pass the Channel ID and the buffer.</p>
<p>In this case, Channels are not within the same </p>
<p>Job.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. The </p>
<p>SPI Handler/Driver records the sequence and </p>
<p>returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the sequence</p>
<p>requested and the prioritization mechanism.</p>
<p>This case is a sequence of linked Jobs. At the </p>
<p>end of Channels transmission the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>Description:</p>
<p>The received data, if there are, will be allocated</p>
<p>in the configured receive buffers, and can be </p>
<p>read using the read function for IB Channels.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=1...3</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>Seq0.Job2()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>Spi_ReadIB(Std_ReturnType, Spi_ChannelType, Spi_DataType**)</p>
<p>Spi_ReadIB()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>81 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.3.4 </b></p>
<p><b>Many Channels, many Jobs and many Sequences </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_WriteIB </p>
<p>/ </p>
<p>Spi_AsyncTransmit  /  Spi_ReadIB  calls  for  Sequences  transmission. Write  or  Read </p>
<p>steps could be skipped when Jobs are just reading or writing respectively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (high priority 2), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Low priority 1) which has not an end notification function. These </p>
<p>Jobs belong to the same Sequence ID 0 which is configured as interruptible. </p>
<p>Channels  ID  11  to  13  belong  to  Job  ID  0  (higher  priority  3)  which  belongs  to  Se-</p>
<p>quence ID 1 which is configured as not interruptible. </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Interruptible </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Priority </b></i></p>
<p>ID0 </p>
<p>Yes </p>
<p>ID1 </p>
<p>2 </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>1 </p>
<p>ID4…ID10 </p>
<p>ID1 </p>
<p>No </p>
<p>ID0 </p>
<p>3 </p>
<p>ID11…ID13 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>82 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>User1 :Spi User</p>
<p>User2 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>Description:</p>
<p>Write to a Channel is done </p>
<p>synchronously. You pass the Channel </p>
<p>ID and the buffer.</p>
<p>In this case, Channels are not within </p>
<p>the same Job.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI </p>
<p>bus) is done asynchronously according to </p>
<p>the job requested and the prioritization </p>
<p>mechanism.</p>
<p>This case concerns many Sequences of </p>
<p>many Jobs so at the end of a Job </p>
<p>transmission SPI Handler/Driver schedule </p>
<p>the next Job to transmit. </p>
<p>The Job selected has the higher priority </p>
<p>and could belong to another Sequence </p>
<p>only if the sequence on going is </p>
<p>configured as interruptible.</p>
<p>At the end of all Sequences transmission </p>
<p>SPI Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>The received data, if there are, will be </p>
<p>allocated in the configured receive </p>
<p>buffers, and can be read using the read </p>
<p>function for IB Channels.</p>
<p>Description:</p>
<p>Transmission is performing </p>
<p>asynchronously. The SPI </p>
<p>Handler/Driver records the </p>
<p>sequence and returns.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is configured, the “End Job </p>
<p>Notification” of the Job process is called.</p>
<p>Description:</p>
<p>When the Sequence </p>
<p>transmission ends, if it is </p>
<p>configured, the “End </p>
<p>Seq Notification” of the </p>
<p>Sequence process is </p>
<p>called.</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=12...13</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1 (part1)</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1 (part2)</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>Seq1.Job0()</p>
<p>&lt;Spi_Seq1EndNotification&gt;()</p>
<p>&lt;Spi_Seq1EndNotification&gt;()</p>
<p>Spi_ReadIB(Std_ReturnType, Spi_ChannelType, Spi_DataType**)</p>
<p>Spi_ReadIB()</p>
<p>Seq0.Job2()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>Spi_ReadIB(Spi_ChannelType, Spi_DataType*) :Std_ReturnType</p>
<p>Spi_ReadIB()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>83 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.4 </b></p>
<p><b>Setup/AsyncTransmit (EB) </b></p>
<p> </p>
<p><b>9.4.1 </b></p>
<p><b>Variable Number of Data / Constant Number of Data </b></p>
<p> </p>
<p><b>[SPI077] </b></p>
<p>⌈</p>
<p>To </p>
<p>transmit </p>
<p>a </p>
<p>variable </p>
<p>number </p>
<p>of </p>
<p>data, </p>
<p>it </p>
<p>is </p>
<p>mandatory </p>
<p>to </p>
<p>call </p>
<p>the </p>
<p>Spi_SetupEB</p>
<p>  function  to  store  new  parameters  within  SPI  Handler/Driver  before </p>
<p>each </p>
<p>Spi_AsyncTransmit</p>
<p> function call.</p>
<p>⌋</p>
<p>(BSW12198, BSW12200, BSW12201) </p>
<p> </p>
<p><b>[SPI078] </b></p>
<p>⌈</p>
<p>To  transmit  a  constant  number  of  data,  it  is  only  mandatory  to  call  the </p>
<p>Spi_SetupEB</p>
<p> function to store parameters within SPI Handler/Driver before the first </p>
<p>Spi_AsyncTransmit</p>
<p> function call.</p>
<p>⌋</p>
<p>(BSW12253, BSW12262, BSW12202) </p>
<p> </p>
<p> </p>
<p><b>9.4.2 </b></p>
<p><b>One Channel, one Job then one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>/ </p>
<p>Spi_AsyncTransmit</p>
<p>  calls  for  a  Sequence  transmission  with  only  one  Job  com-</p>
<p>posed of only one Channel. Write or Read accesses are “User Dependant” and could </p>
<p>be skipped when Job is just reading or writing respectively. </p>
<p> </p>
<p>Example: Channel ID 2 belongs to Job ID 1 which belongs to Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID2 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>84 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>«module»</p>
<p>Spi</p>
<p>Spi User</p>
<p>Description:</p>
<p>Setup a Channel; initialize buffer pointers </p>
<p>and length synchronously. Parameters are </p>
<p>saved.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. The </p>
<p>SPI Handler/Driver records the sequence and </p>
<p>returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the sequence</p>
<p>requested and the prioritization mechanism.</p>
<p>This case is not a Sequence of linked Jobs so </p>
<p>the SPI Handler/Driver becomes idle at the end </p>
<p>of the Channel transmission.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>85 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>9.4.3 </b></p>
<p><b>Many Channels, one Job then one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>/ </p>
<p>Spi_AsyncTransmit</p>
<p>  calls  for  a  Sequence  transmission  with  only  one  Job  com-</p>
<p>posed of many Channels. Write or Read accesses are “User Dependant” and could </p>
<p>be skipped when Job is just reading or writing respectively. </p>
<p> </p>
<p>Example: Channels ID 2 &amp; 3 belong to Job ID 1 which belongs to Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID2 </p>
<p>ID3 </p>
<p> </p>
<p>«module»</p>
<p>Spi</p>
<p>User1 :Spi User</p>
<p>User2 :Spi User</p>
<p>Description:</p>
<p>Setup a Channel; initialize buffer pointers </p>
<p>and length synchronously. Parameters are </p>
<p>saved.</p>
<p>In this case, Channels are within the same </p>
<p>Job.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. </p>
<p>The SPI Handler/Driver records the sequence </p>
<p>and returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the </p>
<p>sequence requested and the prioritization </p>
<p>mechanism.</p>
<p>This case is not a sequence of linked Jobs. At </p>
<p>the end of Channels transmission the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>The received data, if there are, will be </p>
<p>directly stored in EB Channel receive buffer </p>
<p>and can be used such as.</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>86 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.4.4 </b></p>
<p><b>Many Channels, many Jobs and one Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>/ </p>
<p>Spi_AsyncTransmit</p>
<p>  calls  for  a  Sequence  transmission  of  linked  Jobs.  Write  or </p>
<p>Read accesses are “User Dependant” and could be skipped when Job is just  read-</p>
<p>ing or writing respectively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (higher priority), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Lower priority) which has not an end notification function. These </p>
<p>Jobs belong to the same Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>ID4…ID10 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>87 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>User1 :Spi User</p>
<p>User2 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>Description:</p>
<p>Setup a Channel; initialize buffer pointers </p>
<p>and length synchronously. Parameters are </p>
<p>saved.</p>
<p>In this case, Channels are not within the same</p>
<p>Job.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. </p>
<p>The SPI Handler/Driver records the sequence </p>
<p>and returns.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the job </p>
<p>requested and the prioritization mechanism.</p>
<p>This case is a Sequence of linked Jobs so at </p>
<p>the end of a Job transmission SPI </p>
<p>Handler/Driver schedule the next Job to </p>
<p>transmit.</p>
<p>At the end of Sequence transmission the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>The received data will be allocated in the </p>
<p>configured receive buffers, and can be read </p>
<p>using the read function for IB Channels.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it </p>
<p>is configured, the “End Seq Notification” of </p>
<p>the Sequence process is called.</p>
<p>The received data, if there are, will be </p>
<p>directly stored in EB Channel receive buffer </p>
<p>and can be used such as.</p>
<p>Description:</p>
<p>When a Job transmission </p>
<p>ends, if it is configured, the </p>
<p>“End Job Notification” of the </p>
<p>Job process is called.</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=1...3</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>Seq0.Job2()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>88 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.4.5 </b></p>
<p><b>Many Channels, many Jobs and many Sequences </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>/ </p>
<p>Spi_AsyncTransmit</p>
<p>  calls  for  Sequences  transmission.  Write  or  Read  accesses </p>
<p>are “User Dependant” and could be skipped when Job is just reading or writing re-</p>
<p>spectively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (high priority 2), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Low priority 1) which has not an end notification function. These </p>
<p>Jobs belong to the same Sequence ID 0 which is configured as interruptible. </p>
<p>Channels  ID  11  to  13  belong  to  Job  ID  0  (higher  priority  3)  which  belongs  to  Se-</p>
<p>quence ID 1 which is configured as not interruptible. </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Interruptible </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Priority </b></i></p>
<p>ID0 </p>
<p>Yes </p>
<p>ID1 </p>
<p>2 </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>1 </p>
<p>ID4…ID10 </p>
<p>ID1 </p>
<p>No </p>
<p>ID0 </p>
<p>3 </p>
<p>ID11…ID13 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>89 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>User2 :Spi User</p>
<p>User1 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>Description:</p>
<p>Setup a Channel; initialize buffer pointers </p>
<p>and length synchronously. Parameters are </p>
<p>saved.</p>
<p>In this case, Jobs of those Channels are not </p>
<p>within the same Sequence.</p>
<p>Description:</p>
<p>Transmission processing (writing to SPI bus) is </p>
<p>done asynchronously according to the job </p>
<p>requested and the prioritization mechanism.</p>
<p>This case concerns many Sequences of many </p>
<p>Jobs so at the end of a Job transmission SPI </p>
<p>Handler/Driver schedule the next Job to </p>
<p>transmit.</p>
<p>The Job selected has the higher priority and </p>
<p>could belong to another Sequence only if the </p>
<p>sequence on going is configured as </p>
<p>interruptible.</p>
<p>At the end of all Sequences transmission SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>Description:</p>
<p>Transmission is performing asynchronously. </p>
<p>The SPI Handler/Driver records the sequence </p>
<p>and returns.</p>
<p>Description:</p>
<p>When a Job transmission ends, if it is </p>
<p>configured, the “End Job Notification” of the </p>
<p>Job process is called.</p>
<p>Description:</p>
<p>When the Sequence transmission ends, if it is </p>
<p>configured, the “End Seq Notification” of the </p>
<p>Sequence process is called.</p>
<p>The received data, if there are, will be </p>
<p>directly stored in EB Channel receive buffer </p>
<p>and can be used such as.</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=12...13</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1 (part1)</p>
<p>Spi_AsyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Spi_AsyncTransmit()</p>
<p>Seq0.Job1 (part2)</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>&lt;Spi_Job1EndNotification&gt;()</p>
<p>Seq1.Job0()</p>
<p>&lt;Spi_Seq1EndNotification&gt;()</p>
<p>&lt;Spi_Seq1EndNotification&gt;()</p>
<p>Seq0.Job2()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p>&lt;Spi_Seq0EndNotification&gt;()</p>
<p> </p>
<p> </p>
<p><b>9.5 </b></p>
<p><b>Mixed Jobs Transmission </b></p>
<p> </p>
<p>All kind of mixed Jobs transmission is possible according to the Channels configura-</p>
<p>tion and the priority requirement inside Sequences. </p>
<p> </p>
<p>The user knows which Channels are in use. Then, according to the types of these </p>
<p>Channels, the appropriate methods shall be called. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>90 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>91 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.6 </b></p>
<p><b>LEVEL 0 SyncTransmit diagrams </b></p>
<p> </p>
<p><b>9.6.1 </b></p>
<p><b>Write/SyncTransmit/Read (IB): Many Channels, many Jobs and one </b></p>
<p><b>Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_WriteIB </p>
<p>/ </p>
<p>Spi_SyncTransmit  /  Spi_ReadIB  calls  for  a  Sequence  transmission  of  linked  Jobs. </p>
<p>Write or Read steps could be skipped when Jobs are just reading or writing respec-</p>
<p>tively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (higher priority), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Lower priority). These Jobs belong to the same Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p><i><b>Name </b></i></p>
<p><i><b>Priority </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>High </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>Low </p>
<p>ID4…ID10 </p>
<p> </p>
<p>User1 :Spi User</p>
<p>User2 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=1...3</p>
<p>Write to a Channel is done </p>
<p>synchronously. You pass the </p>
<p>Channel ID and the buffer.</p>
<p>In this case, Channels are not </p>
<p>within the same Job.</p>
<p>The received data, if there are, </p>
<p>will be allocated in the </p>
<p>configured receive buffers, and </p>
<p>can be read using the read </p>
<p>function for IB Channels.</p>
<p>Transmission is performing </p>
<p>synchronously. The SPI </p>
<p>Handler/Driver transmits the </p>
<p>complete Sequence and it </p>
<p>returns. At the end of Sequence </p>
<p>transmission, the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_WriteIB(Std_ReturnType, Spi_ChannelType, const</p>
<p>Spi_DataType*)</p>
<p>Spi_WriteIB()</p>
<p>Spi_SyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Seq0.Job1()</p>
<p>Seq0.Job2()</p>
<p>Spi_SyncTransmit()</p>
<p>Spi_ReadIB(Std_ReturnType, Spi_ChannelType, Spi_DataType**)</p>
<p>Spi_ReadIB()</p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>92 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>9.6.2 </b></p>
<p><b>Setup/SyncTransmit (EB): Many Channels, many Jobs and one </b></p>
<p><b>Sequence </b></p>
<p> </p>
<p>The </p>
<p>following </p>
<p>sequence </p>
<p>diagram </p>
<p>shows </p>
<p>an </p>
<p>example </p>
<p>of </p>
<p>Spi_SetupEB</p>
<p> </p>
<p>/ </p>
<p>Spi_SyncTransmit</p>
<p>  calls  for  a  Sequence  transmission  of  linked  Jobs.  Write  or </p>
<p>Read accesses are “User Dependant” and could be skipped when Job is just  read-</p>
<p>ing or writing respectively. </p>
<p> </p>
<p>Example: Channels ID 0 to 3 belong to Job ID 1 (higher priority), Channels ID 4 to 10 </p>
<p>belong to Job ID 2 (Lower priority). These Jobs belong to the same Sequence ID 0 </p>
<p> </p>
<p><i><b>Sequence </b></i></p>
<p><i><b>Job </b></i></p>
<p><i><b>Channel </b></i></p>
<p>ID0 </p>
<p>ID1 </p>
<p>ID0…ID3 </p>
<p>ID2 </p>
<p>ID4…ID10 </p>
<p> </p>
<p>User2 :Spi User</p>
<p>User1 :Spi User</p>
<p>«module»</p>
<p>Spi</p>
<p>loop Channel:=5...10</p>
<p>loop Channel:=1...3</p>
<p>Setup a Channel; initialize </p>
<p>buffer pointers and length </p>
<p>synchronously. Parameters are </p>
<p>saved. In this case, Channels are </p>
<p>not within the same Job.</p>
<p>Description:</p>
<p>The received data, if there are, </p>
<p>will be directly stored in EB </p>
<p>Channel receive buffer and can </p>
<p>be used such as.</p>
<p>Transmission is performing </p>
<p>synchronously. The SPI </p>
<p>Handler/Driver transmits the </p>
<p>complete Sequence and it </p>
<p>returns. At the end of Sequence </p>
<p>transmission, the SPI </p>
<p>Handler/Driver becomes idle.</p>
<p>opt If channel needed</p>
<p>opt If channel needed</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SetupEB(Std_ReturnType, Spi_ChannelType, const Spi_DataType*, Spi_DataType*,</p>
<p>Spi_NumberOfDataType)</p>
<p>Spi_SetupEB()</p>
<p>Spi_SyncTransmit(Std_ReturnType, Spi_SequenceType)</p>
<p>Seq0.Job1()</p>
<p>Seq0.Job2()</p>
<p>Spi_SyncTransmit()</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>93 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>10 Configuration specification </b></p>
<p> </p>
<p><b>10.1 How to read this chapter </b></p>
<p> </p>
<p>In addition to this section, it is highly recommended to read the documents: </p>
<p>- </p>
<p>AUTOSAR Layered Software Architecture [1] </p>
<p>- </p>
<p>AUTOSAR ECU Configuration Specification [5] </p>
<p>This document describes the AUTOSAR configuration methodology and the </p>
<p>AUTOSAR configuration metamodel in detail. </p>
<p> </p>
<p>The following is only a short survey of the topic and it will not replace the ECU Con-</p>
<p>figuration Specification document. </p>
<p> </p>
<p> </p>
<p><b>10.1.1 Configuration and configuration parameters </b></p>
<p> </p>
<p>Configuration parameters define the variability of the generic part(s) of an implemen-</p>
<p>tation of a module. This means that only generic or configurable module implementa-</p>
<p>tion  can  be  adapted  to  the  environment  (software/hardware)  in  use  during  system </p>
<p>and/or ECU configuration. </p>
<p> </p>
<p>The configuration of parameters can be achieved at different times during the soft-</p>
<p>ware process: before compile time, before link time or after build time. In the follow-</p>
<p>ing, the term “configuration class” (of a parameter) shall be used in order to refer to a </p>
<p>specific configuration point in time. </p>
<p> </p>
<p> </p>
<p><b>10.1.2 Containers </b></p>
<p> </p>
<p>Containers structure the set of configuration parameters. This means: </p>
<p>- </p>
<p><i>all </i>configuration parameters are kept in containers. </p>
<p>- </p>
<p>(sub-)  containers  can  reference  (sub-)  containers.  It  is  possible  to  assign  a </p>
<p>multiplicity to these references. The multiplicity then defines the possible num-</p>
<p>ber of instances of the contained parameters. </p>
<p><i> </i></p>
<p> </p>
<p><b>10.1.3 Specification template for configuration parameters </b></p>
<p> </p>
<p>The following tables consist of three sections: </p>
<p>- </p>
<p>the general section </p>
<p>- </p>
<p>the configuration parameter section </p>
<p>- </p>
<p>the section of included/referenced containers </p>
<p> </p>
<p> </p>
<p>Pre-compile time </p>
<p>- </p>
<p>specifies whether the configuration parameter shall be </p>
<p>of configuration class <i>Pre-compile time </i>or not </p>
<p> </p>
<p><i><b>Label </b></i></p>
<p><i><b>Description </b></i></p>
<p>x </p>
<p>The configuration parameter shall be of configuration class <i>Pre-compile time</i>. </p>
<p>-- </p>
<p>The configuration parameter shall never be of configuration class <i>Pre-compile time</i>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>94 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p>Link time </p>
<p>- </p>
<p>specifies whether the configuration parameter shall be </p>
<p>of configuration class <i>Link time </i>or not  </p>
<p> </p>
<p><i><b>Label </b></i></p>
<p><i><b>Description </b></i></p>
<p>x </p>
<p>The configuration parameter shall be of configuration class <i>Link time</i>. </p>
<p>-- </p>
<p>The configuration parameter shall never be of configuration class <i>Link time</i>. </p>
<p> </p>
<p>Post Build </p>
<p>- </p>
<p>specifies whether the configuration parameter shall be </p>
<p>of configuration class <i>Post Build </i>or not </p>
<p> </p>
<p><i><b>Label </b></i></p>
<p><i><b>Description </b></i></p>
<p>x </p>
<p>The configuration parameter shall be of configuration class <i>Post Build </i>and no specific </p>
<p>implementation is required. </p>
<p>L </p>
<p><i>Loadable </i>- the configuration parameter shall be of configuration class <i>Post Build </i>and only </p>
<p>one configuration parameter set resides in the ECU.  </p>
<p>M </p>
<p><i>Multiple </i>- the configuration parameter shall be of configuration class <i>Post Build </i>and is </p>
<p>selected out of a set of multiple parameters by passing a dedicated pointer to the init func-</p>
<p>tion of the module.  </p>
<p>-- </p>
<p>The configuration parameter shall never be of configuration class <i>Post Build</i>. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>95 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>10.2 Containers and configuration parameters </b></p>
<p> </p>
<p>The following chapters summarize all configuration parameters. The detailed mean-</p>
<p>ings of the parameters are described in Chapter 7 and Chapter 8. Further hardware / </p>
<p>implementation specific parameters can be added if necessary. </p>
<p> </p>
<p> </p>
<p><b>10.2.1 Variants </b></p>
<p> </p>
<p><b>[SPI056] </b></p>
<p>⌈</p>
<p>VARIANT-PRE-COMPILE: Only parameters with &quot;Pre-compile time&quot; con-</p>
<p>figuration </p>
<p>are </p>
<p>allowed </p>
<p>in </p>
<p>this </p>
<p>variant.</p>
<p>⌋</p>
<p>(BSW00345, </p>
<p>BSW00350, </p>
<p>BSW00396, </p>
<p>BSW00397) </p>
<p> </p>
<p><b>[SPI076] </b></p>
<p>⌈</p>
<p>VARIANT-LINK-TIME: Only parameters with &quot;Pre-compile time&quot; and &quot;Link </p>
<p>time&quot; are allowed in this variant.</p>
<p>⌋</p>
<p>(BSW00396, BSW00398, BSW00405, BSW12263) </p>
<p> </p>
<p><b>[SPI148] </b></p>
<p>⌈</p>
<p>VARIANT-POST-BUILD: Parameters with &quot;Pre-compile time&quot;, &quot;Link time&quot; </p>
<p>and &quot;Post-build time&quot; are allowed in this variant.</p>
<p>⌋</p>
<p>(BSW00404, BSW00405) </p>
<p> </p>
<p><b>[SPI234] </b></p>
<p><b>⌈</b></p>
<p>The initialization function of this module shall always have a pointer as a </p>
<p>parameter, even though for Variant PC no configuration set shall be given. Instead a </p>
<p>NULL pointer shall be passed to the initialization function.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>[SPI235]  </b></p>
<p><b>⌈</b></p>
<p>If not applicable, the SPI Handler/Driver module’s environment shall pass </p>
<p>a NULL pointer to the function Spi_Init.</p>
<p>⌋</p>
<p>() </p>
<p> </p>
<p><b>10.2.2 Spi </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI103_Conf :  </b></p>
<p><i><b>Module Name  </b></i></p>
<p><i>Spi  </i></p>
<p><i><b>Module Description  </b></i></p>
<p>Configuration of the Spi (Serial Peripheral Interface) module. </p>
<p>   </p>
<p><i><b>Included Containers  </b></i></p>
<p><i><b>Container Name  </b></i></p>
<p><i><b>Multiplicity  </b></i></p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>SpiDriver  </p>
<p>1  </p>
<p>Configuration of one instance (if multiplicity is 1, it is the sole </p>
<p>configuration) of an SPI driver.  </p>
<p>SpiGeneral  </p>
<p>1  </p>
<p>General configuration settings for SPI-Handler  </p>
<p>SpiPublishedInformation  </p>
<p>1  </p>
<p>Container holding all SPI specific published information pa-</p>
<p>rameters  </p>
<p>   </p>
<p>  </p>
<p><b>10.2.3 SpiGeneral </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI225_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiGeneral  </p>
<p><i><b>Description  </b></i></p>
<p>General configuration settings for SPI-Handler </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>96 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI226_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiCancelApi {SPI_CANCEL_API}  </p>
<p><i><b>Description  </b></i></p>
<p>Switches the Spi_Cancel function ON or OFF. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--      </p>
<p><i><b>Post-build time  </b></i></p>
<p>--      </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI227_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiChannelBuffersAllowed {SPI_CHANNEL_BUFFERS_ALLOWED}  </p>
<p><i><b>Description  </b></i></p>
<p>Selects the SPI Handler/Driver Channel Buffers usage allowed and </p>
<p>delivered. IB = 0; EB = 1; IB/EB = 2; </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 2  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI228_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiDevErrorDetect {SPI_DEV_ERROR_DETECT}  </p>
<p><i><b>Description  </b></i></p>
<p>Switches the Development Error Detection and Notification </p>
<p>ON or OFF. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI229_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiHwStatusApi {SPI_HW_STATUS_API}  </p>
<p><i><b>Description  </b></i></p>
<p>Switches the Spi_GetHWUnitStatus function ON or OFF. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--      </p>
<p><i><b>Post-build time  </b></i></p>
<p>--      </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI230_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiInterruptibleSeqAllowed </p>
<p>{SPI_INTERRUPTIBLE_SEQ_ALLOWED}  </p>
<p><i><b>Description  </b></i></p>
<p>Switches the Interruptible Sequences handling functionality ON or </p>
<p>OFF. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>97 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>dependency: This parameter depends on SPI_LEVEL_DELIVERED </p>
<p>value. It is only </p>
<p>used for SPI_LEVEL_DELIVERED configured to 1 or 2.  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI231_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiLevelDelivered {SPI_LEVEL_DELIVERED}  </p>
<p><i><b>Description  </b></i></p>
<p>Selects the SPI Handler/Driver level of scalable functional-</p>
<p>ity that is available and delivered. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 2  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI237_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiSupportConcurrentSyncTransmit </p>
<p>{SPI_SUPPORT_CONCURRENT_SYNC_TRANSMIT}  </p>
<p><i><b>Description  </b></i></p>
<p>Specifies whether concurrent Spi_SyncTransmit() calls for different se-</p>
<p>quences shall be configurable. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI232_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiVersionInfoApi {SPI_VERSION_INFO_API}  </p>
<p><i><b>Description  </b></i></p>
<p>Switches the Spi_GetVersionInfo function ON or OFF. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p><b> </b></p>
<p><b>10.2.4 SpiSequence </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI106_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiSequence{SpiSequenceConfiguration}  </p>
<p><i><b>Description  </b></i></p>
<p>All data needed to configure one SPI-sequence </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI222_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiInterruptibleSequence {SPI_INTERRUPTIBLE_SEQUENCE}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter allows or not this Sequence to be suspended by an-</p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>98 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>other one. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  </p>
<p>VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  </p>
<p>VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>dependency: This SPI_INTERRUPTIBLE_SEQ_ALLOWED parame-</p>
<p>ter as to be </p>
<p>configured as ON.  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI223_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiSeqEndNotification {SPI_SEQ_END_NOTIFICATION}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is a reference to a notification function. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucFunctionNameDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>maxLength  </b></i></p>
<p>--  </p>
<p><i><b>minLength  </b></i></p>
<p>--  </p>
<p><i><b>regularExpression  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI224_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiSequenceId {SPI_SEQUENCE_NAME}  </p>
<p><i><b>Description  </b></i></p>
<p>SPI Sequence ID, used as parameter in SPI API functions. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef (Symbolic Name generated for this </p>
<p>parameter)  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 255  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Post-build time  </b></i></p>
<p>--  </p>
<p>   </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI221_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiJobAssignment {SPI_JOB_LINKING}  </p>
<p><i><b>Description  </b></i></p>
<p>A sequence references several jobs, which are exe-</p>
<p>cuted during a communication sequence </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1..*  </p>
<p><i><b>Type  </b></i></p>
<p>Reference to [ SpiJob ]  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p><b> </b></p>
<p><b>10.2.5 SpiChannel </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI104_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiChannel{SpiChannelConfiguration}  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>99 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Description  </b></i></p>
<p>All data needed to configure one SPI-channel </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI200_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiChannelId {SPI_CHANNEL_NAME}  </p>
<p><i><b>Description  </b></i></p>
<p>SPI Channel ID, used as parameter in SPI API functions. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef (Symbolic Name generated for </p>
<p>this parameter)  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 255  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--      </p>
<p><i><b>Post-build time  </b></i></p>
<p>--      </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI201_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiChannelType {SPI_CHANNEL_TYPE}  </p>
<p><i><b>Description  </b></i></p>
<p>Buffer usage with EB/IB channel. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>EB  </p>
<p>External Buffer </p>
<p>IB  </p>
<p>Internal Buffer </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  </p>
<p>VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  </p>
<p>VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>dependency: SPI_CHANNEL_BUFFERS_ALLOWED  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI202_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiDataWidth {SPI_DATA_WIDTH}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is the width of a transmitted data unit. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>1 .. 32  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI203_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiDefaultData {SPI_DEFAULT_DATA}  </p>
<p><i><b>Description  </b></i></p>
<p>The default data to be transmitted when (for internal </p>
<p>buffer or external buffer) the pointer passed to </p>
<p>Spi_WriteIB (for internal buffer) or to Spi_SetupEB (for </p>
<p>external buffer) is NULL. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 4294967295  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  VARIANT-PRE-</p>
<p>COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>100 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI204_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiEbMaxLength {SPI_EB_MAX_LENGTH}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter contains the maximum size (in bytes) of data buffers </p>
<p>in case of EB Channels and only. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 65535  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  </p>
<p>VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  </p>
<p>VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>dependency: The SPI_CHANNEL_TYPE parameter has to be con-</p>
<p>figured as EB for this Channel. </p>
<p>The SPI_CHANNEL_BUFFERS_ALLOWED parameter has to be </p>
<p>configured as 1 or 2.  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI205_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiIbNBuffers {SPI_IB_N_BUFFERS}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter contains the maximum number of data buffers in </p>
<p>case of IB Channels and only. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 65535  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  </p>
<p>VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  </p>
<p>VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>dependency: The SPI_CHANNEL_TYPE parameter has to be con-</p>
<p>figured as IB for this Channel. The </p>
<p>SPI_CHANNEL_BUFFERS_ALLOWED parameter has to be config-</p>
<p>ured as 0 or 2.  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI206_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiTransferStart {SPI_TRANSFER_START}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter defines the first starting bit for transmission. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>LSB  </p>
<p>Transmission starts with the Least </p>
<p>Significant Bit first </p>
<p>MSB  </p>
<p>Transmission starts with the Most </p>
<p>Significant Bit first </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p><b> </b></p>
<p><b>10.2.6 SpiChannelList </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI233_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiChannelList{SpiChannelList}  </p>
<p><i><b>Description  </b></i></p>
<p>References to SPI channels and their order within the Job. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>101 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI234_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiChannelIndex  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter specifies the order of Channels within </p>
<p>the Job. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 255  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI215_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiChannelAssignment {SPI_CHANNEL_LINKING}  </p>
<p><i><b>Description  </b></i></p>
<p>A job reference to a SPI channel. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>Reference to [ SpiChannel ]  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p> </p>
<p><b>10.2.7 SpiJob </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI105_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiJob{SpiJobConfiguration}  </p>
<p><i><b>Description  </b></i></p>
<p>All data needed to configure one SPI-Job, amongst others the connec-</p>
<p>tion between the internal SPI unit and the special settings for an external </p>
<p>device is done. </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI238_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiHwUnitSynchronous {SPI_HW_UNIT_SYNCHRONOUS}  </p>
<p><i><b>Description  </b></i></p>
<p>If SpiHwUnitSynchronous is set to &quot;SYNCHRONOUS&quot;, the SpiJob </p>
<p>uses its containing SpiDriver in a synchronous manner. If it is set </p>
<p>to &quot;ASYNCHRONOUS&quot;, it uses the driver in an asynchronous </p>
<p>way. If the parameter is not set, the SpiChannel uses the driver </p>
<p>also in an asynchronous way. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>ASYNCHRONOUS  </p>
<p>-- </p>
<p>SYNCHRONOUS  </p>
<p>-- </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  VARIANT-PRE-</p>
<p>COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  VARIANT-POST-</p>
<p>BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI218_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiJobEndNotification {SPI_JOB_END_NOTIFICATION}  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>102 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is a reference to a notification function. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucFunctionNameDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>maxLength  </b></i></p>
<p>--  </p>
<p><i><b>minLength  </b></i></p>
<p>--  </p>
<p><i><b>regularExpression  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI219_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiJobId {SPI_JOB_NAME}  </p>
<p><i><b>Description  </b></i></p>
<p>SPI Job ID, used as parameter in SPI API functions. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef (Symbolic Name generated for </p>
<p>this parameter)  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 65535  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--      </p>
<p><i><b>Post-build time  </b></i></p>
<p>--      </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: ECU  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI220_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiJobPriority {SPI_JOB_PRIORITY}  </p>
<p><i><b>Description  </b></i></p>
<p>Priority set accordingly to SPI093: 0, lowest, 3, highest </p>
<p>priority </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 3  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI216_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiDeviceAssignment  </p>
<p><i><b>Description  </b></i></p>
<p>Reference to the external device used by this job </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>Reference to [ SpiExternalDevice ]  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   All Variants  </p>
<p><i><b>Link time  </b></i></p>
<p>--      </p>
<p><i><b>Post-build time  </b></i></p>
<p>--      </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p> </p>
<p>   </p>
<p><i><b>Included Containers  </b></i></p>
<p><i><b>Container </b></i></p>
<p><i><b>Name  </b></i></p>
<p><i><b>Multiplicity  </b></i></p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>SpiChannel-</p>
<p>List  </p>
<p>1..*  </p>
<p>References to SPI channels and their order within the Job.  </p>
<p>   </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>103 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b> </b></p>
<p><b>10.2.8 SpiExternalDevice </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI207_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiExternalDevice  </p>
<p><i><b>Description  </b></i></p>
<p>The communication settings of an external device. Closely </p>
<p>linked to SpiJob. </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI208_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiBaudrate {SPI_BAUDRATE}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is the communication baudrate - </p>
<p>This parameter allows using a range of values, from </p>
<p>the point of view of configuration tools, from Hz up to </p>
<p>MHz. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucFloatParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. INF  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI209_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiCsIdentifier {SPI_CS_IDENTIFIER}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is the symbolic name to identify the </p>
<p>Chip Select (CS) allocated to this Job. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucStringParamDef (Symbolic Name generated for </p>
<p>this parameter)  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>maxLength  </b></i></p>
<p>--  </p>
<p><i><b>minLength  </b></i></p>
<p>--  </p>
<p><i><b>regularExpression  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI210_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiCsPolarity {SPI_CS_POLARITY}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter defines the active polarity of Chip Select. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>HIGH  </p>
<p>-- </p>
<p>LOW  </p>
<p>-- </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI239_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiCsSelection {SPI_CS_SELECTION}  </p>
<p><i><b>Description  </b></i></p>
<p>When the Chip select handling is enabled (see SpiEnableCs), then this </p>
<p>parameter specifies if the chip select is handled automatically by Pe-</p>
<p>ripheral HW engine or via general purpose IO by Spi driver. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>104 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>CS_VIA_GPIO  </p>
<p>chip select handled </p>
<p>via gpio by Spi </p>
<p>driver. </p>
<p>CS_VIA_PERIPHERAL_ENGINE  </p>
<p>chip select is han-</p>
<p>dled automatically </p>
<p>by Peripheral HW </p>
<p>engine. </p>
<p>(default) </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  VARIANT-PRE-</p>
<p>COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  VARIANT-LINK-</p>
<p>TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  VARIANT-POST-</p>
<p>BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>dependency: SpiEnableCs  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI211_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiDataShiftEdge {SPI_DATA_SHIFT_EDGE}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter defines the SPI data shift edge. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>LEADING  </p>
<p>-- </p>
<p>TRAILING  </p>
<p>-- </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI212_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiEnableCs {SPI_ENABLE_CS}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter enables or not the Chip Select handling </p>
<p>functions. If this parameter is enabled then parameter </p>
<p>SpiCsSelection further details the type of chip selec-</p>
<p>tion. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucBooleanParamDef  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI217_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiHwUnit {SPI_HW_UNIT}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter is the symbolic name to identify the HW SPI </p>
<p>Hardware microcontroller peripheral allocated to this Job. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>CSIB0  </p>
<p>-- </p>
<p>CSIB1  </p>
<p>-- </p>
<p>CSIB2  </p>
<p>-- </p>
<p>CSIB3  </p>
<p>-- </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>105 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI213_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiShiftClockIdleLevel {SPI_SHIFT_CLOCK_IDLE_LEVEL}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter defines the SPI shift clock idle level. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucEnumerationParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>HIGH  </p>
<p>-- </p>
<p>LOW  </p>
<p>-- </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X  </p>
<p>VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X  </p>
<p>VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X  </p>
<p>VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI214_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiTimeClk2Cs {SPI_TIME_CLK2CS}  </p>
<p><i><b>Description  </b></i></p>
<p>Timing between clock and chip select (in seconds) - </p>
<p>This parameter allows to use a range of values from </p>
<p>0 up to 0.0001 seconds. The real configuration-value </p>
<p>used in software BSW-SPI is calculated out of this by </p>
<p>the generator-tools </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucFloatParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 1E-4  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>scope: module  </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p> </p>
<p><b>10.2.9 SpiDriver </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI091_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiDriver{SpiDriverConfiguration} [Multi Config Container]  </p>
<p><i><b>Description  </b></i></p>
<p>Configuration of one instance (if multiplicity is 1, it is the sole configuration) </p>
<p>of an SPI driver. </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI197_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiMaxChannel {SPI_MAX_CHANNEL}  </p>
<p><i><b>Description  </b></i></p>
<p>This parameter contains the number of Channels con-</p>
<p>figured. It will be gathered by tools during the configu-</p>
<p>ration stage. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 255  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p> </p>
<p>   </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>106 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI198_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiMaxJob {SPI_MAX_JOB}  </p>
<p><i><b>Description  </b></i></p>
<p>Total number of Jobs configured. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 65535  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p> </p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI199_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiMaxSequence {SPI_MAX_SEQUENCE}  </p>
<p><i><b>Description  </b></i></p>
<p>Total number of Sequences configured. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>0..1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. 255  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Pre-compile time  </b></i></p>
<p>X   VARIANT-PRE-COMPILE  </p>
<p><i><b>Link time  </b></i></p>
<p>X   VARIANT-LINK-TIME  </p>
<p><i><b>Post-build time  </b></i></p>
<p>X   VARIANT-POST-BUILD  </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p> </p>
<p>   </p>
<p><i><b>Included Containers  </b></i></p>
<p><i><b>Container Name  </b></i></p>
<p><i><b>Multiplicity  </b></i></p>
<p><i><b>Scope / Dependency  </b></i></p>
<p>SpiChannel  </p>
<p>1..*  </p>
<p>All data needed to configure one SPI-channel  </p>
<p>SpiDemEventParameter-</p>
<p>Refs  </p>
<p>0..1  </p>
<p>Container for the references to DemEventParameter elements </p>
<p>which shall be invoked using the API Dem_ReportErrorStatus </p>
<p>API in case the corresponding error occurs. The EventId is </p>
<p>taken from the referenced DemEventParameter's DemEventId </p>
<p>value. The standardized errors are provided in the container </p>
<p>and can be extended by vendor specific error references.  </p>
<p>SpiExternalDevice  </p>
<p>1..*  </p>
<p>The communication settings of an external device. Closely </p>
<p>linked to SpiJob.  </p>
<p>SpiJob  </p>
<p>1..*  </p>
<p>All data needed to configure one SPI-Job, amongst others the </p>
<p>connection between the internal SPI unit and the special set-</p>
<p>tings for an external device is done.  </p>
<p>SpiSequence  </p>
<p>1..*  </p>
<p>All data needed to configure one SPI-sequence  </p>
<p>   </p>
<p><b>10.2.10 </b></p>
<p><b>SpiPublishedInformation </b></p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI235_Conf :  </b></p>
<p><i><b>Container Name  </b></i></p>
<p>SpiPublishedInformation  </p>
<p><i><b>Description  </b></i></p>
<p>Container holding all SPI specific published information parameters </p>
<p><i><b>Configuration Parameters  </b></i></p>
<p>   </p>
<p><i><b>SWS Item  </b></i></p>
<p><b>SPI236_Conf :  </b></p>
<p><i><b>Name  </b></i></p>
<p> </p>
<p>SpiMaxHwUnit  </p>
<p><i><b>Description  </b></i></p>
<p>Number of different SPI hardware microcontroller peripherals </p>
<p>(units/busses) available and handled by this SPI Handler/Driver module. </p>
<p><i><b>Multiplicity  </b></i></p>
<p>1  </p>
<p><i><b>Type  </b></i></p>
<p>EcucIntegerParamDef  </p>
<p><i><b>Range  </b></i></p>
<p>0 .. </p>
<p>18446744073709551615  </p>
<p>  </p>
<p><i><b>Default value  </b></i></p>
<p>--  </p>
<p><i><b>ConfigurationClass  </b></i></p>
<p><i><b>Published Information  </b></i></p>
<p>X  </p>
<p>All Variants  </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>107 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><i><b>Scope / Dependency  </b></i></p>
<p> </p>
<p>   </p>
<p><i><b>No Included Containers  </b></i></p>
<p>   </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>108 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>10.3  Published information </b></p>
<p> </p>
<p><b>[SPI089] </b></p>
<p>⌈</p>
<p>The  following  description  specifies  information  that  is  published  in  the </p>
<p>module’s header file </p>
<p>Spi.h</p>
<p> or in the module’s description file. Published information </p>
<p>contains data defined by the implementer of the SW module that does not change </p>
<p>when the module is adapted (i.e. configured) to the actual HW/SW environment. It </p>
<p>thus </p>
<p>contains </p>
<p>version </p>
<p>and </p>
<p>manufacturer </p>
<p>information.</p>
<p>⌋</p>
<p>(BSW003, </p>
<p>BSW00374, </p>
<p>BSW00379, BSW0402, BSW158) </p>
<p> </p>
<p><b>[SPI068] </b></p>
<p>⌈</p>
<p>The </p>
<p>standardized </p>
<p>common </p>
<p>published </p>
<p>parameters </p>
<p>as </p>
<p>required </p>
<p>by </p>
<p>BSW00402 in the General Requirements on Basic Software Modules [3]shall be pub-</p>
<p>lished within the header file of this module and need to be provided in the BSW Mod-</p>
<p>ule Description. The according module abbreviation can be found in the List of Basic </p>
<p>Software Modules [12].</p>
<p>⌋</p>
<p>(BSW003, BSW00318, BSW00321, BSW00374, BSW00379, </p>
<p>BSW00390, BSW00391, BSW0402) </p>
<p> </p>
<p>Additional module-specific published parameters are listed below if applicable.” </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>109 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>10.4 Configuration concept </b></p>
<p> </p>
<p>There is a relationship between the SPI Handler/Driver module and the modules that </p>
<p>use it. This relationship is resolved during the configuration stage and the result of it </p>
<p>influences the proper API and behaviour between those modules. </p>
<p> </p>
<p>The user needs to provide to the SPI Handler/Driver part of the configuration to adapt </p>
<p>it to its necessities. The SPI Handler/Driver shall take this configuration and provide </p>
<p>the needed tools to the user. </p>
<p> </p>
<p>The  picture  shows  the  information  flow  during  the  configuration  of  the  SPI  Han-</p>
<p>dler/Driver. It is shown only for one user, using an External EEPROM Driver as ex-</p>
<p>ample, but this situation is common to all users of the SPI Handler/Driver. To high-</p>
<p>light the situation where more users are affected, several overlapping documents are </p>
<p>drawn. </p>
<p> </p>
<p><b>SPI Handler/Driver full</b></p>
<p><b>configuration</b></p>
<p><b>User of SPI Handler/Driver (e.g: External EEPROM Driver)</b></p>
<p>Eep.c</p>
<p>Eep.h</p>
<p>Eep_Cfg.h</p>
<p>Eep_Cfg.c</p>
<p><b>Configuration</b></p>
<p><b>Tool</b></p>
<p>Part of SPI configuration</p>
<p><b>XML</b></p>
<p>Hardware ECU Resources</p>
<p>containing all hardware</p>
<p>configuration</p>
<p>(e.g: Number of SPI</p>
<p>buses,  list of all CS)</p>
<p><b>XML</b></p>
<p>User driver XML sheet</p>
<p>(e.g: EEPROM External</p>
<p>Driver)</p>
<p>Configures</p>
<p>Imported</p>
<p>Configures</p>
<p>Imported</p>
<p>Includes</p>
<p>Includes</p>
<p>Spi_Cfg.c</p>
<p>Spi_Cfg.h</p>
<p>Publishes</p>
<p>Generates</p>
<p>Includes</p>
<p>Includes</p>
<p>Basic software</p>
<p>responsable</p>
<p>EEPROM External</p>
<p>Driver responsable</p>
<p>Includes</p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>110 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p>The steps on the diagrams are: </p>
<p> </p>
<p>1. </p>
<p>The user (External EEPROM Driver) of SPI Handler/Driver edits a XML con-</p>
<p>figuration file. This XML configuration file is the same used by the user to gen-</p>
<p>erate its own configuration.  </p>
<p>2. </p>
<p>For each ECU, a XML HW configuration document contains information which </p>
<p>should be used in order to configure some parameters. </p>
<p>3. </p>
<p>The “SPI generation tool”. The Generation tool (here is reflected only the part </p>
<p>that generates code to SPI usage) shall generate the handles to export and </p>
<p>the instance of the configuration sets. In this step the software integrator will </p>
<p>provide missing information. </p>
<p>4. </p>
<p>SPI instance configuration file. As a result of the generation all the symbolic </p>
<p>handlers needed by the user are included in the configuration header file of </p>
<p>the SPI Handler/Driver. </p>
<p>5. </p>
<p>User gets the symbolic name of handlers. User imports the handle generated </p>
<p>to make use of them as requested by its XML configuration file. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>111 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>11 Not applicable requirements </b></p>
<p><b>[SPI999] </b></p>
<p>⌈</p>
<p><b> </b></p>
<p>These requirements are not applicable to this specification. </p>
<p>⌋</p>
<p> </p>
<p>(BSW00301, </p>
<p>BSW00302, BSW00306, BSW00307, BSW00308, BSW00309, BSW00312, </p>
<p>BSW00324, BSW00325, BSW00326, BSW00328, BSW00330, BSW00331, </p>
<p>BSW00334, BSW00341, BSW00342, BSW00343, BSW00347, BSW00355, </p>
<p>BSW00375, BSW00399, BSW00400, BSW00401, BSW00413, BSW00416, </p>
<p>BSW00417, BSW00420, BSW00422, BSW00423, BSW00424, BSW00426, </p>
<p>BSW00427, BSW00428, BSW00429, BSW00431, BSW00432, BSW00433, </p>
<p>BSW00434, BSW005, BSW006, BSW009, BSW010, BSW161, BSW164, BSW168, </p>
<p>BSW170, BSW172, BSW12267, BSW12068, BSW12069, BSW12063, BSW12129, </p>
<p>BSW12067, BSW12077, BSW12078, BSW12092, BSW12265) </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>112 of 122 </p>
<p>Document ID 038: AUTOSAR_SWS_SPIHandlerDriver </p>
<p>- AUTOSAR confidential - </p>
<p><b>12 Appendix  </b></p>
<p> </p>
<p>The table shown on the next page is just an example to help future users (and/or de-</p>
<p>velopers)  that  have  to  configure  software  modules  to  use  the  SPI  Handler/Driver. </p>
<p>This  table  is  independent  of  the </p>
<p>Spi_ConfigType</p>
<p>  structure  but  contains  all  ele-</p>
<p>ments and aggregations like Channels, Jobs and Sequences. </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p><b>EEP_WRITE_SEQ </b></p>
<p><b>EEP_READ_SEQ </b></p>
<p><b>EEP_CMD_JOB </b></p>
<p><b>EEP_DATA_JOB </b></p>
<p><b>EEP_CMD_CH </b></p>
<p><b>EEP_ADR_CH </b></p>
<p><b>EEP_DATA_CH </b></p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>113 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p> </p>
<p><b>External EEPROM Write/Read Configuration for SPI Handler/Driver </b></p>
<p><b>Sequences </b></p>
<p><b>Jobs </b></p>
<p><b>Channels </b></p>
<p><b>Symbolic Name </b></p>
<p><b>ID </b></p>
<p><b>Attributes </b></p>
<p><b>Symbolic Name </b></p>
<p><b>ID </b></p>
<p><b>Attributes </b></p>
<p><b>Symbolic Name </b></p>
<p><b>ID </b></p>
<p><b>Attributes </b></p>
<p>EEP_WRITE_SEQ </p>
<p>0 </p>
<p>2 (Number of Jobs), </p>
<p>{EEP_CMD_JOB, </p>
<p>EEP_DATA_JOB} (List of </p>
<p>Jobs), </p>
<p>Not Interruptible, </p>
<p>EEP_vidEndOfWriteSeq </p>
<p>EEP_CMD_JOB </p>
<p>0 </p>
<p>SPI_BUS_0, </p>
<p>CS_EEPROM, </p>
<p>CS_ON,  </p>
<p>CS_LOW, </p>
<p>CLK_2MHz, </p>
<p>1 (time in µs), </p>
<p>Polarity 180, </p>
<p>Falling Edge, </p>
<p>3, </p>
<p>EEP_vidEndOfStartWrJob, </p>
<p>1 (Number of Channels) </p>
<p>{EEP_CMD_CH} (List of Chan-</p>
<p>nels) </p>
<p>EEP_CMD_CH </p>
<p>0 </p>
<p>EB,   </p>
<p>8 bits,  </p>
<p>1 data to TxD, </p>
<p>MSB First,  </p>
<p>Default value is </p>
<p>0x00 </p>
<p>EEP_READ_SEQ </p>
<p>1 </p>
<p>1 (Number of Jobs), </p>
<p>{EEP_DATA_JOB} (List of </p>
<p>Jobs), </p>
<p>Not Interruptible, </p>
<p>EEP_vidEndOfReadSeq </p>
<p>EEP_DATA_JOB </p>
<p>1 </p>
<p>SPI_BUS_0, </p>
<p>CS_EEPROM, </p>
<p>CS_ON,  </p>
<p>CS_LOW, </p>
<p>CLK_2MHz, </p>
<p>1 (time in µs), </p>
<p>Polarity 180, </p>
<p>Falling Edge, </p>
<p>2, </p>
<p>NULL, </p>
<p>3 (Number of Channels) </p>
<p>{EEP_CMD_CH, EEP_ADR_CH, </p>
<p>EEP_DATA_CH} (List of Chan-</p>
<p>nels) </p>
<p>EEP_ADR_CH </p>
<p>1 </p>
<p>EB,   </p>
<p>16 bits,  </p>
<p>1 data to TxD, </p>
<p>MSB First,  </p>
<p>Default value is </p>
<p>0x0000 </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>  </p>
<p>  </p>
<p>EEP_DATA_CH </p>
<p>2 </p>
<p>EB,   </p>
<p>8 bits,  </p>
<p>32 data to TxD, </p>
<p>MSB First,  </p>
<p>Default value is </p>
<p>0x00 </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>114 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p><b>13 </b></p>
<p><b>Changes to Release 1 </b></p>
<p> </p>
<p><b>13.1  Deleted SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI090 </p>
<p>Redundant with the new version of SPI089 </p>
<p> </p>
<p><b>13.2  Replaced SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item of Re-</b></i></p>
<p><i><b>lease 1 </b></i></p>
<p><i><b>replaced by  </b></i></p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI056 </p>
<p>SPI056, SPI103 </p>
<p>To split the old requirement into two require-</p>
<p>ments to fit to the new SWS template with con-</p>
<p>tainers and variants. </p>
<p>SPI053 </p>
<p>SPI053, SPI112 </p>
<p>To split the old requirement into two require-</p>
<p>ments to improve the testability. Description for </p>
<p>the maximum size of External Buffers. </p>
<p> </p>
<p><b>13.3  Changed SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI089 </p>
<p>To take in account the new template sentence to describe requirement. </p>
<p>SPI029 </p>
<p>To take in account the new template location and sentence to describe </p>
<p>requirement. </p>
<p>SPI092 </p>
<p>Clarify the structure of includes files as described in new template. </p>
<p>SPI076 </p>
<p>To take in account the new SWS template with variants. </p>
<p>SPI091 </p>
<p>To take in account the new SWS template with containers definitions. </p>
<p>SPI001 </p>
<p>To take in account the scalabilty with Levels of Functionalities concept. </p>
<p>SPI014 </p>
<p>Improvement for interruptible sequences behavior. </p>
<p>SPI021 </p>
<p>Changes  </p>
<p>SPI052 </p>
<p>Changes  </p>
<p>SPI031, SPI032, </p>
<p>SPI060, SPI046 </p>
<p>Changes to fulfill BSW12448 </p>
<p>SPI103 </p>
<p>After creation, add of new parameters for pre-compile time configuration </p>
<p>SPI044 </p>
<p>Changed to fulfill a requirement concerning object code delivery </p>
<p>SPI085 </p>
<p>To add new interfaces </p>
<p>SPI020 </p>
<p>Delete the Job result setting from this service. </p>
<p>SPI094 </p>
<p>Fulfill the SWS template </p>
<p> </p>
<p><b>13.4  Added SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI094 </p>
<p>Additional requirement to identify the table of published parameters and </p>
<p>creation of new parameters. </p>
<p>SPI095 </p>
<p>New item to fullfil the required code file structure. </p>
<p>SPI096 </p>
<p>New item to describe the relationship with the Dem module. </p>
<p>SPI097 </p>
<p>New item to describe Dem Ids allocation rules. </p>
<p>SPI098 </p>
<p>Clarify development errors C type. </p>
<p>SPI099 </p>
<p>New requirement to the production errors detection. </p>
<p>SPI100 </p>
<p>Clarify development errors reporting. </p>
<p>SPI101 </p>
<p>New item for Spi_GetVersionInfo service description. </p>
<p>SPI102 </p>
<p>New item for Spi_GetVersionInfo configuration rules. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>115 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p>SPI104 </p>
<p>Creation of SpiChannel container with all its parameters. </p>
<p>SPI105 </p>
<p>Creation of SpiJobConfiguration container with all its parameters. </p>
<p>SPI106 </p>
<p>Creation of SpiSequence with all its parameters. </p>
<p>SPI108 </p>
<p>Restriction to LEVEL 2 usage at microcontrollers with more than 1 SPI bus. </p>
<p>SPI109 </p>
<p>The level is selected at pre-compile time. </p>
<p>SPI110 </p>
<p>Define the parameter to configure level of functionality. </p>
<p>SPI111 </p>
<p>Define the parameter to configure buffers usage IB / EB / Both. </p>
<p>SPI113 </p>
<p>Global requirement for the LEVEL 0 synchronous behavior. </p>
<p>SPI114 </p>
<p>Multiple sequences transmission restriction for synchronous level. </p>
<p>SPI115 </p>
<p>Requirement to include buffers usage in LEVEL 0. </p>
<p>SPI116 </p>
<p>Multiple sequences transmission acceptance rule for asynchronous level. </p>
<p>SPI117 </p>
<p>Requirement to include buffers usage and interruptible sequences in LEV-</p>
<p>EL 1. </p>
<p>SPI118 </p>
<p>Requirement for End Notification Function. </p>
<p>SPI119 </p>
<p>Additional requirement for Job end notification. </p>
<p>SPI120 </p>
<p>Additional requirement for Sequence end notification. </p>
<p>SPI121 </p>
<p>Define the parmeter to configure interruptible sequences. </p>
<p>SPI122 </p>
<p>Description of behavior in case of interruptible sequences disabled. </p>
<p>SPI123 </p>
<p>Additional requirement in case of interruptible sequences disabled. </p>
<p>SPI124 </p>
<p>Additional requirement in case of interruptible sequences disabled. </p>
<p>SPI125 </p>
<p>Description of behavior in case of interruptible sequences enabled. </p>
<p>SPI126 </p>
<p>Additional requirement in case of interruptible sequences enabled. </p>
<p>SPI127 </p>
<p>Additional requirement in case of interruptible sequences enabled. </p>
<p>SPI128 </p>
<p>Global requirement for the LEVEL 2 synchronous and asynchronous be-</p>
<p>havior. </p>
<p>SPI129 </p>
<p>Description for the prearrange SPI bus for synchronous transmissions.. </p>
<p>SPI130 </p>
<p>Description of a so-called synchronous sequence. </p>
<p>SPI131 </p>
<p>Restrictions to Jobs linkage within a Sequence. </p>
<p>SPI133 </p>
<p>Spi_AsyncTransmit()</p>
<p> configuration dependance. </p>
<p>SPI134 </p>
<p>Spi_SyncTransmit()</p>
<p> main behavior requirement. </p>
<p>SPI135 </p>
<p>Spi_SyncTransmit()</p>
<p> re-entrance behavior requirement. </p>
<p>SPI136 </p>
<p>Spi_SyncTransmit()</p>
<p> configuration dependance. </p>
<p>SPI137 </p>
<p>Spi_WriteIB()</p>
<p> configuration dependance.</p>
<p> </p>
<p>SPI138 </p>
<p>Spi_ReadIB()</p>
<p> configuration dependance.</p>
<p> </p>
<p>SPI139 </p>
<p>Spi_SetupEB()</p>
<p> configuration dependance.</p>
<p> </p>
<p>SPI141 </p>
<p>Creation of API interface </p>
<p>Spi_GetHWUnitStatus</p>
<p> to get the status of a </p>
<p>specified SPI Hardware microcontroller peripheral (unit) </p>
<p>SPI142 </p>
<p>Spi_GetHWUnitStatus()</p>
<p> configuration dependance. </p>
<p>SPI143 </p>
<p>Creation in order to fulfill BSW12448</p>
<p> </p>
<p>SPI144 </p>
<p>Creation of API interface </p>
<p>Spi_Cancel</p>
<p> to stop a specified Sequence </p>
<p>transmission. </p>
<p>SPI145 </p>
<p>Additional requirement for end sequence notification in case of cancelling. </p>
<p>SPI146 </p>
<p>Spi_Cancel()</p>
<p> configuration dependance. </p>
<p>SPI147 </p>
<p>Additional requirement for checking API parameter and what should be </p>
<p>done in case of error </p>
<p>SPI148 </p>
<p>Creation of a dedicated variant for post build-time parameters. </p>
<p>SPI149 </p>
<p>Global requirement concerning data width handled by HW and data type </p>
<p>given by users. </p>
<p>SPI150 </p>
<p>Creation of API type </p>
<p>Spi_AsyncModeType</p>
<p> configurable at pre-compile </p>
<p>time </p>
<p>SPI151 </p>
<p>Additional requirement to the service in order to cover the polling or inter-</p>
<p>rupt handling at initialisation for LEVEL 2. </p>
<p>SPI152 </p>
<p>Creation of API interface </p>
<p>Spi_SetAsyncMode</p>
<p> to set the asynchronous </p>
<p>mechanism mode. </p>
<p>SPI153 </p>
<p>Additional requirement in case of setting mode while SPI Handler/Driver is </p>
<p>busy. </p>
<p>SPI154 </p>
<p>Spi_SetAsyncMode()</p>
<p> configuration dependance. </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>116 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p>SPI155 </p>
<p>Requirement to include both polling and interrupt asynchronous mecha-</p>
<p>nisms in LEVEL 2.</p>
<p> </p>
<p>SPI156 </p>
<p>Additional requirement to have selectable modes during execution time. </p>
<p>SPI157 </p>
<p>Additional requirement for asynchronous transmissions of Jobs and spe-</p>
<p>cially for setting their results. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>117 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p><b>14 </b></p>
<p><b>Changes during SWS Improvements by Technical Of-</b></p>
<p><b>fice </b></p>
<p> </p>
<p><b>14.1  Deleted SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI079 </p>
<p>Not a requirement but an example (sequence diagram) </p>
<p>SPI147 </p>
<p>Redundant to SPI032 </p>
<p> </p>
<p> </p>
<p><b>14.2  Replaced SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item of Release 1 </b></i></p>
<p><i><b>replaced by  </b></i></p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI096 </p>
<p>SPI158, SPI159 </p>
<p>Splitted because original requirement was on </p>
<p>different objects. </p>
<p>SPI113 </p>
<p>SPI160, SPI161 </p>
<p>Splitted because original requirement was on </p>
<p>different issues. </p>
<p>SPI001 </p>
<p>SPI162, SPI163 </p>
<p>Splitted because original requirement was on </p>
<p>different issues. </p>
<p>SPI153 </p>
<p>SPI171, SPI172 </p>
<p>Splitted because for better distinction between </p>
<p>modes </p>
<p>SPI070 </p>
<p>SPI174 </p>
<p>Replaced by UML Model linking of imported </p>
<p>types </p>
<p> </p>
<p> </p>
<p><b>14.3  Changed SWS Items </b></p>
<p> </p>
<p>Many requirements have been changed to improve understandability without chang-</p>
<p>ing the technical contents. </p>
<p> </p>
<p><b>14.4  Added SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI164 </p>
<p>Definition of Spi_DataType </p>
<p>SPI165 </p>
<p>Definition of Spi_NumberOfDataType </p>
<p>SPI166 </p>
<p>Definition of Spi_ChannelType </p>
<p>SPI167 </p>
<p>Definition of Spi_JobType </p>
<p>SPI168 </p>
<p>Definition of Spi_SequenceType </p>
<p>SPI169 </p>
<p>Definition of Spi_HWUnitType </p>
<p>SPI170 </p>
<p>Definition of Spi_AsyncModeType </p>
<p>SPI173 </p>
<p>Requirement had no ID </p>
<p>SPI175 </p>
<p>UML Model linking of Spi_Init </p>
<p>SPI176 </p>
<p>UML Model linking of Spi_DeInit </p>
<p>SPI177 </p>
<p>UML Model linking of Spi_WriteIB </p>
<p>SPI178 </p>
<p>UML Model linking of Spi_AsyncTransmit </p>
<p>SPI179 </p>
<p>UML Model linking of Spi_ReadIB </p>
<p>SPI180 </p>
<p>UML Model linking of Spi_SetupEB </p>
<p>SPI181 </p>
<p>UML Model linking of Spi_GetStatus </p>
<p>SPI182 </p>
<p>UML Model linking of Spi_GetJobResult </p>
<p>SPI183 </p>
<p>UML Model linking of Spi_GetSequenceResult </p>
<p>SPI184 </p>
<p>UML Model linking of Spi_GetVersionInfo </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>118 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p>SPI185 </p>
<p>UML Model linking of Spi_SyncTransmit </p>
<p>SPI186 </p>
<p>UML Model linking of Spi_GetHWUnitStatus </p>
<p>SPI187 </p>
<p>UML Model linking of Spi_Cancel </p>
<p>SPI188 </p>
<p>UML Model linking of Spi_SetAsyncMode </p>
<p>SPI189 </p>
<p>UML Model linking of Spi_MainFunction_Handling </p>
<p>SPI190 </p>
<p>UML Model linking of Spi_MainFunction_Driving </p>
<p>SPI191 </p>
<p>UML Model linking of the optional interfaces </p>
<p>SPI192 </p>
<p>UML Model linking of Spi_JobEndNotification </p>
<p>SPI193 </p>
<p>UML Model linking of Spi_SeqEndNotification </p>
<p>SPI196 </p>
<p>Hint Spi_GetVersionInfo </p>
<p>SPI233 </p>
<p>Requirement added for inclusion of development error </p>
<p>SPI_E_ALREADY_INITIALIZED. </p>
<p>SPI234 </p>
<p>sentence agreed within SPAL,  </p>
<p>SPI235 </p>
<p>Extension of SPI198  </p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>119 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p><b>15 </b></p>
<p><b>Changes to Release 3 </b></p>
<p> </p>
<p><b>15.1  Deleted SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI190 </p>
<p>SPI doesn’t need to use a FIXED_CYCLIC scheduled function  </p>
<p>SPI094 </p>
<p>Already covered SPI068 </p>
<p> </p>
<p> </p>
<p><b>15.2  Splitted SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item of Release 1 </b></i></p>
<p><i><b>Splitted in   </b></i></p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI003 </p>
<p>SPI003, SPI236 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI004 </p>
<p>SPI004, SPI237, </p>
<p>SPI238, SPI240, </p>
<p>SPI241, SPI242, </p>
<p>SPI243, SPI245, </p>
<p>SPI246 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI005 </p>
<p>SPI005, SPI249, </p>
<p>SPI250, </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI019 </p>
<p>SPI019, SPI251 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI021 </p>
<p>SPI021, SPI252, </p>
<p>SPI253 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI032 </p>
<p>SPI032, SPI254 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI034 </p>
<p>SPI034, SPI255 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI046 </p>
<p>SPI046, SPI256 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI051 </p>
<p>SPI051, SPI257 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI060 </p>
<p>SPI060, SPI258 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI061 </p>
<p>SPI061, SPI259, </p>
<p>SPI260 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI062 </p>
<p>SPI062, SPI261 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI065 </p>
<p>SPI065, SPI262 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI066 </p>
<p>SPI066, SPI263 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>120 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p>ments. </p>
<p>SPI075 </p>
<p>SPI075, SPI264, </p>
<p>SPI265 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI081 </p>
<p>SPI081, SPI266 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI083 </p>
<p>SPI083, SPI267 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI088 </p>
<p>SPI088, SPI268, </p>
<p>SPI269, SPI270, </p>
<p>SPI271 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI092 </p>
<p>SPI092, SPI272, </p>
<p>SPI273, SPI274, </p>
<p>SPI275, SPI276 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI095 </p>
<p>SPI095, SPI277 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI102 </p>
<p>SPI102, SPI278 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI111 </p>
<p>SPI111, SPI279 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI112 </p>
<p>SPI112, SPI280 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI118 </p>
<p>SPI118, SPI281 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI123 </p>
<p>SPI123, SPI282 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI128 </p>
<p>SPI128, SPI283 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI134 </p>
<p>SPI134, SPI285, </p>
<p>SP286 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI141 </p>
<p>SPI141, SPI287 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI143 </p>
<p>SPI143, SPI288 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI149 </p>
<p>SPI149, SPI289, </p>
<p>SPI290, SPI291 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI157 </p>
<p>SPI157, SPI292, </p>
<p>SPI293 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI161 </p>
<p>SPI161, SPI294 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI162 </p>
<p>SPI162, SPI295 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI174 </p>
<p>SPI174, SPI296, </p>
<p>SWS items that need to be split up into more </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>121 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p>SP297 </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI175 </p>
<p>SPI175, SPI298, </p>
<p>SPI299 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI176 </p>
<p>SPI176, SPI300, </p>
<p>SPI301, SPI302, </p>
<p>SPI303 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI177 </p>
<p>SPI177, SPI304, </p>
<p>SPI305, SPI306, </p>
<p>SPI307 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI178 </p>
<p>SPI178, SPI308, </p>
<p>SPI309, SPI310, </p>
<p>SPI311 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI179 </p>
<p>SPI179, SPI312, </p>
<p>SPI313, SPI314, </p>
<p>SPI315 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI180 </p>
<p>SPI180, SPI316, </p>
<p>SPI317, SPI318 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI181 </p>
<p>SPI181, SPI319, </p>
<p>SPI320 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI182 </p>
<p>SPI182, SPI321, </p>
<p>SPI322 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI183 </p>
<p>SPI183, SPI323, </p>
<p>SPI324 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI184 </p>
<p>SPI184, SPI325, </p>
<p>SPI326 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI185 </p>
<p>SPI185, SPI327, </p>
<p>SPI328, SPI329, </p>
<p>SPI330 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI186 </p>
<p>SPI186, SPI331, </p>
<p>SPI332 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI187 </p>
<p>SPI187, SPI333, </p>
<p>SPI334 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI188 </p>
<p>SPI188, SPI335, </p>
<p>SPI336, SPI337, </p>
<p>SPI338 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI191 </p>
<p>SPI191, SPI339 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI192 </p>
<p>SPI192, SPI340 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p>SPI193 </p>
<p>SPI193, SPI341 </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p> </p>
<p> </p>
<p>SWS items that need to be split up into more </p>
<p>than one requirement to yield atomic require-</p>
<p>ments. </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p>Specification of SPI Handler/Driver </p>
<p> </p>
<p>V3.2.0 </p>
<p>R4.0 Rev 3 </p>
<p>122 of 122 </p>
<p>AUTOSAR_SWS_SPIHandler_Driver </p>
<p>- AUTOSAR confidential - </p>
<p><b>15.3  Changed SWS Items </b></p>
<p> </p>
<p>Many requirements have been changed to improve understandability without chang-</p>
<p>ing the technical contents. </p>
<p>SPI089 </p>
<p>Change with revising “Published information”. </p>
<p>SPI068 </p>
<p>Rework of Published Information </p>
<p> </p>
<p> </p>
<p><b>15.4  Added SWS Items </b></p>
<p> </p>
<p><i><b>SWS Item </b></i></p>
<p><i><b>Rationale </b></i></p>
<p>SPI239 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI244 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI342 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI343 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI344 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI345 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI346 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI347 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI348 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI349 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI350 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI351 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI352 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI353 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI354 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI355 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI356 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI357 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI358 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI359 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI360 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI361 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI362 </p>
<p>Requirement already contained in the specification but without specific ID</p>
<p> </p>
<p>SPI363 </p>
<p>Requirement to implement debugging concept</p>
<p> </p>
<p>SPI364 </p>
<p>Requirement to implement debugging concept</p>
<p> </p>
<p>SPI365 </p>
<p>Requirement to implement debugging concept</p>
<p> </p>
<p>SPI366 </p>
<p>Requirement to implement debugging concept</p>
<p> </p>
<p>SPI367 </p>
<p>Requirement to implement debugging concept</p>
<p> </p>
<p>SPI368 </p>
<p>Added the decsription of the Channel Index related to the SpiChannelIndex </p>
<p>parameter inside the SpiChannelList container </p>
<p>SPI369 </p>
<p>Satisfaction of BSW004 </p>
<p>SPI370 </p>
<p>Chip Select handling </p>
<p>SPI371 </p>
<p>Added reporting of passed parameter is a NULL pointer </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
</body>
</html>
{% endraw %}