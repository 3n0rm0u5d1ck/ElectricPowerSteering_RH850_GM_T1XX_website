---
layout: default
title: Startup_GM_SLP2
nav_order: 566
parent: Implementation
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p>Startup with GM SLP2</p>
<p>Version 4.0.0 for MICROSAR 4 Release 16</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 2-</p>
<p><b>Content</b></p>
<p><b>1 About This Manual</b></p>
<p><b>11</b></p>
<p>1.1 History Information</p>
<p>11</p>
<p>1.2 Finding Information Quickly</p>
<p>11</p>
<p>1.3 Conventions</p>
<p>11</p>
<p>1.4 Certification</p>
<p>12</p>
<p>1.5 Warranty</p>
<p>12</p>
<p>1.6 Support</p>
<p>13</p>
<p>1.7 Registered Trademarks</p>
<p>13</p>
<p>1.8 Errata Sheet of Hardware Manufacturers</p>
<p>14</p>
<p>1.9 Example Code</p>
<p>14</p>
<p>1.10 What Do You Learn from This Manual</p>
<p>14</p>
<p><b>2 Basics</b></p>
<p><b>16</b></p>
<p>2.1 An Overall View</p>
<p>16</p>
<p>2.2 MICROSAR - Vector's AUTOSAR Solution</p>
<p>17</p>
<p>2.3 AUTOSAR Layer Model GM</p>
<p>18</p>
<p>2.4 Configuration Workflow GM SLP2</p>
<p>19</p>
<p><b>I STEPbySTEP</b></p>
<p><b>20</b></p>
<p><b>1 STEP1 Setup Your Project</b></p>
<p><b>21</b></p>
<p>1.1 Situation after Installation</p>
<p>21</p>
<p>1.2 Setup Project via DaVinci Configurator Pro</p>
<p>21</p>
<p>1.2.1 General Settings</p>
<p>22</p>
<p>1.2.2 Target</p>
<p>22</p>
<p>1.2.3 Project Folder Structure</p>
<p>22</p>
<p>1.2.4 Tools</p>
<p>23</p>
<p>1.3 Result Project Folder - Result of the Project Setup</p>
<p>24</p>
<p>1.3.1 Appl folder</p>
<p>24</p>
<p>1.3.2 Config folder</p>
<p>24</p>
<p>1.3.3 &lt;ProjectName&gt;.dpa</p>
<p>25</p>
<p>1.3.4 Log Folder</p>
<p>25</p>
<p>1.4 Start Menu - Result of the Project Setup</p>
<p>26</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.5 DaVinci Configurator Pro Project</p>
<p>26</p>
<p><b>2 STEP2 Define Project Settings</b></p>
<p><b>27</b></p>
<p>2.1 Add Input Files</p>
<p>27</p>
<p>2.1.1 Add System Description Files</p>
<p>27</p>
<p>2.1.2 Add Diagnostic Data Files</p>
<p>30</p>
<p>2.1.3 Add Standard Configuration Files</p>
<p>31</p>
<p>2.1.4 Update Configuration</p>
<p>32</p>
<p>2.2 Define Custom Workflow Steps and External Generation Steps</p>
<p>33</p>
<p>2.2.1 Custom Workflow Steps</p>
<p>33</p>
<p>2.2.2 External Generation Steps</p>
<p>33</p>
<p>2.3 Activate Your BSW Modules</p>
<p>34</p>
<p>2.4 Change Project Settings</p>
<p>35</p>
<p>2.4.1 Postbuild Support</p>
<p>36</p>
<p><b>3 STEP3 Validation</b></p>
<p><b>37</b></p>
<p>3.1 Start Solve All Mechanism</p>
<p>37</p>
<p>3.2 Live Validation - Solving Actions</p>
<p>37</p>
<p><b>4 STEP4 Start BSW Configuration</b></p>
<p><b>39</b></p>
<p>4.1 Start Configuration with Configuration Editors</p>
<p>39</p>
<p>4.2 Base Services</p>
<p>39</p>
<p>4.2.1 Development Errors</p>
<p>39</p>
<p>4.2.2 General Purpose Timer (GPT)</p>
<p>39</p>
<p>4.2.3 Microcontroller Unit</p>
<p>39</p>
<p>4.2.4 RAM Test</p>
<p>40</p>
<p>4.3 Communication</p>
<p>40</p>
<p>4.3.1 Communication General</p>
<p>40</p>
<p>4.3.2 Bus Controller</p>
<p>40</p>
<p>4.3.3 PDUs</p>
<p>41</p>
<p>4.3.4 Signals</p>
<p>41</p>
<p>4.3.5 Socket Adapter Users</p>
<p>41</p>
<p>4.3.6 Transport Protocol</p>
<p>41</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 3-</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 4-</p>
<p>4.4 Diagnostics</p>
<p>41</p>
<p>4.4.1 Diagnostic Event Data</p>
<p>42</p>
<p>4.4.2 Diagnostic Events</p>
<p>42</p>
<p>4.4.3 Production Error Handling</p>
<p>42</p>
<p>4.4.4 Setup Event Memory Blocks</p>
<p>42</p>
<p>4.5 Memory</p>
<p>42</p>
<p>4.5.1 Memory General</p>
<p>42</p>
<p>4.5.2 Memory Blocks</p>
<p>42</p>
<p>4.5.3 Optimize Fee</p>
<p>43</p>
<p>4.6 Mode Management Editors</p>
<p>43</p>
<p>4.6.1 BSW Management</p>
<p>43</p>
<p>4.6.2 Activate Interrupts of Peripherals Devices</p>
<p>45</p>
<p>4.6.3 ECU Management</p>
<p>48</p>
<p>4.6.4 Initialization</p>
<p>48</p>
<p>4.6.5 Watchdogs</p>
<p>49</p>
<p>4.7 Network Management</p>
<p>49</p>
<p>4.7.1 Network Management General</p>
<p>49</p>
<p>4.7.2 Communication Users</p>
<p>50</p>
<p>4.7.3 Partial Networking</p>
<p>50</p>
<p>4.8 Runtime System</p>
<p>50</p>
<p>4.8.1 Runtime System General</p>
<p>50</p>
<p>4.8.2 ECU Software Components</p>
<p>51</p>
<p>4.8.3 OS Configuration</p>
<p>51</p>
<p>4.9 Go on with Basic Editor</p>
<p>52</p>
<p>4.10 Start Solving Actions</p>
<p>52</p>
<p>4.11 Start On-demand Validation</p>
<p>52</p>
<p>4.12 BSW Configuration finished</p>
<p>54</p>
<p><b>5 STEP5 Design Software Components</b></p>
<p><b>55</b></p>
<p>5.1 Switch to DaVinci Developer</p>
<p>55</p>
<p>5.2 Design Software Components</p>
<p>55</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>6 STEP6 Mappings</b></p>
<p><b>56</b></p>
<p>6.1 Perform Data Mapping within DaVinci Developer or DaVinci Configurator?</p>
<p>56</p>
<p>6.2 Data Mapping within the DaVinci Developer</p>
<p>56</p>
<p>6.2.1 Data Mapping Automatically - DaVinci Developer</p>
<p>56</p>
<p>6.2.2 Data Mapping Manually - DaVinci Developer</p>
<p>57</p>
<p>6.2.3 DaVinci Developer - Save and close</p>
<p>59</p>
<p>6.3 Switch (back) to DaVinci Configurator</p>
<p>59</p>
<p>6.4 Synchronize System Description</p>
<p>59</p>
<p>6.5 Add Component Connection</p>
<p>59</p>
<p>6.6 Service Mapping</p>
<p>60</p>
<p>6.6.1 Service Mapping via Service Component</p>
<p>60</p>
<p>6.6.2 Service Mapping (overview)</p>
<p>62</p>
<p>6.7 Add Data Mapping</p>
<p>62</p>
<p>6.8 Add Memory Mapping</p>
<p>64</p>
<p>6.9 Add Task Mapping</p>
<p>65</p>
<p>6.9.1 Task Mapping Assistant</p>
<p>65</p>
<p>6.9.2 Task Mapping</p>
<p>66</p>
<p><b>7 STEP7 Code Generation</b></p>
<p><b>68</b></p>
<p>7.1 Start Custom Workflow Steps</p>
<p>68</p>
<p>7.2 Start Code Generation</p>
<p>68</p>
<p>7.3 Generation Process finished!</p>
<p>70</p>
<p><b>8 STEP8 Add Runnable Code</b></p>
<p><b>71</b></p>
<p>8.1 Component Template</p>
<p>71</p>
<p>8.2 Implement Code</p>
<p>72</p>
<p><b>9 STEP9 Compile, Link and Test Your Project</b></p>
<p><b>73</b></p>
<p>9.1 Finish your project with compiling and linking</p>
<p>73</p>
<p>9.2 No error frames? Congratulations, that’s it!</p>
<p>73</p>
<p><b>II Concept</b></p>
<p><b>75</b></p>
<p><b>1 General Overview</b></p>
<p><b>76</b></p>
<p>1.1 Software Component</p>
<p>78</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 5-</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 6-</p>
<p>1.1.1 Atomic components</p>
<p>78</p>
<p>1.1.2 Compositions</p>
<p>78</p>
<p>1.2 Runnables</p>
<p>78</p>
<p>1.3 Ports</p>
<p>79</p>
<p>1.3.1 Application Port Interfaces</p>
<p>79</p>
<p>1.3.2 Service Port Interfaces</p>
<p>79</p>
<p>1.4 Data Element Types</p>
<p>79</p>
<p>1.5 Connections</p>
<p>80</p>
<p>1.6 RTE</p>
<p>80</p>
<p>1.7 BSW – Basic Software Modules</p>
<p>80</p>
<p>1.8 Software, Tools and Files</p>
<p>80</p>
<p>1.9 Structure of the SIP Folder</p>
<p>82</p>
<p><b>2 Set-Up New Project</b></p>
<p><b>85</b></p>
<p>2.1 DaVinci Configurator</p>
<p>85</p>
<p>2.1.1 The Main Window of DaVinci Configurator Pro</p>
<p>85</p>
<p>2.1.2 Editors and Assistants</p>
<p>88</p>
<p><b>3 Define Project Settings</b></p>
<p><b>91</b></p>
<p>3.1 Input files</p>
<p>91</p>
<p>3.1.1 System Description Files</p>
<p>91</p>
<p>3.1.2 SYSEX</p>
<p>91</p>
<p>3.1.3 ECUEX</p>
<p>91</p>
<p>3.1.4 Legacy Data Base files (DBC, LDF, FIBEX, …)</p>
<p>91</p>
<p>3.1.5 Diagnostic Data Files</p>
<p>92</p>
<p>3.1.6 CDD / ODX</p>
<p>92</p>
<p>3.1.7 State Description</p>
<p>92</p>
<p>3.1.8 Standard Configuration Files</p>
<p>92</p>
<p>3.2 Custom Workflow Steps / External Generation Steps</p>
<p>92</p>
<p>3.3 Activate BSW</p>
<p>93</p>
<p><b>4 Validation</b></p>
<p><b>94</b></p>
<p>4.1 Validation Concept</p>
<p>94</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 BSW Configuration with Configuration Editors</b></p>
<p><b>95</b></p>
<p>5.1 DaVinci Configurator Pro Editors</p>
<p>95</p>
<p><b>6 Software Component (SWC) Design</b></p>
<p><b>96</b></p>
<p>6.1 Data Exchange between DaVinci Developer and DaVinci Configurator Pro</p>
<p>96</p>
<p>6.2 About Application Components, Ports, Connections, Runnables and More…</p>
<p>96</p>
<p>6.3 Application Components</p>
<p>97</p>
<p>6.3.1 The Library – Type and Package</p>
<p>97</p>
<p>6.3.2 New Application Components</p>
<p>102</p>
<p>6.3.3 Understand Types, Prototypes and Interfaces</p>
<p>106</p>
<p>6.4 Ports, Port Init Values and Data Elements</p>
<p>106</p>
<p>6.5 Configure Service Ports within your Application Components</p>
<p>111</p>
<p>6.6 Define your Runnables</p>
<p>112</p>
<p>6.7 Triggers for the Runnables</p>
<p>113</p>
<p>6.8 Port Access of the Runnables</p>
<p>115</p>
<p><b>7 Mappings</b></p>
<p><b>117</b></p>
<p>7.1 Data Mapping</p>
<p>117</p>
<p>7.2 Task Mapping</p>
<p>118</p>
<p>7.2.1 Information about Interaction between Runnable, Re-entrance and Task Mapping</p>
<p>119</p>
<p>7.3 Memory Mapping</p>
<p>121</p>
<p>7.4 Service Mapping</p>
<p>122</p>
<p><b>8 Generation</b></p>
<p><b>124</b></p>
<p>8.1 MICROSAR Rte Gen</p>
<p>124</p>
<p><b>9 Runnable Code</b></p>
<p><b>125</b></p>
<p><b>10 Compile and Link</b></p>
<p><b>127</b></p>
<p>10.1 Using your &quot;real&quot; hardware</p>
<p>127</p>
<p><b>III Additional Information</b></p>
<p><b>128</b></p>
<p><b>1 Update Input Files</b></p>
<p><b>129</b></p>
<p>1.1 System Description Files</p>
<p>129</p>
<p>1.2 Diagnostic Data Files</p>
<p>129</p>
<p><b>2 Update Project Settings</b></p>
<p><b>130</b></p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 7-</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 8-</p>
<p><b>3 Support Request via DaVinci Configurator Pro</b></p>
<p><b>131</b></p>
<p>3.1 Result</p>
<p>131</p>
<p><b>4 Multiple User Concept</b></p>
<p><b>133</b></p>
<p>4.1 General</p>
<p>133</p>
<p>4.2 Split Files for Software Component and ECU Project Configuration</p>
<p>134</p>
<p>4.3 Configure Software Component Prototype</p>
<p>136</p>
<p>4.4 Configure ECU project</p>
<p>136</p>
<p>4.5 Split Files in DaVinci Developer</p>
<p>137</p>
<p>4.6 Split Files for BSW Configuration</p>
<p>137</p>
<p><b>5 Configuration Update</b></p>
<p><b>139</b></p>
<p>5.1 Release x-1 to Release x (necessary steps for any update)</p>
<p>139</p>
<p>5.2 Release 8 to Release 9</p>
<p>142</p>
<p>5.3 Release 7 to Release 8</p>
<p>142</p>
<p><b>6 Update DaVinci Tools</b></p>
<p><b>144</b></p>
<p>6.1 DaVinci Configurator Pro</p>
<p>144</p>
<p>6.2 DaVinci Developer</p>
<p>144</p>
<p><b>7 Non-Volatile Memory Block</b></p>
<p><b>145</b></p>
<p>7.1 Configure and use Non-Volatile Memory Block</p>
<p>145</p>
<p>7.2 Port Access of your Runnables</p>
<p>148</p>
<p>7.3 Memory Mapping in DaVinci Configurator Pro</p>
<p>148</p>
<p>7.4 Validate the RTE</p>
<p>150</p>
<p><b>8 Basic Software Modules</b></p>
<p><b>151</b></p>
<p>8.1 Generic BSW Modules</p>
<p>151</p>
<p>8.2 What is a BSW Module?</p>
<p>151</p>
<p>8.3 BSW Module Configuration</p>
<p>153</p>
<p>8.4 BSW Initialization</p>
<p>153</p>
<p>8.4.1 &lt;Msn&gt;_InitMemory()</p>
<p>153</p>
<p>8.4.2 &lt;Msn&gt;_Init()</p>
<p>153</p>
<p>8.5 BSW Module Version (xxx_GetVersionInfo)</p>
<p>153</p>
<p>8.6 Cyclic Calls</p>
<p>154</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>8.6.1 &lt;Msn&gt;_MainFunction()</p>
<p>154</p>
<p>8.7 Service Functions</p>
<p>154</p>
<p>8.8 Critical Sections - Exclusive Areas</p>
<p>154</p>
<p>8.8.1 Memory Section</p>
<p>155</p>
<p>8.8.2 Switch &lt;MSN&gt; Modules Off</p>
<p>155</p>
<p><b>9 Command Line Parameters of the DaVinci Configurator</b></p>
<p><b>156</b></p>
<p>9.1 Common parameters</p>
<p>156</p>
<p>9.2 Command Line Interface Use Cases</p>
<p>156</p>
<p>9.3 Usecase With GUI (only DaVinciCFG.exe)</p>
<p>157</p>
<p>9.4 Use Case DaVinci Configurator CodeGenerator</p>
<p>158</p>
<p>9.5 Use Case DaVinci Configurator Execute Converter</p>
<p>161</p>
<p>9.6 Use Case EcucUpdater (without GUI)</p>
<p>162</p>
<p>9.7 Use Case DaVinci Configurator Exporter (without GUI)</p>
<p>164</p>
<p>9.8 Use Case DaVinci Configurator Sign Script</p>
<p>165</p>
<p>9.9 Return Codes</p>
<p>166</p>
<p><b>10 Variant Handling</b></p>
<p><b>167</b></p>
<p>10.1 Define Criterion and Variants</p>
<p>167</p>
<p>10.2 Add and Assign Input Files to Variants</p>
<p>170</p>
<p>10.3 Define Variance for BSW Modules</p>
<p>171</p>
<p>10.4 Configure and Validate BSW</p>
<p>171</p>
<p><b>11 Add Module Stubs from AUTOSAR definition</b></p>
<p><b>174</b></p>
<p><b>12 SIP Update</b></p>
<p><b>176</b></p>
<p><b>13 Project Migration</b></p>
<p><b>177</b></p>
<p>13.1 Migration Steps from Release 15 SIP to Release 16</p>
<p>177</p>
<p><b>IV Appendix</b></p>
<p><b>178</b></p>
<p><b>1 Frequently Asked Questions</b></p>
<p><b>179</b></p>
<p>1.1 Problems with using two different DaVinci Configurator Versions on the same PC</p>
<p>179</p>
<p>1.2 Annotations for any parameter</p>
<p>179</p>
<p>1.3 Find Reference Container</p>
<p>181</p>
<p>1.3.1 How to find references using the [Find] dialog</p>
<p>181</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 9-</p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 10-</p>
<p><b>2 Release Notes</b></p>
<p><b>182</b></p>
<p>2.1 Release 16</p>
<p>182</p>
<p>2.1.1 Required AUTOSAR Tools</p>
<p>188</p>
<p>2.2 Release 15</p>
<p>188</p>
<p>2.2.1 Required AUTOSAR Tools</p>
<p>193</p>
<p>2.3 Release 14</p>
<p>194</p>
<p>2.3.1 Required AUTOSAR Tools</p>
<p>202</p>
<p><b>3 What’s New, What’s Changed</b></p>
<p><b>203</b></p>
<p><b>4 Glossary</b></p>
<p><b>204</b></p>
<p><b>5 Index</b></p>
<p><b>216</b></p>
<p><b>Content</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 About This Manual</b></p>
<p><b>1.1 History Information</b></p>
<p><b>Cross Reference</b></p>
<p>For detailed information about what's new, what's changed in current version, refer to sec-</p>
<p>tion What's New, What's Changed? on page 203.</p>
<p><b>1.2 Finding Information Quickly</b></p>
<p>The user manual provides the following access help:</p>
<p><b>&gt;</b> You can see in the footer to which version the user manual refers,</p>
<p><b>&gt;</b> At the end of the user manual you will find an index to find information quickly,</p>
<p><b>&gt;</b> Also at the end of the user manual you will find a glossary of the used technical terms</p>
<p><b>1.3 Conventions</b></p>
<p>In the following two charts you will find the conventions used in the user manual regarding utilized</p>
<p>spellings and symbols.</p>
<p><b>Style</b></p>
<p><b>Style Utilization</b></p>
<p><b>bold</b></p>
<p>Blocks, surface elements, window- and dialog names of the software. Accentuation</p>
<p>of warnings and advices.</p>
<p><b>[OK]</b> Push buttons in brackets</p>
<p><b>File|Save</b> Notation for menus and menu entries</p>
<p>MICROSAR</p>
<p>Legally protected proper names and side notes.</p>
<p>Source Code</p>
<p>File name and source code.</p>
<p>Hyperlink</p>
<p>Hyperlinks and references.</p>
<p>&lt;CTRL&gt;+&lt;S&gt;</p>
<p>Notation for shortcuts.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 11-</p>
<p>Introduction</p>
<p><b>About This User Manual</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 12-</p>
<p><b>Symbol</b></p>
<p><b>Symbol Utilization</b></p>
<p>Here you can obtain supplemental information.</p>
<p>This symbol calls your attention to warnings.</p>
<p>Here you can find additional information.</p>
<p>Here is an example that has been prepared for you.</p>
<p>Instructions on editing files are found at these points.</p>
<p>This symbol warns you not to edit the specified file.</p>
<p>This icon indicates multimedia files like e.g. video clips.</p>
<p>This icon indicates an introduction into a specific topic.</p>
<p>This icon indicates text areas containing basic knowledge.</p>
<p>This icon indicates text areas containing expert knowledge.</p>
<p>This icon indicates that something has changed.</p>
<p><b>1.4 Certification</b></p>
<p>Vector Informatik GmbH has ISO 9001:2008 certification. The ISO standard is a globally recognized</p>
<p>standard.</p>
<p><b>1.5 Warranty</b></p>
<p>We reserve the right to modify the contents of the documentation or the software without notice.</p>
<p>Vector disclaims all liabilities for the completeness or correctness of the contents and for damages</p>
<p>Introduction</p>
<p><b>About This User Manual</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>which may result from the use of this documentation.</p>
<p><b>1.6 Support</b></p>
<p><b>Germany</b></p>
<p>And all other countries, not listed here.</p>
<p>+ 49 711 80670 3900</p>
<p>support@de.vector.com</p>
<p><b>BR</b></p>
<p>Brazil, Argentina, Bolivia, Chile, Ecuador, Colombia,</p>
<p>Paraguay, Peru, Uruguay, Venezuela</p>
<p><b>CN</b></p>
<p>China</p>
<p>+55 11 5180 2350</p>
<p>support@br.vector.com</p>
<p>+86 21 6432 5353</p>
<p>support@cn.vector.com</p>
<p><b>FR</b></p>
<p>France</p>
<p><b>IN</b></p>
<p>India</p>
<p>+33 1 42 31 40 10</p>
<p>support@fr.vector.com</p>
<p>+91 20 6673 6673</p>
<p>support@in.vector.com</p>
<p><b>IT</b></p>
<p>Italia</p>
<p><b>JP</b></p>
<p>Japan</p>
<p>+39 2 678171 10</p>
<p>support@de.vector.com</p>
<p>TOKYO +81 3 5769 6972</p>
<p>NAGOYA +81 52 238 5014</p>
<p>support@jp.vector.com</p>
<p><b>KR</b></p>
<p>South Korea</p>
<p><b>Scandinavia</b></p>
<p>Sweden, Denmark, Finland, Iceland, Norway</p>
<p>+82 2 807 0600</p>
<p>support@kr.vector.com</p>
<p>+46 31 764 76 00</p>
<p>support@se.vector.com</p>
<p><b>UK</b></p>
<p>United Kingdom &amp; Ireland</p>
<p><b>North America</b></p>
<p>USA, Canada, Mexico</p>
<p>+44 121 7887 902</p>
<p>support@uk.vector.com</p>
<p>+1 248 449 9290, Option 2</p>
<p>support@vectorcantech.zendesk.com</p>
<p><b>1.7 Registered Trademarks</b></p>
<p>All brand names in this documentation are either registered or non registered trademarks of their</p>
<p>respective owners.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 13-</p>
<p>Introduction</p>
<p><b>About This User Manual</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 14-</p>
<p><b>1.8 Errata Sheet of Hardware Manufacturers</b></p>
<p><b>Caution! Vector only delivers software!</b></p>
<p>Your hardware manufacturer will provide you with the necessary errata sheets concerning</p>
<p>your used hardware. In case of errata dealing with CAN, please provide us with the rel-</p>
<p>evant erratas and we will examine whether this hardware problem is already known to us</p>
<p>or whether to get a possible workaround.</p>
<p><b>Note</b></p>
<p>Because of many NDAs with different hardware manufacturers or because we are not</p>
<p>informed about them, we are not able to provide you with information concerning hardware</p>
<p>errata of the hardware manufacturers.</p>
<p><b>1.9 Example Code</b></p>
<p><b>Caution!</b></p>
<p>All application code in any of the Vector User Manuals is for training purposes only. They</p>
<p>are slightly tested and designed only to understand the basic idea of using a certain com-</p>
<p>ponent or set of components. Vector gives consent that you use it as a basis for developing</p>
<p>your own code and modify it (Vector waives its copyright to forbid you the use), however,</p>
<p>with regard to the fact that the code is designed for training purposes only and not for the</p>
<p>use by you, usability of the code is not warranted and Vector’s liability shall be expressly</p>
<p>excluded in cases of normal negligence, to the extent admissible by law or statute. Of</p>
<p>course you have to test the software developed on the basis of the code with diligent care</p>
<p>before using the software.</p>
<p><b>1.10 What Do You Learn from This Manual</b></p>
<p>Use this document to</p>
<p><b>&gt;</b> Set up your project in just a few steps</p>
<p><b>&gt;</b> Learn how to use the Vector tools</p>
<p><b>&gt;</b> Learn how to work with the AUTOSAR means like software components, runnables, etc.</p>
<p><b>&gt;</b> Work with the Vector AUTOSAR Solution on a basic level</p>
<p><b>&gt;</b> Get a feeling of what you have to do when you start working for your actual project</p>
<p>The document is split in two parts, a<b> STEPbySTEP</b> description and an<b> Expert Knowledge (Con-</b></p>
<p><b>cepts)</b> section.</p>
<p>Introduction</p>
<p><b>About This User Manual</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>&gt; STEPbySTEP</b></p>
<p>This section gives you a short overview how to set up your project in just a few steps. Use the step</p>
<p>by step description to start up with basic information and get your project basically running.</p>
<p><b>&gt; Expert Knowledge</b></p>
<p>This section gives you a detailed information about working with Vector AUTOSAR Solution. It con-</p>
<p>tains expert knowledge based on STEPbySTEP description sections and information about tool use</p>
<p>and general AUTOSAR concepts.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 15-</p>
<p>Introduction</p>
<p><b>About This User Manual</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 16-</p>
<p><b>2 Basics</b></p>
<p><b>2.1 An Overall View</b></p>
<p>What we are talking about is an ECU, a module to be built-in a vehicle . The ECUs have to com-</p>
<p>municate with other ECUs and therefore almost every ECU participates in a bus system like e.g. CAN,</p>
<p>FlexRay, LIN, MOST or IP. Any ECU within one bus system has to provide an identical interface to this</p>
<p>bus system, because all ECUs have to share information via this bus system.</p>
<p>The illustration below shows an example of a CAN network that connects the ECUs of a vehicle.</p>
<p>All ECUs are built-up in a very similar way. There is a software part to perform the main job (applic-</p>
<p>ation) of the ECU, e.g. to control the engine or a door. The other part handles the network com-</p>
<p>munication and diagnostics.</p>
<p>Introduction</p>
<p><b>Basics</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2.2 MICROSAR - Vector's AUTOSAR Solution</b></p>
<p>The Vector MICROSAR Solution provides efficient and scalable basic software modules and an RTE for</p>
<p>AUTOSAR ECUs.</p>
<p>The individual AUTOSAR basic software modules are grouped into MICROSAR products that of related</p>
<p>functions. The configuration of the MICROSAR basic software with DaVinci Configurator Pro is simple,</p>
<p>user-friendly, and consistent. The included command-line-based generators create optimized code for</p>
<p>your ECU based on the configuration.</p>
<p><b>Cross Reference</b></p>
<p>To get more information about the MICROSAR concept refer to General Overview on page</p>
<p>76.</p>
<p><b>Cross Reference vVIRTUALtarget</b></p>
<p>Find more about vVIRTUALtarget usage here:</p>
<p><b>&gt;</b> Online Help vVIRTUALtarget</p>
<p><b>&gt;</b> TechnicalReference_vVIRTUALtarget.pdf</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 17-</p>
<p>Introduction</p>
<p><b>Basics</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 18-</p>
<p><b>2.3 AUTOSAR Layer Model GM</b></p>
<p>The following figure shows the AUTOSAR Layer model for GM .</p>
<p>Introduction</p>
<p><b>Basics</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2.4 Configuration Workflow GM SLP2</b></p>
<p>The following figure shows the configuration workflow for GM SLP2:</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 19-</p>
<p>Introduction</p>
<p><b>Basics</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 20-</p>
<p><b>I STEPbySTEP</b></p>
<p>This section shows you the few steps that are necessary to set up your project. Use it to start with</p>
<p>basic information and get your project basically running.</p>
<p><b>&gt; STEP1</b> Setup Your Project</p>
<p><b>&gt; STEP2</b> Define Project Settings</p>
<p><b>&gt; STEP3</b> Validation</p>
<p><b>&gt; STEP4</b> Start BSW Configuration</p>
<p><b>&gt; STEP5</b> Design Software Components</p>
<p><b>&gt; STEP6</b> Mappings</p>
<p><b>&gt; STEP7</b> Code Generation</p>
<p><b>&gt; STEP8</b> Add Runnable Code</p>
<p><b>&gt; STEP9</b> Compile, Link and Test Your Project</p>
<p>STEP by STEP</p>
<p><b>STEPbySTEP</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 STEP1 Setup Your Project</b></p>
<p>This section includes all information for setting up a new project. It starts with the situation after</p>
<p>installation and provides you with all information about relevant tools.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section New Project on page 85.</p>
<p><b>1.1 Situation after Installation</b></p>
<p><b>&gt;</b> Before you start your first steps with GM SLP2 check whether you have installed all necessary tools</p>
<p>and software.</p>
<p><b>&gt;</b> Have you read the<b> Installation Guide</b>? Have you received and installed all the necessary tools</p>
<p>mentioned there?</p>
<p><b>&gt;</b> Have you installed the MICROSAR SIP?</p>
<p><b>NO?</b> Then please read the installation guide carefully and follow the installation guidelines given there.</p>
<p><b>Cross Reference</b></p>
<p>You will find the installation guide document at the Vector Knowledge Base:</p>
<p>https://vector.com/kbp/entry/640/</p>
<p><b>YES?</b> You are ready to continue and to start with your first steps with the GM SLP2 solution.</p>
<p><b>1.2 Setup Project via DaVinci Configurator Pro</b></p>
<p>Start the DaVinci Configurator Pro to set up your project.</p>
<p><b>Note</b></p>
<p>The DaVinci Configurator is located in your SIP Folder:</p>
<p><b>&lt;SIPFolder&gt;\DaVinciConfigurator\Core\DaVinciCFG.exe</b></p>
<p>1.</p>
<p>Open<b> File|New</b>.</p>
<p>A set of four configuration windows will open;</p>
<p><b>General Settings</b>,</p>
<p><b>Target</b>,</p>
<p><b>Project Folder Structure</b>, and</p>
<p><b>Tools</b></p>
<p>2.</p>
<p>Enter the necessary Information for each window and click<b> [Next&gt;]</b> to get to the next window.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 21-</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 22-</p>
<p><b>Note for No-Communication Projects</b></p>
<p>For projects without communication modules like e.g. DEM only, just confirm the windows</p>
<p><b>Target</b> and<b> Tools</b> as this information is not relevant.</p>
<p>Especially the<b> Target</b> window will show pull-down menus where<b> (undefined)</b> is preset and</p>
<p>nothing else can be selected. This is not relevant for your use case and can be confirmed</p>
<p>with<b> [Next]</b>.</p>
<p><b>1.2.1 General Settings</b></p>
<p>The following settings are required for project setup.</p>
<p><b>&gt; SIP root path</b></p>
<p>The SIP root path will be defined automatically based on the DaVinci Configurator Pro location and</p>
<p>cannot be changed by the user!</p>
<p>The DaVinci Configurator Pro is always located within the SIP.</p>
<p><b>&gt; Project Name</b></p>
<p>The name of your project (e.g. MyECU). It will be used as name of the generated ECUC files and</p>
<p>for the<b> DaVinci Developer workspace</b>.</p>
<p><b>&gt; Project Folder</b></p>
<p>This is the root path of your project. Select an existing one or define a new one.</p>
<p><b>&gt; Create entries in the start menu</b></p>
<p>The checkbox<b> Create entries in the start menu</b> is set as default. This is a comfortable feature</p>
<p>that enables you to open your tools and project folder directly from the Windows start menu.</p>
<p><b>1.2.2 Target</b></p>
<p>Check<b> Derivative</b>,<b> Compiler</b> and<b> Pin layout</b> (automatically set, based on SIP information).</p>
<p>If you want to use<b> Postbuild-Loadable</b> or<b> Postbuild-Selectable</b> for your project, activate the neces-</p>
<p>sary support option.</p>
<p><b>1.2.3 Project Folder Structure</b></p>
<p>Define your output paths here. You can use the given defaults or change paths to fit your project’s</p>
<p>needs.</p>
<p><b>Note</b></p>
<p>Default paths are based on the location of the defined project folder.</p>
<p><b>ECUC File Granularity</b></p>
<p>Additionally, you can specify whether the ECUC should be saved as one file (Single file) or is split into</p>
<p>several files (One file per module).</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>Split to several files is necessary to realize a multi user concept. Refer to Multiple User</p>
<p>Concept.</p>
<p><b>1.2.4 Tools</b></p>
<p><b>&gt; DaVinci Developer Workspace</b></p>
<p>If you have a RTE and you use the DaVinci Developer select the checkbox<b> Create DaVinci</b></p>
<p><b>Developer Workspace</b> and define the path to the DaVinci Developer executable the path to the</p>
<p>workspace.</p>
<p><b>&gt; Automatic Update of DaVinci Developer Workspace</b></p>
<p>Option used for updating the DaVinci Developer workspace during the project update process.</p>
<p>Details see DaVinci Developer help.</p>
<p>3.</p>
<p>Click the button<b> [Finish]</b> to create your project.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 23-</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 24-</p>
<p><b>1.3 Result Project Folder - Result of the Project Setup</b></p>
<p>The DaVinci Configurator Pro automatically creates and stores all relevant files to the project folder.</p>
<p>The content of the folder looks like shown and described below .</p>
<p><b>1.3.1 Appl folder</b></p>
<p>The<b> Appl</b> folder contains further folders<b> GenData</b>,<b> GenDataVtt</b> and<b> Source</b>. In<b> GenData</b> the con-</p>
<p>figuration tools generate their output files, if vVIRTUALtarget is used, the generated output will be</p>
<p>stored in<b> GenDataVtt</b>. The<b> Source</b> folder is meant to carry your source code files.</p>
<p><b>1.3.2 Config folder</b></p>
<p>The<b> Config</b> folder contains the following folders:</p>
<p><b>&gt; ApplicationComponents</b></p>
<p>This is a folder to put in additional SWC-Ts (Software Component Types). The DaVinci Configurator</p>
<p>Pro reads in all *.arxml files of this folder.</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>&gt; Developer</b></p>
<p>All relevant project data for DaVinci Developer is located in this folder.</p>
<p><b>&gt; ECUC</b></p>
<p>This folder contains the created ECUC files. Before you add your input file(s), these files are only</p>
<p>placeholders without content.</p>
<p><b>File Name</b></p>
<p><b>Description</b></p>
<p>&lt;ProjectName&gt;.ecuc.arxml</p>
<p>ECU Configuration Description</p>
<p>&lt;Pro-</p>
<p>jectName&gt;.ecuc.Initial.arxml</p>
<p>Initial ECU Configuration Description for internal tool use</p>
<p>only.</p>
<p><b>&gt; InternalBehavior</b></p>
<p>This folder contains the bswmd files for all activated modules in the DaVinci Configurator.</p>
<p><b>&gt; McData</b></p>
<p>Folder is used for storing measurement and calibration data.</p>
<p><b>&gt; ServiceComponents</b></p>
<p>The DaVinci Configurator stores all generated Service Component Prototypes to this folder.</p>
<p><b>Note</b></p>
<p>After you have added your Input file(s) and updated the configuration in the DaVinci</p>
<p>Configurator, the<b> System</b> folder will be added to the<b> Config</b> folder.</p>
<p><b>&gt; System</b></p>
<p>The input file(s) and an additional created input file extract for communication use are stored to</p>
<p>this folder.</p>
<p><b>Do not edit manually!</b></p>
<p>These files must not be modified manually!</p>
<p><b>&gt; VTT</b></p>
<p>In case of activated Virtual Target option, the vVIRTUALtarget project file is located here.</p>
<p><b>1.3.3 &lt;ProjectName&gt;.dpa</b></p>
<p>Project File</p>
<p>1</p>
<p>includes all relevant project data. Additionally the context menu of this file is the control</p>
<p>center to open your tools with already loaded projects.</p>
<p><b>1.3.4 Log Folder</b></p>
<p>Folder for the generated log files.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 25-</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 26-</p>
<p><b>1.4 Start Menu - Result of the Project Setup</b></p>
<p>The DaVinci Configurator Pro creates a link to start the tools with already loaded configuration. You</p>
<p>will find this link in<b> Start | Programs | Vector AUTOSAR Projects | &lt;ProjectName&gt;</b> if<b> Create</b></p>
<p><b>entries in the startmenu</b> was selected while project setup.</p>
<p><b>Info</b></p>
<p>You can also use the<b> *.dpa</b> file to start your project with already loaded configuration.</p>
<p>Therefore right-click on your<b> *.dpa</b> file in the Windows Explorer and select<b> Configure</b></p>
<p><b>BSW</b> to open the DaVinci Configurator Pro with already loaded configuration or<b> Configure</b></p>
<p><b>SWCs</b> to open the DaVinci Developer for Software Design and Data Mapping.</p>
<p>If the Virtual Target option is enabled in the project, then<b> Open vVIRTUALtarget project</b></p>
<p>is additionally available.</p>
<p><b>1.5 DaVinci Configurator Pro Project</b></p>
<p>After finishing project set-up, a new empty project is loaded within the DaVinci Configurator Pro.</p>
<p><b>Note</b></p>
<p>Editors to configure modules will be available after input file import (see Add Input Files on</p>
<p>page 27) or after module activation (see Activate Your BSW Modules on page 34).</p>
<p>STEP by STEP</p>
<p><b>STEP1 Setup Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2 STEP2 Define Project Settings</b></p>
<p>Before you start with the configuration it is necessary to define some project-specific data. This is</p>
<p>the definition of project-specific data and the definition of all necessary input file(s) for com-</p>
<p>munication and diagnostic purpose. Additional custom workflow steps, external generation steps</p>
<p>and the activation of the necessary Basic Software Modules have to be done in the DaVinci</p>
<p>Configurator Pro Project Settings view before.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Project Settings on page 91.</p>
<p><b>Note</b></p>
<p>In case of OS only projects, skip the next sections<b> Add Input Files</b> and<b> Define Custom</b></p>
<p><b>Workflow Steps</b> and<b> External Generation Steps</b> and go on with Activate Your BSW Mod-</p>
<p>ules on page 34.</p>
<p><b>2.1 Add Input Files</b></p>
<p>Open Input Files editor via<b> Project | Input Files</b> or use the input file button</p>
<p>1</p>
<p>of DaVinci Configurator</p>
<p>Pro toolbar.</p>
<p><b>Note</b></p>
<p>Any change of the input files requires an update of the configuration. Add all relevant files</p>
<p>before starting the update process.</p>
<p><b>2.1.1 Add System Description Files</b></p>
<p>Add your System Description File first. Therefore open the<b> System Description Files view</b></p>
<p><b>2</b></p>
<p>. First</p>
<p>you have to decide if you add AUTOSAR Files (arxml)</p>
<p>3</p>
<p>or Legacy Files (dbc, xml, ldf)</p>
<p>4</p>
<p>.</p>
<p>1</p>
<p><b>2</b></p>
<p>3</p>
<p>4</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 27-</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 28-</p>
<p><b>Note</b></p>
<p>The following section describes the import of AUTOSAR files. If you use legacy file as input,</p>
<p>you have to perform nearly the same steps, only for 1. Legacy Files button</p>
<p>1</p>
<p>has to be selec-</p>
<p>ted.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Use the AUTOSAR Files button</p>
<p>1</p>
<p>to open the window where you can add your AUTOSAR files.</p>
<p>2.</p>
<p>Add your Input Files via<b> [+]</b></p>
<p><b>Note - Only necessary if DBC is used as input file</b></p>
<p>There is a document TechnicalReference_DbcRules_Vector.pdf that describes necessary</p>
<p>DBC rules to help you creating your DBC file. You find this document in the Tech-</p>
<p>nicalReference folder of your delivery.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 29-</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 30-</p>
<p>3.</p>
<p>Go on with<b> [Next]</b> and select the<b> ECU</b> instance.</p>
<p>4.</p>
<p>Make your input file path relative to your project folder via Make Path Relative button</p>
<p>1</p>
<p><b>2.1.2 Add Diagnostic Data Files</b></p>
<p><b>Note - Diagnostic Extract as Input!</b></p>
<p>If your diagnostic input file is a<b> Diagnostic Extract</b>, then add this file as if it was a Sys-</p>
<p>tem Description file as described in the previous chapter.</p>
<p>If diagnostic is used, you have to add a diagnostic data file. If not, you can skip this section. There are</p>
<p>different use cases to import diagnostic data, decide if you import your data from a diagnostic data file</p>
<p>or from an already existing configuration.</p>
<p><b>Use Case 1: Import Diagnostic Data from ODX, PDX or</b> CDD</p>
<p><b>2</b></p>
<p><b> File</b></p>
<p>Open your project in the DaVinci Configurator and go on with the following Steps to import your dia-</p>
<p>gnostic data from a diagnostic data file.Open the Input Files editor via<b> Project | Input Files</b> or use</p>
<p>the input file button</p>
<p>3</p>
<p>of DaVinci Configurator Pro toolbar</p>
<p>1.</p>
<p>Open the Diagnostic Data Files view</p>
<p>4</p>
<p>in the Input File editor</p>
<p>2.</p>
<p>Open the Diagnostic Fileset Configuration window via Add, remove or modify diagnostic data but-</p>
<p>ton</p>
<p>5</p>
<p>3.</p>
<p>Browse for the<b> Diagnostic Description File</b> (*.cdd/*.pdx/*.odx)</p>
<p>4.</p>
<p>Select ECU and Variant</p>
<p>1</p>
<p><b>2</b></p>
<p>(Complex Drivers) The Complex Drivers are software modules that are not standardized by</p>
<p>AUTOSAR. They have access to other BSW modules, the RTE and direct hardware access. For</p>
<p>example, these modules are not standardized communication drivers for SPI or legacy software.</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Use Case 2: Import Diagnostic Data From an Existing Configuration</b></p>
<p>Open your project in the DaVinci Configurator and go on with the following steps to import your dia-</p>
<p>gnostic data from an existing Configuration.</p>
<p>1.</p>
<p>Start Import Assistant via<b> File | Import</b></p>
<p>2.</p>
<p>Add<b> [+]</b> ECUC File and go on with<b> [Next]</b></p>
<p>3.</p>
<p>Select modules which should be imported and close the<b> Modul Configuration Import</b> dialog via</p>
<p><b>[Finish]</b>.</p>
<p>Make your input file path relative to your project folder via Make Path Relative button</p>
<p>1</p>
<p><b>2.1.3 Add Standard Configuration Files</b></p>
<p>In some cases an OEM-specific preconfiguration is necessary, therefore add the Standard Con-</p>
<p>figuration File provided by your OEM. Add fragments of ECUC modules which will be used as project</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 31-</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 32-</p>
<p>specific mandatory configuration.</p>
<p><b>2.1.4 Update Configuration</b></p>
<p>Any change of the input files lead to Pending Update state of the project, this requires an update of the</p>
<p>configuration.</p>
<p>Update the configuration via</p>
<p>.</p>
<p><b>What happens during the configuration update process?</b></p>
<p>The project file will be updated based on loaded input/diagnostic files.</p>
<p>The update was<b> successful?</b></p>
<p><b>Note</b></p>
<p>After the first update/import of data bases all required modules are automatically enabled.</p>
<p>This information is derived from the data base. If further modules are required or some</p>
<p>shall be removed please refer to section Activate Your BSW Modules on page 34.</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2.2 Define Custom Workflow Steps and External Generation Steps</b></p>
<p>To define custom workflow steps/external generation steps, open<b> Project Settings Editor</b> via<b> Pro-</b></p>
<p><b>ject | Project Settings</b> or use the project settings icon</p>
<p>1</p>
<p>ofDaVinci Configurator Pro toolbar.</p>
<p><b>2.2.1 Custom Workflow Steps</b></p>
<p>In some cases it is necessary to define custom workflow steps, e.g. to Generate SWC Templates.</p>
<p>Then perform the following steps.</p>
<p>1.</p>
<p>Select<b> Custom Workflow</b> |<b> Custom Workflow Steps</b></p>
<p>2.</p>
<p>Define<b> Name</b> and<b> Parameters</b> e.g. to Generate SWC Templates Rte</p>
<p>3</p>
<p>: -g i.</p>
<p><b>2.2.2 External Generation Steps</b></p>
<p>You have external software that needs to be started during the code generation of DaVinci</p>
<p>Configurator? Or just before? Or afterwards?</p>
<p>Then link your software to the<b> External Generation Steps</b> of DaVinci Configurator Pro.</p>
<p>How? Follow these steps.</p>
<p>12</p>
<p>2</p>
<p>3</p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 33-</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 34-</p>
<p>1.</p>
<p>Select<b> Code Generation</b> |<b> External Generation Steps</b></p>
<p>2.</p>
<p>Add<b> [+]</b> step</p>
<p>3.</p>
<p>Define</p>
<p><b>Name</b>,</p>
<p><b>Command line executable</b>,</p>
<p><b>Execution Type</b> and</p>
<p><b>Working folder</b>.</p>
<p><b>2.3 Activate Your BSW Modules</b></p>
<p>Before you start configuring your Basic Software, you have to activate all modules you need for your</p>
<p>project. Therefore open<b> Project Settings Editor</b> via<b> Project</b> |<b> Project Settings</b> or use project set-</p>
<p>tings icon</p>
<p>1</p>
<p>at DaVinci Configurator Pro toolbar.</p>
<p>Select<b> Modules</b> to see all modules currently activated for your project.</p>
<p><b>Info</b></p>
<p>It depends on your Input File which modules are loaded initially.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>You need additional modules?</b></p>
<p>1.</p>
<p>Click<b> [+]</b> and select the source of the module definition.</p>
<p>2.</p>
<p>Select the module you would like to add to your configuration and confirm with<b> [OK]</b>.</p>
<p><b>Info</b></p>
<p>Multiple selection is possible for activating or deactivating modules.</p>
<p><b>Not all modules are needed?</b></p>
<p>To delete not used modules, select the module and delete it via<b> [x]</b>.</p>
<p><b>Caution!</b></p>
<p>It is not recommended to delete initially activated modules from project!</p>
<p><b>You have a completely configured module and would use this for the current con-</b></p>
<p><b>figuration?</b></p>
<p>1.</p>
<p>Make sure, that the module you would like to import, is deactivated in your current project.</p>
<p>2.</p>
<p>Select<b> File</b> |<b> Import</b></p>
<p>3.</p>
<p>Add<b> [+]</b> ECUC file including the configured module</p>
<p>4.</p>
<p>Click<b> [Next]</b></p>
<p>5.</p>
<p>Select the module configurations to be imported</p>
<p><b>Note</b></p>
<p>It is not allowed to import BSW modules which are currently activated.</p>
<p>6.</p>
<p>Click<b> [Finish]</b></p>
<p><b>2.4 Change Project Settings</b></p>
<p>In some cases it is necessary to change project settings, which was defined while project setup. There-</p>
<p>fore activate editing via Edit Project settings icon</p>
<p>1</p>
<p>.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 35-</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 36-</p>
<p><b>2.4.1 Postbuild Support</b></p>
<p><b>Caution!</b></p>
<p>These parameters should be changed for compelling reasons only. Parameter changes,</p>
<p>require a lot of manual adjustment after project update!</p>
<p><b>Note</b></p>
<p>In case of project migration, the parameters will be set automatically.</p>
<p>STEP by STEP</p>
<p><b>STEP2 Define Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3 STEP3 Validation</b></p>
<p>Start initial validation process to solve the first warnings and errors.</p>
<p>The DaVinci Configurator Pro provides validation routines that run in the background and are called</p>
<p>live validation. At the beginning of the configuration, the project is incomplete and much inform-</p>
<p>ation in the system is still missing. Therefore the DaVinci Configurator Pro offers a powerful solving</p>
<p>algorithm.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Validation on page 94.</p>
<p><b>3.1 Start Solve All Mechanism</b></p>
<p>First of all start solving mechanism via the Solve All button</p>
<p>1</p>
<p>at the validation view of the DaVinci</p>
<p>Configurator.</p>
<p><b>Note</b></p>
<p>Not all errors can be fixed with<b> Solve All</b> mechanism.</p>
<p>Some errors might have two or more solutions, these errors cannot be fixed automatically</p>
<p>and need your decision.</p>
<p><b>3.2 Live Validation - Solving Actions</b></p>
<p>The DaVinci Configurator Pro provides a live validation during project configuration. For some para-</p>
<p>meter errors the live validation process offers possible solution(s) in the validation view of the DaVinci</p>
<p>Configurator Pro. These errors are marked with a bulb.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 37-</p>
<p>STEP by STEP</p>
<p><b>STEP3 Validation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 38-</p>
<p><b>Note 3rd Party Module Live Validation</b></p>
<p>If<b> Automatic Generation Validation</b> is activated in<b> Project Setting Editor</b>, the con-</p>
<p>figuration of 3rd party modules is also checked while live validation.</p>
<p>Check if the suggested solving action is correct. Double click the error message to open the con-</p>
<p>figuration window of the parameter.</p>
<p><b>Solving Action is correct?</b></p>
<p>Start the solving action via double click on the solving action entry in the validation window.</p>
<p><b>Note</b></p>
<p>If the solving action is not correct, you can additionally use the link in the solving action to</p>
<p>navigate to the parameter and configure the changes manually.</p>
<p><b>Cross Reference</b></p>
<p>You find more information about the feature Acknowledgment in the online help of the</p>
<p>DaVinci Configurator Pro.</p>
<p>STEP by STEP</p>
<p><b>STEP3 Validation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4 STEP4 Start BSW Configuration</b></p>
<p>Start the configuration of the BSW modules now. The target of this first description is a basically</p>
<p>working configuration, using a minimal necessary configuration.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Configuration with Configurator Editors on page 95.</p>
<p><b>Note</b></p>
<p><b>Changes in Configurator Editors could lead to errors during live validation!</b></p>
<p>If these errors include solving actions, check and start solving action in the validation view</p>
<p><b>4.1 Start Configuration with Configuration Editors</b></p>
<p>The configuration editors are use case-oriented and optimized for displaying or configuring those parts</p>
<p>of the ECU configuration, which are related to the use case.</p>
<p><b>4.2 Base Services</b></p>
<p>The Base Services domain contains configuration editors for the configuration of the development</p>
<p>error reporting, general purpose timer channels, microcontroller units and RAM test algorithms.</p>
<p><b>4.2.1 Development Errors</b></p>
<p>Open<b> Development Errors</b> |<b> Enable or Disable Error Tracing</b> and select necessary modules or</p>
<p>domains to enable the development error tracing.</p>
<p><b>4.2.2 General Purpose Timer (GPT)</b></p>
<p>Use default settings.</p>
<p><b>Note</b></p>
<p>If the editor is deactivated (greyed out), you can activate the General Purpose Timer (GPT)</p>
<p>module via click. The Modules Assistant opens to specify the short name of the module to</p>
<p>be added. Click finish to add the module.</p>
<p><b>4.2.3 Microcontroller Unit</b></p>
<p>1.</p>
<p>Open tab McuModuleConfiguration</p>
<p>2.</p>
<p>Create new configuration via<b> [here]</b>.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 39-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 40-</p>
<p>3.</p>
<p>Open<b> Clock Config Sets</b> |<b> McuClockSettingConfig</b> |<b> McuClockReferencePoint</b>, add [+] an</p>
<p><b>McuClockReferencePoint</b> and define<b> Clock Reference Point Frequency</b></p>
<p><b>4.2.4 RAM Test</b></p>
<p>Some hardware-specific settings are necessary.</p>
<p><b>Note</b></p>
<p>If the editor is deactivated (greyed out), you can activate the RAM Test module via click.</p>
<p>The Modules Assistant opens to specify the short name of the module to be added. Click fin-</p>
<p>ish to add the module.</p>
<p><b>4.3 Communication</b></p>
<p>The Communication domain contains configuration editors for the configuration of general parameters</p>
<p>of the communication related modules, ECU Bus Controllers, protocol data units, data signals and the</p>
<p>transport protocol.</p>
<p><b>Note</b></p>
<p>The following setting description are meant for demonstration purposes only and can differ</p>
<p>from the settings, that are necessary for your project.</p>
<p>If there are modules describe, you do not have in your project, skip this chapter.</p>
<p><b>4.3.1 Communication General</b></p>
<p>Define central settings of the communication based modules.</p>
<p><b>CAN</b></p>
<p>1.</p>
<p>Open<b> CAN</b> |<b> Miscellaneous</b></p>
<p>2.</p>
<p>Set<b> […]</b> parameter<b> Counter Ref</b> to<b> SystemTimer</b>.</p>
<p>3.</p>
<p>Set<b> Interrupt Category</b> to<b> CATEGORY 2</b></p>
<p>4.</p>
<p>Set<b> Interrupt Lock</b> to<b> DRIVER</b></p>
<p><b>4.3.2 Bus Controller</b></p>
<p>1.</p>
<p>Open the<b> CAN Controllers</b> |<b> &lt;CANController&gt;</b></p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>2.</p>
<p>Define<b> […]</b> Controller Default Baudrate</p>
<p>3.</p>
<p>Define<b> […]</b> CPU Clock Ref</p>
<p><b>Note</b></p>
<p>If no CPU Clock Ref is available, add a new reference via<b> [+]</b> in the Select Reference Tar-</p>
<p>get view.</p>
<p><b>4.3.3 PDUs</b></p>
<p>Configure the PDUs of the modules (depends on your project)</p>
<p><b>&gt;</b> CAN/LIN/FR</p>
<p><b>&gt;</b> CANIF/LINIF/FRIF</p>
<p><b>&gt;</b> CANTP/LINTP/FRISOTP</p>
<p><b>&gt;</b> PDUR</p>
<p><b>&gt;</b> IPDUM</p>
<p><b>&gt;</b> COM</p>
<p><b>4.3.4 Signals</b></p>
<p>Configure the communication signals of the ECU.</p>
<p><b>4.3.5 Socket Adapter Users</b></p>
<p>Use default settings.</p>
<p><b>Note</b></p>
<p>If the editor is deactivated (greyed out), you can activate the SOAD module via click. The</p>
<p>Modules Assistant opens to specify the short name of the module to be added. Click finish</p>
<p>to add the module.</p>
<p><b>4.3.6 Transport Protocol</b></p>
<p>1.</p>
<p>Open<b> FlexRay</b> |<b> Tx Pdu Pools</b> and<b> Rx Pdu Pools</b> to add<b> [+]</b> a new<b> Tx Pdu Pool</b> and<b> Rx Pdu</b></p>
<p><b>Pool</b>.</p>
<p>2.</p>
<p>Open<b> FlexRay</b> |<b> Connections</b> |<b> FrTpConnection</b> and set<b> […]</b></p>
<p><b>&gt;</b> Connection Control,</p>
<p><b>&gt;</b> TxPduPool and</p>
<p><b>&gt;</b> RxPduPool.</p>
<p><b>4.4 Diagnostics</b></p>
<p>The Diagnostic domain contains comfort editors for the configuration of extended data records and</p>
<p>snapshot records, diagnostic events and production error handling of the individual BSW modules and</p>
<p>a automatic setup of the NV memory blocks.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 41-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 42-</p>
<p><b>4.4.1 Diagnostic Event Data</b></p>
<p>Use default settings as these have been derived from input files.</p>
<p><b>4.4.2 Diagnostic Events</b></p>
<p>If no configuration set is found, use the hyperlink<b> here</b> to create a valid configuration set.</p>
<p><b>4.4.3 Production Error Handling</b></p>
<p>Use default settings.</p>
<p><b>4.4.4 Setup Event Memory Blocks</b></p>
<p>The event memory block configuration needs to be updated. Start the Editor and confirm with</p>
<p><b>[finish]</b>.</p>
<p><b>Note</b></p>
<p>The automatic setup of the NV memory blocks is required for diagnostic purpose.</p>
<p><b>4.5 Memory</b></p>
<p>The Memory domain contains comfort editors for the configuration of the general parameters of the</p>
<p>memory related modules, the memory block in the non volatile memory blocks.</p>
<p><b>4.5.1 Memory General</b></p>
<p>If FEE is used, define</p>
<p><b>&gt; BSS Thresholder Reserved</b></p>
<p>BSS - Background Sector Switch</p>
<p><b>&gt; FSS Thresholder Reserved</b></p>
<p>FSS - Foreground Sector Switch</p>
<p><b>4.5.2 Memory Blocks</b></p>
<p>Open<b> Memory Partitions</b> |<b> PartitionConfiguration</b> and define</p>
<p><b>&gt; Partition Device</b></p>
<p>Add the reference to their device of the partition</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>If the editor is deactivated (greyed out), you can activate the EA/FEE module via click. The</p>
<p>Modules Assistant opens to specify the short name of the module to be added. Click<b> [fin-</b></p>
<p><b>ish]</b> to add the module.</p>
<p><b>4.5.3 Optimize Fee</b></p>
<p>If Fee</p>
<p>1</p>
<p>is used, start FEE Optimization. The number of chunk instances (parameter FeeNum-</p>
<p>berOfChunkInstances) of the Fee blocks will be optimized. Please review the new value or select</p>
<p>&quot;skip&quot; to leave the parameter.</p>
<p><b>Note</b></p>
<p>If the editor is deactivated (greyed out), you can activate the FEE module via click. The</p>
<p>Modules Assistant opens to specify the short name of the module to be added. Click [finish]</p>
<p>to add the module.</p>
<p><b>4.6 Mode Management Editors</b></p>
<p>The Mode Management domain contains comfort editors for the configuration of BSW Management,</p>
<p>ECU Management, initialization and restart sequences of the BSW modules, sleep modes and wakeup</p>
<p>sources, supervised entities and watchdog modes.</p>
<p><b>4.6.1 BSW Management</b></p>
<p><b>Auto Configuration: Ecu State Handling</b></p>
<p>Open Auto Configuration: Ecu State Handling and configure Ecu State Handling settings via Configure</p>
<p>Ecu State Handling hyperlink</p>
<p>2</p>
<p>. The Configure Ecu State Handling dialog opens.</p>
<p>1</p>
<p>(Flash EEPROM Emulation) The Fee module offers a hardware-independent interface for accessing</p>
<p>flash data and uses a flash driver (( Fls) for this. In addition to reading, writing and clearing data, the</p>
<p>Fee module also distributes write accesses to different areas of flash memory, so that all flash cells</p>
<p>are uniformly stressed, which increases their life-time.</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 43-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 44-</p>
<p>Select the necessary use case definitions to create a state machine similar to the behavior of EcuM Fix</p>
<p>in AUTOSAR3.</p>
<p><b>Note</b></p>
<p>If you select Ecu State Machine, you have to define the project-specific settings<b> Self Run</b></p>
<p><b>Request Timeout</b> and<b> Number of Run Request User</b>.</p>
<p><b>Auto Configuration: Module Initialization</b></p>
<p>Open Auto Configuration: Module Initialization and configure Module Initialization via Configure Module</p>
<p>Initialization hyperlink</p>
<p>1</p>
<p>. The Configure Module Initialization dialog opens.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Select module to create the necessary callouts to initialize the modules.</p>
<p><b>4.6.2 Activate Interrupts of Peripherals Devices</b></p>
<p>Activate<b> Enable Interrupts</b> to get the callout</p>
<p>BswM</p>
<p>1</p>
<p>_AL_SetProgrammableInterrupts</p>
<p>. Use this cal-</p>
<p>lout to activate interrupts of the peripherial devices. Exceptions form this rule are explained in the</p>
<p>technical reference of the drivers.</p>
<p><b>Note</b></p>
<p>Configure module initialization at initialization view.</p>
<p><b>Note</b></p>
<p>If<b> Restore Default Sequence</b> is activated, the lists will be sorted automatically, all new</p>
<p>entries will be located at the end of the list.</p>
<p><b>Auto Configuration: Communication Control</b></p>
<p>Open Auto Configuration: Communication Control and configure Communication Control via Configure</p>
<p>1</p>
<p>(BSW Mode Manager) The BswM module contains vehicle mode management and application mode</p>
<p>management. It processes mode requests from SWCs or other BSW modules, and it performs actions</p>
<p>based on the arbitration, such as control of deadline monitoring, switching schedule tables, and hand-</p>
<p>ling of IPDU groups. In conjunction with the EcuM, the BswM module is responsible for starting up and</p>
<p>shutting down the ECU. The BswM also coordinates the multi-core partitions.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 45-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 46-</p>
<p>Communication Control hyperlink</p>
<p>1</p>
<p>. The Configure Communication Control dialog opens.</p>
<p>Select the bus systems for which you would like to create standard communication rules.</p>
<p><b>Custom Configuration</b></p>
<p>If necessary you can define additional Custom BswM Configuration information.</p>
<p><b>Note</b></p>
<p>To create a rule, at least one<b> logical expression</b> and one<b> action list</b> is necessary. If they</p>
<p>are not available, you can additionally configure them via<b> Create Rule</b> dialog.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Open<b> Custom Configuration</b>, right click<b> Rules</b> and select<b> Create Rule</b>.</p>
<p>2.</p>
<p>Define<b> Short Name</b></p>
<p>3.</p>
<p>Go on with<b> [Next]</b></p>
<p>4.</p>
<p>Define a non-empty expression for the resulting condition</p>
<p>5.</p>
<p>Configure Action List True, therefore define actions to be executed if the rule's condition evaluates</p>
<p>to true.</p>
<p>6.</p>
<p>Configure Action List False, therefore define actions to be executed if the rule's condition evaluates</p>
<p>to false.</p>
<p><b>Note</b></p>
<p>If no actions are configured, no action list will be created.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 47-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 48-</p>
<p><b>Note</b></p>
<p>It is possible to create groups<b> [+]</b> subdivide the BSWM configuration into logical sections.</p>
<p>The elements can be organized in groups using drag and drop in the editor tree.</p>
<p>The groups are only for organization reason, functional usage is not possible. You can't</p>
<p>move elements from auto configuration to the created BSWM Group.</p>
<p><b>4.6.3 ECU Management</b></p>
<p>1.</p>
<p>Open<b> EcuMCommonConfiguration</b> and define the<b> OS Resource</b> which is used to bring the ECU</p>
<p>into sleep mode.</p>
<p>2.</p>
<p>Open<b> EcuMFlexConfiguration</b> and define Mcu</p>
<p><b>1</b></p>
<p><b>Mode Ref</b> which is being restored after a sleep.</p>
<p><b>4.6.4 Initialization</b></p>
<p>Open Initialization editor to configure initialization and restart sequence of the basic software.</p>
<p><b>Pre-OS Initialization Sequence</b></p>
<p>Open<b> Configure Module Initialization</b> via Configure Sequence button</p>
<p>2</p>
<p>.</p>
<p>Select all MCAL modules and the DET to call them on ECU startup. Confirm with<b> [OK]</b> and order the ele-</p>
<p>ments according to your needs with the<b> Move up</b> and<b> Move Down</b> buttons.</p>
<p><b>1</b></p>
<p>(Micro Controller Unit Driver) The MCU driver provides the services for: - A microcontroller reset</p>
<p>triggered by software - Selecting microcontroller states (STOP, SLEEP, HALT, etc.) - Configuring wake</p>
<p>up behavior - Managing the internal PLL clock unit - Initializing RAM areas with predefined values.</p>
<p>2</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4.6.5 Watchdogs</b></p>
<p>Use default settings.</p>
<p><b>Note</b></p>
<p>If the Editor is deactivated (greyed out), you can activate the Wdg</p>
<p>1</p>
<p>module via click. The</p>
<p>Modules Assistant opens to specify the short name of the module to be added. Click<b> [fin-</b></p>
<p><b>ish]</b> to add the module.</p>
<p><b>4.7 Network Management</b></p>
<p>The Network Management domain contains editors for the configuration of the general network man-</p>
<p>agement parameters and users which are relevant for the ECU communication management.</p>
<p><b>4.7.1 Network Management General</b></p>
<p>Open FrNm</p>
<p><b>2</b></p>
<p>|<b> FrNmChannelConfigs</b> |<b> FrNmChannels</b> |<b> &lt;FRNMChannelIdentifiers&gt;</b> |</p>
<p><b>FrNmChannelTiming</b> and define</p>
<p>1.</p>
<p>Data Cycle,</p>
<p>2.</p>
<p>Repetition Cycle and</p>
<p>3.</p>
<p>Voting Cycle.</p>
<p>1</p>
<p>(Watchdog Driver) This module provides services for controlling and triggering the watchdog hard-</p>
<p>ware. The trigger routine is called by the Watchdog Manager (( WdgM). For safety-related ECUs, the</p>
<p>Wdg module must be developed according to ISO 26262.</p>
<p><b>2</b></p>
<p>(FlexRay Network Management ) This module is responsible for network management in FlexRay. It</p>
<p>synchronizes the transition to the bus sleep state.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 49-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 50-</p>
<p><b>Note</b></p>
<p>For all other NM modules, use default settings.</p>
<p><b>4.7.2 Communication Users</b></p>
<p>Use default settings.</p>
<p><b>4.7.3 Partial Networking</b></p>
<p>Use default settings.</p>
<p><b>4.8 Runtime System</b></p>
<p>The Runtime System domain contains comfort editor for the configuration of general RTE and OS para-</p>
<p>meters, operating system and mapping assistants.</p>
<p><b>4.8.1 Runtime System General</b></p>
<p><b>OS</b></p>
<p>1.</p>
<p>Open<b> Runtime System General</b> |<b> OS</b> and activate/deactivate the following settings if necessary.</p>
<p><b>&gt;</b> Stack Monitoring</p>
<p><b>&gt;</b> Use GetServiceId</p>
<p><b>&gt;</b> Use Parameter Access</p>
<p>2.</p>
<p>Define<b> Scalability Class</b>,<b> CC</b> and<b> Schedule</b>.</p>
<p>3.</p>
<p>Open<b> OS</b> |<b> Hook Routines</b> and activate/deactivate the following settings if necessary.</p>
<p><b>&gt;</b> Startup Hook</p>
<p><b>&gt;</b> Error Hook</p>
<p><b>&gt;</b> Shutdown Hook</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>&gt;</b> Pre-Task Hook</p>
<p><b>&gt;</b> Post-Task Hook</p>
<p><b>&gt;</b> Protection Hook</p>
<p><b>Note</b></p>
<p>The<b> Shutdown Hook</b> is required for shutdown of the ECU to power off.</p>
<p>The<b> Error Hook</b> is recommended to inform the application on any error events in the OS.</p>
<p><b>4.8.2 ECU Software Components</b></p>
<p><b>Service Components</b></p>
<p>Open<b> ECU Software Components</b> |<b> Service Components</b> and check if all Service Components are</p>
<p>added to your project. If not create new component prototypes, based on component types created by</p>
<p>the DaVinci Configurator Pro.</p>
<p><b>Note</b></p>
<p>The component types are stored in<b> &lt;ProjectFolder&gt;\Config\ServiceComponents</b>.</p>
<p><b>4.8.3 OS Configuration</b></p>
<p><b>Create Tasks</b></p>
<p>Open<b> OS Configuration</b> |<b> Task</b>. Add the following tasks, define Schedule, Priority and Type.</p>
<p><b>&gt;</b> Init_Task (Autostart has to be enabled!)</p>
<p><b>&gt;</b> Rte</p>
<p>1</p>
<p>_Task</p>
<p><b>&gt;</b> Main_Task</p>
<p><b>Note</b></p>
<p>All events and alarms which are required are created by the RTE automatically.</p>
<p>Derived from the settings for the runnables and their activation (triggers) some OS events</p>
<p>an OS alarms will be created automatically for RTE by the DaVinci Developer. The names</p>
<p>start with<b> Rte_</b>.</p>
<p>1</p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 51-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 52-</p>
<p><b>4.9 Go on with Basic Editor</b></p>
<p>Open the Basic Editor and configure additional settings, currently not supported by specific con-</p>
<p>figuration editors.</p>
<p><b>Note: Bottom Up Approach - from hardware-dependent to hardware-inde-</b></p>
<p><b>pendent modules</b></p>
<p>Start configuration with hardware dependent modules and continue with the hardware inde-</p>
<p>pendent modules.</p>
<p><b>4.10 Start Solving Actions</b></p>
<p><b>Changes in Configurator Editors/Basic Editor could lead to errors during live validation!</b></p>
<p>If these errors include solving actions, check and start solving action in the validation view.</p>
<p><b>4.11 Start On-demand Validation</b></p>
<p>The on-demand validation is performed in addition to the automatic validation before starting the code</p>
<p>generation or on explicit user request. The on-demand validation calls the specific validation function</p>
<p>of the code generators.</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Open<b> On-demand Validation</b> dialog via on-demand Validation button</p>
<p>1</p>
<p>2.</p>
<p>Deactivate<b> RTE</b></p>
<p><b>Note</b></p>
<p>Currently the RTE is not configured completely, this causes errors while validation. The RTE</p>
<p>configuration will be finished after SWC Design in the DaVinci Developer.</p>
<p>3.</p>
<p>Start the Validation via<b> [Validate]</b></p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 53-</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 54-</p>
<p><b>Validation finished successfully?</b></p>
<p><b>Validation finished NOT successfully?</b></p>
<p>See error message in validation view and fix the configuration.</p>
<p><b>4.12 BSW Configuration finished</b></p>
<p><b>You have finished your BSW Configuration?</b></p>
<p>Now it depends on your project, how to go on. You have created a Developer workspace while setting</p>
<p>up the project? Then you have to go on with the STEP5 Design Software Components on page 55 using</p>
<p>the DaVinci Developer. If you have no Developer workspace, you can skip the following chapter an go</p>
<p>on with STEP6 Mappings on page 56.</p>
<p>STEP by STEP</p>
<p><b>STEP4 Start BSW Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 STEP5 Design Software Components</b></p>
<p>Switch to the DaVinci Developer to create, configure or modify software components, create or add</p>
<p>ports and data elements. Connect software components and define runnables and their activation</p>
<p>and interfaces (data access).</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Software Component Design on page 96.</p>
<p><b>5.1 Switch to DaVinci Developer</b></p>
<p>You can start DaVinci Developer with already loaded project in two different ways:</p>
<p><b>&gt; Start</b> |<b> Programs</b> |<b> Vector AUTOSAR Projects</b> |<b> &lt;your project name&gt;</b> |<b> Configure SWCs</b></p>
<p>(Only if Create entries in the start menu is selected)</p>
<p><b>&gt;</b> Right-click on your<b> &lt;projectname&gt;.dpa</b> and select<b> DaVinci Project Assistant</b> |<b> Configure</b></p>
<p><b>SWCs</b></p>
<p><b>5.2 Design Software Components</b></p>
<p>If the software components are not delivered by the OEM, use the DaVinci Developer to design your</p>
<p>software components. How to do this is described more detailed in the expert knowledge part of this</p>
<p>manual. Use the link above.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 55-</p>
<p>STEP by STEP</p>
<p><b>STEP5 Design Software Components</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 56-</p>
<p><b>6 STEP6 Mappings</b></p>
<p>Start project mappings via assistants offered by the DaVinci Configurator Pro. It is also possible to</p>
<p>perform data mapping within the DaVinci Developer.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Mappings on page 117.</p>
<p><b>6.1 Perform Data Mapping within DaVinci Developer or DaVinci Configurator?</b></p>
<p>Via the data mapping, you connect data elements with network signals. Network signals have been</p>
<p>loaded via import of ECU Extract of System Description.</p>
<p>Data Mapping can be done in DaVinci Developer or DaVinci Configurator Pro. Decide which tool should</p>
<p>be used. In the following step, both variants are described.</p>
<p><b>Note</b></p>
<p>Data Mapping in DaVinci Developer has a higher priority than Data Mapping in the DaVinci</p>
<p>Configurator Pro.</p>
<p>Data Mapping performed in DaVinci Developer cannot be overwritten in DaVinci</p>
<p>Configurator Pro.</p>
<p><b>Cross Reference</b></p>
<p>To perform data mapping within the DaVinci Configurator Pro, skip this section and go on</p>
<p>with section Switch (back) to DaVinci Configurator on page 59.</p>
<p><b>6.2 Data Mapping within the DaVinci Developer</b></p>
<p>The DaVinci Developer offers two ways of data mapping -<b> automatically</b> OR <b>manually</b>.</p>
<p><b>6.2.1 Data Mapping Automatically - DaVinci Developer</b></p>
<p><b>Network signal oriented approach</b></p>
<p>Select bus signals and let DaVinci Developer create all necessary data elements, ports and the map-</p>
<p>ping of the signals to the data elements.</p>
<p>Finally, you only have to drag’n’drop the port interfaces to your software components and create the</p>
<p>connections. Here is how this works.</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Double-click Data Mapping from the ECU Projects view</p>
<p>2.</p>
<p>Select the Signal view mode</p>
<p>1</p>
<p>3.</p>
<p>Select signals to create Data Elements and Port(s)</p>
<p>4.</p>
<p>Right-Click selected signals and select Create Port Prototypes … to open the Create Port Prototypes</p>
<p>window.</p>
<p>5.</p>
<p>Define prefixes and postfixes for the Port Prototype Name, Port Interface Name and Data Element</p>
<p>Prototype Name.</p>
<p>6.</p>
<p>Select whether you want One Port Prototype per Signal or One Port Prototype for all selected Sig-</p>
<p>nals.</p>
<p><b>Note</b></p>
<p>If you select One Port Prototype for all selected Signals, of course the signal must be of</p>
<p>equal direction, only Tx signals or only Rx signals.</p>
<p>7.</p>
<p>Confirm your settings with<b> [OK]</b>.</p>
<p>8.</p>
<p>You see that one Port Prototype, three Data Elements and one Application Port Interface are gen-</p>
<p>erated. The pre- and postfixes help to easily find them in the list.</p>
<p>9.</p>
<p>Select the Software Design view and see the delegation port that has been also created.</p>
<p>10.</p>
<p>Now drag’n’drop the Application Port Interface form the library to your software component (same</p>
<p>direction as the delegation port) and connect them.</p>
<p><b>6.2.2 Data Mapping Manually - DaVinci Developer</b></p>
<p>You can also connect the data elements with real bus signals manually.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 57-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 58-</p>
<p><b>Note</b></p>
<p>A prerequisite is that you have to create the necessary delegation ports before!</p>
<p>Select Data Mapping in the ECU Projects view and select e.g. the Data Element View Mode</p>
<p>1</p>
<p>and see a</p>
<p>list of data elements. The dash (-) on the right side below Network, Messages and Network Signals</p>
<p>shows that there is no assignment between data elements and messages/signals from the ECU Extract</p>
<p>of System Description.</p>
<p>Right-click the<b> Data Element column</b> and click<b> Select Signal…</b>. Select the suitable signal in the</p>
<p>Select Signal window and confirm with [OK]. Repeat this until every signal is mapped.</p>
<p>The result of the data mapping should look like this.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>6.2.3 DaVinci Developer - Save and close</b></p>
<p>You have imported your Service Components, configured your Software Components and finished Data</p>
<p>Mapping?</p>
<p>Check</p>
<p>1</p>
<p>your workspace. If there are no messages in the<b> Output</b> view, save your project and close</p>
<p>the DaVinci Developer.</p>
<p><b>6.3 Switch (back) to DaVinci Configurator</b></p>
<p>Start the DaVinci Configurator Pro (again) with already loaded configuration using one of the two pos-</p>
<p>sibilities.</p>
<p><b>&gt; Start</b> |<b> Programs</b> |<b> Vector AUTOSAR Projects</b> |<b> &lt;your project name&gt;</b> |<b> Configure BSW</b></p>
<p>(Only if Create entries in the start menu is selected)</p>
<p><b>&gt;</b> Right-click on your<b> &lt;projectname&gt;.dpa</b> and select<b> DaVinci Project Assistant</b> |<b> Configure</b></p>
<p><b>BSW</b></p>
<p><b>6.4 Synchronize System Description</b></p>
<p>Changes by the DaVinci Developer require a synchronization of the System Description in the DaVinci</p>
<p>Configurator Pro.</p>
<p>The necessity of a synchronization is detected by the validation process of DaVinci Configurator Pro</p>
<p>and displayed in the<b> Validation view</b>. Start System Description synchronization via the validation</p>
<p>message<b> RTE59000</b> |<b> Synchronize the System Description</b>.</p>
<p><b>6.5 Add Component Connection</b></p>
<p>Data elements can only be transported from one application component to another if their ports are</p>
<p>connected via connectors. Create these connections using the Component Connection Assistant</p>
<p>2</p>
<p>(below<b> Runtime System</b>).</p>
<p>1.</p>
<p>Start Assistant, select connector type and go on with<b> [Next]</b></p>
<p>Select<b> Application Connector Prototypes</b> to connect software components or<b> Service Con-</b></p>
<p><b>nector Prototypes</b> to connect service components</p>
<p>2.</p>
<p>Select a<b> Component Prototype</b> and go on with<b> [Next]</b></p>
<p>3.</p>
<p>Select<b> Port Prototypes</b> and go on with<b> [Next]</b></p>
<p>4.</p>
<p>If necessary select additional search option and go on with<b> [Next]</b></p>
<p>Initially the Component Connection Assistant will search matching port prototypes based on the</p>
<p>port prototype name automatically</p>
<p>5.</p>
<p>Check mapping. All Connector Prototypes are mapped with the right ports? Confirm with<b> [Finish]</b></p>
<p>1</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 59-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 60-</p>
<p><b>6.6 Service Mapping</b></p>
<p><b>6.6.1 Service Mapping via Service Component</b></p>
<p>If you have connected your service components via<b> Add Component Connection</b> in the previous</p>
<p>step, the service mapping is basically done.</p>
<p>To define additional mappings manually you have to configure it in the service component directly.</p>
<p>Therefore open<b> ECU Software Components</b> |<b> Service Components</b> and select the service com-</p>
<p>ponent you want to map. Open service component and select<b> Service Connectors</b>.</p>
<p>Now you can see all ports, the automatically matched connections and unmapped ports.<b> Is manually</b></p>
<p><b>service mapping necessary?</b></p>
<p><b>Note</b></p>
<p>Each client port</p>
<p>1</p>
<p>should be mapped to a server port</p>
<p>2</p>
<p>! For all unconnected client ports the</p>
<p>RTE will generate a<b> dummy</b> function returning RTE_E_UNCONNECTED.</p>
<p>1</p>
<p>2</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>1.</p>
<p>Select the service component port and use the connect button</p>
<p>1</p>
<p>2.</p>
<p>Assign the appropriate port prototype to the selected port of the service component</p>
<p>3.</p>
<p>Finish the mapping with<b> OK</b></p>
<p><b>The appropriate port prototype not exists? You like to connect the port to a new port pro-</b></p>
<p><b>totype?</b></p>
<p>Therefore select the service component port and use the button<b> [connect to new port...]</b> to open the</p>
<p>Connect To New Port Prototype Assistant.</p>
<p>1.</p>
<p>Select the<b> Component</b> to be connected with the selected port prototypes.</p>
<p>Only those components are displayed which component type is part of the DaVinci Developer work-</p>
<p>space.</p>
<p>2.</p>
<p>Define the name of the<b> Port Prototype to be created</b>. By default the same name is used. There-</p>
<p>fore click in the<b> Port Prototype to be created</b> column.</p>
<p>If a server port is selected, you can additionally select, if server runnables should created.</p>
<p>3.</p>
<p>Click<b> Finish</b></p>
<p><b>What happens?</b></p>
<p>The DaVinci Developer will open in background, a new port prototype (Application and Service port pro-</p>
<p>totypes are possible) will be created within selected application component. The workspace will be</p>
<p>saved and the DaVinci Configurator project will be reloaded. The new created port is now available</p>
<p>within the DaVinci Configurator project and will be mapped automatically to the service component.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 61-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 62-</p>
<p><b>6.6.2 Service Mapping (overview)</b></p>
<p>Here you can do the complete service mapping. Connect or disconnect services to applications, toggle</p>
<p>between services view and application view or connect to new port.</p>
<p>Here you also get a complete overview of all connections.</p>
<p><b>Show illustration</b></p>
<p><b>6.7 Add Data Mapping</b></p>
<p><b>You have already performed Data Mapping within the DaVinci Developer?</b></p>
<p><b>Yes?</b> Skip this section and go on with Add Memory Mapping on page 64.</p>
<p><b>Cross Reference</b></p>
<p>See section Perform Data Mapping within DaVinci Developer or DaVinci Configurator? on</p>
<p>page 56</p>
<p><b>No?</b> Start Assistant via Add Data Mapping</p>
<p>1</p>
<p>and select mapping direction, i.e. choose whether<b> Signals</b></p>
<p>or<b> Data Elements</b> should be mapped.</p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Choose<b> Find matching signals for the data elements</b> to assign your signals based on a selected</p>
<p>data element and go on with<b> [Next]</b></p>
<p>Now you can see a list of data elements. The empty row<b> Mapped Signals</b> shows that there is no</p>
<p>assignment between data elements and messages/signals from the ECU Extract of System Descrip-</p>
<p>tion.</p>
<p>Select the Data element prototypes you want to map and go on with<b> [Next]</b>.</p>
<p>Now you can see if matched signals are found automatically. If there are no entry in row<b> Signal to be</b></p>
<p><b>mapped</b>, you have to define the signal manually.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 63-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 64-</p>
<p>1.</p>
<p>Click<b> &lt;Select signal...&gt;</b> to open the<b> Select reference target</b> window.</p>
<p>2.</p>
<p>Select the signal you want to map.</p>
<p>3.</p>
<p>Confirm with<b> [OK]</b>.</p>
<p>Repeat these steps until all data elements you have selected for mapping are mapped to a signal.</p>
<p>4.</p>
<p>Close Data Mapping with<b> [Finish]</b>.</p>
<p><b>6.8 Add Memory Mapping</b></p>
<p>You have to map all per-instance memory objects of the application components to NV memory</p>
<p>blocks. Therefore use the Memory Mapping Assistant</p>
<p>1</p>
<p>.</p>
<p><b>Note</b></p>
<p>A per-instance memory object is mappable if it is referenced by a service need object. The</p>
<p>definition of per-instance memory objects or service needs is part of the component type</p>
<p>definition and not yet editable by DaVinci Configurator Pro.</p>
<p>1.</p>
<p>Start Assistant, choose<b> Use Case</b> and go on with<b> [Next]</b></p>
<p>2.</p>
<p>Select component prototype and go on with<b> [Next]</b></p>
<p>3.</p>
<p>Select per-instance memory objects</p>
<p><b>Choosing Use Case Find exisiting NV memory blocks?</b></p>
<p>1</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Go on with<b> [Next]</b>, Check the memory mappings and confirm with [Finish]</p>
<p><b>Choosing Use Case Create new NV memory blocks?</b></p>
<p>Confirm with<b> [Finish]</b></p>
<p><b>6.9 Add Task Mapping</b></p>
<p>You have to map all runnable entities and schedulable entities (e.g. Main Functions of the BSW mod-</p>
<p>ules) to a task. There are two ways to perform the task mapping.</p>
<p><b>Where to activate the two ways of task mapping</b></p>
<p>Either the Task Mapping Assistant</p>
<p>1</p>
<p>or the Task Mapping view</p>
<p>.</p>
<p><b>Our advice</b> is to use the assistant for the first mapping and then switch over to the Task Mapping view</p>
<p>to do the fine tuning.</p>
<p><b>Note</b></p>
<p>A runnable has to be mapped to a task if it is not re-entrant but could be called re-entrantly</p>
<p>during system operation.</p>
<p><b>6.9.1 Task Mapping Assistant</b></p>
<p>1.</p>
<p>Start Assistant, select all Triggered Functions with Function Trigger On Init and go on with<b> [Next]</b></p>
<p>2.</p>
<p>Select Init_Task and go on with<b> [Next]</b></p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 65-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 66-</p>
<p>3.</p>
<p>Define the position in task for each triggered function and confirm with<b> [Finish]</b></p>
<p>4.</p>
<p>Repeat the steps and select all<b> Main Functions</b> of<b> Service Components</b> and<b> Modules</b> and map</p>
<p>them to<b> Main_Task</b>.</p>
<p>5.</p>
<p>Repeat the steps and select all<b> Runnables</b> of your<b> Application Components</b> and map them to</p>
<p>Rte</p>
<p><b>1</b></p>
<p><b>_Task</b>.</p>
<p><b>Note</b></p>
<p>Runnables with Function Trigger<b> On Operation Invocation</b> are normally not needed to be</p>
<p>mapped to a task, as they result in direct function calls.</p>
<p><b>6.9.2 Task Mapping</b></p>
<p>The task mapping is one view where you can</p>
<p><b>1</b></p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>map runnable entities per drag and drop, move mapped runnable entities from one task to another, fil-</p>
<p>ter the list on the left side for mapped mandatory or unmapped runnable entities, you get information</p>
<p>of the mapped runnable entities concerning their triggers, etc.</p>
<p>More details about the features of this dialog you find in the<b> Online Help</b> of the DaVinci Configurator</p>
<p>Pro.</p>
<p><b>Mappings finished? Validation successfully?</b> Then go on with project generation!</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 67-</p>
<p>STEP by STEP</p>
<p><b>STEP6 Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 68-</p>
<p><b>7 STEP7 Code Generation</b></p>
<p>Now you can go on with code generation.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Generation on page 124.</p>
<p><b>7.1 Start Custom Workflow Steps</b></p>
<p>Open Project settings via Project Setting icon</p>
<p>1</p>
<p>from DaVinci Configurator Pro toolbar.</p>
<p><b>Available?</b></p>
<p>Start Custom Workflow Step via Execute Custom Workflow icon</p>
<p>2</p>
<p>.</p>
<p><b>Not available?</b></p>
<p>Create a Custom Workflow Step with parameter<b> RTE: -g i</b>.</p>
<p><b>Cross Reference</b></p>
<p>How to create Custom Workflow Step? See section STEP2 Define Project Settings on page</p>
<p>33.</p>
<p><b>7.2 Start Code Generation</b></p>
<p>1.</p>
<p>Open the Generation dialog via Generate button</p>
<p>3</p>
<p><b>Note</b></p>
<p>The activated generation steps depend on the project settings. If you want to take over</p>
<p>your selection to the project settings press<b> [Change project settings]</b>.</p>
<p>1</p>
<p>2</p>
<p>34</p>
<p>4</p>
<p>STEP by STEP</p>
<p><b>STEP7 Code Generation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>2.</p>
<p>Start Generation Process via<b> [Generate]</b></p>
<p>If you select<b> Start immediately</b> the generation starts immediately after opening this dialog.</p>
<p><b>Note</b></p>
<p>Before the<b> Generation</b> process starts,<b> Calculation</b> and<b> Validation</b> has to be finished suc-</p>
<p>cessfully.</p>
<p>If code generation canceled because of calculation and validation errors, start solving</p>
<p>actions at the validation window of the DaVinci Configurator Pro (see section STEP3 Val-</p>
<p>idation on page 37).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 69-</p>
<p>STEP by STEP</p>
<p><b>STEP7 Code Generation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 70-</p>
<p><b>7.3 Generation Process finished!</b></p>
<p><b>Generation Process finished and all generation steps are marked with Phase finished suc-</b></p>
<p><b>cessfully</b></p>
<p><b>?</b></p>
<p><b>Note</b></p>
<p>The DaVinci Configurator Pro stores all generated *.c and *.h file in the modules files</p>
<p>folder, given during project setup (the default is<b> &lt;ProjectFolder&gt;\Appl\GenData</b>).</p>
<p>Go on with implementing your runnables using the runnable skeletons created during the generation</p>
<p>process.</p>
<p>STEP by STEP</p>
<p><b>STEP7 Code Generation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>8 STEP8 Add Runnable Code</b></p>
<p>If configured, the DaVinci Configurator Pro code generator generates the skeletons for your run-</p>
<p>nables into the software component template files. Now you have to implement your code to the run-</p>
<p>nable skeletons.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Runnable Code on page 125</p>
<p><b>8.1 Component Template</b></p>
<p>The software component templates contain all runnables of the according software components. The</p>
<p>RTE Template Generator generates skeletons for the runnables. The structure of those skeletons looks</p>
<p>as shown in the illustration below.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 71-</p>
<p>STEP by STEP</p>
<p><b>STEP8 Add Runnable Code</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 72-</p>
<p><b>8.2 Implement Code</b></p>
<p>Implement your code using the runnable skeletons. Make sure to enter your code between the start</p>
<p>and end comment. Only this section is protected against modification by a further generation process.</p>
<p>All other sections like execution information or interfaces can be changed depending on your settings</p>
<p>in the DaVinci Developer. If access to e.g. a port interface is missing, go back to the DaVinci</p>
<p>Developer and adapt your configuration, regenerate and then you can use this port interface. There is</p>
<p>no other way to do it properly.</p>
<p><b>Info</b></p>
<p>A backup (*.bak) file will be generated before a component template C file is modified to</p>
<p>make sure that your previous version is not deleted in case of any generation problem</p>
<p>caused by non-predictable reasons.</p>
<p>And there is a backup section at the end of the template file to rescue the code of run-</p>
<p>nables that have been deleted by the DaVinci Developer.</p>
<p>STEP by STEP</p>
<p><b>STEP8 Add Runnable Code</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>9 STEP9 Compile, Link And Test Your Project</b></p>
<p>Now you can compile, link and test to get your executable for the download to your hardware.</p>
<p><b>Expert Knowledge</b></p>
<p>You need to know more? See section Compile and Link on page 127.</p>
<p><b>9.1 Finish your project with compiling and linking</b></p>
<p>1.</p>
<p>Compile and Link your code.</p>
<p>You can start compilation of your code from the vVIRTUALtarget tool. Enable the checkbox Build</p>
<p>Software (DLL) in the VTT tool and select</p>
<p><b>[Build]</b>. You can also open the Visual Studio solu-</p>
<p>tion and start the build process by<b> Build Solution (F7)</b>.</p>
<p>2.</p>
<p>Test your code</p>
<p>A proper compile and Link process is just the beginning. The final step is to test what you have</p>
<p>done until now. The ideal tester would be CANoe from Vector Informatik.</p>
<p>To test your application with CANoe, the following steps are necessary:</p>
<p><b>&gt;</b> Create a new CANoe configuration</p>
<p><b>&gt;</b> Import the communication matrix (e.g. *.dbc file)</p>
<p><b>&gt;</b> Right-click on the ECU to be simulated, and click on<b> Configuration</b></p>
<p><b>&gt;</b> Open the<b> Components</b> tab, add another node layer DLL and select the *.dll file, you have created</p>
<p>with the Microsoft Visual Studio solution in the previous steps.</p>
<p>This completes the basic setup for testing your application. See CANoe references for further</p>
<p>information.</p>
<p><b>&gt;</b> Start the simulation.</p>
<p><b>&gt;</b> Have a look at the trace window and observe bus communication on your virtual ECU.</p>
<p>3.</p>
<p>Debugging the application</p>
<p>When the simulation in CANoe is started, switch to Microsoft Visual Studio and select<b> Debug |</b></p>
<p><b>Attach to process …</b>. Select<b> RuntimeKernel.exe</b> and make sure that the code type (Attach to)</p>
<p>is set to Native code. Now you can debug your code. For example, try to set a breakpoint in a cyc-</p>
<p>lic runnable!</p>
<p><b>9.2 No error frames? Congratulations, that’s it!</b></p>
<p>The basic step is done, the GM SLP2 software is basically working together with your application.</p>
<p>That is the base you can start from to optimize your system. Refer to Technical References of the BSW</p>
<p>modules for more detailed information.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 73-</p>
<p>STEP by STEP</p>
<p><b>STEP9 Compile, Link and Test Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 74-</p>
<p><b>Cross Reference</b></p>
<p>You need additional information? See section Additional Information on page 128.</p>
<p>STEP by STEP</p>
<p><b>STEP9 Compile, Link and Test Your Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>II Concept</b></p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 75-</p>
<p><b>Concept Overview</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 General Overview</b></p>
<p>The following illustration shows the basic idea behind AUTOSAR and can be divided up into 3 parts,</p>
<p>upper, middle and lower part, named as</p>
<p><b>&gt;</b> Creation of Software Components</p>
<p><b>&gt;</b> Software Components and ECUs</p>
<p><b>&gt;</b> Development of ONE ECU</p>
<p>The upper part deals with software components, runnables, ports and connections. It is the design</p>
<p>level of functions and applications.</p>
<p>During the transition to the middle part, the software components are assigned to ECUs. Software com-</p>
<p>ponents that are assigned to the same ECU can communicate internally, via so-called internal con-</p>
<p>nections. Software components, that communicate with each other and that are mapped to different</p>
<p>ECUs communicate via so-called external connection, i.e. via a real bus system.</p>
<p>In the last transition towards the ECU sight, the BSW is put in-between the software components and</p>
<p>the hardware. And this is the starting point for the ECU development.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 76-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 77-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>The following sub chapters explain all the means that belong to AUTOSAR and that make it work.</p>
<p><b>1.1 Software Component</b></p>
<p>Software Components are described by their SWC file - a file in XML format. By definition SWC files</p>
<p>are independent from any ECU except for the sensor and actuator software components. Those soft-</p>
<p>ware components are dependent on the sensors and actuators attached to a specific ECU.</p>
<p>There are several kinds of software components</p>
<p><b>1.1.1 Atomic components</b></p>
<p><b>&gt;</b> Application</p>
<p><b>&gt;</b> Sensor Actuator</p>
<p><b>&gt;</b> Calibration</p>
<p><b>&gt;</b> I/O Hardware Abstraction</p>
<p><b>&gt;</b> Complex Driver</p>
<p><b>&gt;</b> Application (End-to-end Protection)</p>
<p><b>&gt;</b> Non-Volatile Memory Block</p>
<p><b>&gt;</b> Service components</p>
<p><b>1.1.2 Compositions</b></p>
<p>Use compositions to group software components.</p>
<p><b>1.2 Runnables</b></p>
<p>A runnable entity, runnable for short, is a C function that carries your code. It depends on the con-</p>
<p>figuration of the runnable when it is called and what data your code is allowed to access within the run-</p>
<p>nable. Runnables are triggered by the RTE.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 78-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 79-</p>
<p><b>1.3 Ports</b></p>
<p>Via ports, a software component can communicate with its outside world. This outside world can be</p>
<p>another software component within the same ECU or a software component within another ECU. There</p>
<p>are several kinds of ports:</p>
<p><b>1.3.1 Application Port Interfaces</b></p>
<p>To communicate between different SWCs</p>
<p><b>&gt;</b> Sender port</p>
<p><b>&gt;</b> Receiver port</p>
<p><b>&gt;</b> Client port</p>
<p><b>&gt;</b> Server port</p>
<p><b>&gt;</b> Calibration port</p>
<p><b>&gt;</b> Mode port</p>
<p><b>&gt;</b> Interface to non-volatile data</p>
<p><b>1.3.2 Service Port Interfaces</b></p>
<p>To communicate between BSW and SWCs</p>
<p><b>&gt;</b> Sender port</p>
<p><b>&gt;</b> Receiver port</p>
<p><b>&gt;</b> Client port</p>
<p><b>&gt;</b> Server port</p>
<p><b>&gt;</b> Calibration port</p>
<p><b>&gt;</b> Mode port</p>
<p><b>&gt;</b> Interface to non-volatile data</p>
<p><b>&gt;</b> NV Data Interface</p>
<p><b>1.4 Data Element Types</b></p>
<p>Data elements types determine the kind of data that can pass a port. There are predefined data ele-</p>
<p>ment types and you can define data elements on your own.</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1.5 Connections</b></p>
<p>To define which software components communicate with each other, their ports have to be connected</p>
<p>via so-called connectors. The connectors realize the sender/receiver and client/server communication</p>
<p>between the software components. A connector can only be drawn between two ports, if their port</p>
<p>interfaces are compatible.</p>
<p><b>1.6 RTE</b></p>
<p>The RTE is the interface between the SWCs and the BSW. In essence the RTE</p>
<p><b>&gt;</b> controls the execution of the Runnables (your code),</p>
<p><b>&gt;</b> controls access of Runnables to the basic software modules,</p>
<p><b>&gt;</b> controls the access of Runnables to Services of the BSW,</p>
<p><b>&gt;</b> knows about external and internal transmission of data and</p>
<p><b>&gt;</b> provides data consistency</p>
<p><b>1.7 BSW – Basic Software Modules</b></p>
<p>The BSW contains configurable modules that offer services to the SWCs dealing with:</p>
<p><b>&gt;</b> Communication</p>
<p><b>&gt;</b> Diagnostics</p>
<p><b>&gt;</b> Mode management</p>
<p><b>&gt;</b> Memory management</p>
<p><b>&gt;</b> Network management</p>
<p><b>1.8 Software, Tools and Files</b></p>
<p>When setting up a new project using the DaVinci Configurator Pro, many things that are not necessary</p>
<p>to know for your basic work with the tool happen in the background. But sometimes it might be neces-</p>
<p>sary to know more. Then this part of the document is the place to get a deeper insight.</p>
<p>This chapter gives you an overview what kind of files you need to set up a new project, where the files</p>
<p>normally come from and how to work with the DaVinci Configurator Pro and, if necessary for software</p>
<p>component design, with DaVinci Developer. Get familiar with what is installed where and how to work</p>
<p>with it and to know, how to update if necessary.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 80-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 81-</p>
<p>Starting point is the development of a single ECU. The focus is set on the MICROSAR Solution and</p>
<p>where all the necessary software and files do come from.</p>
<p>To build up a project according AUTOSAR with MICROSAR from Vector you need the following tool(s),</p>
<p>software and files:</p>
<p><b>&gt; Software Components (SWC) and Runnables</b></p>
<p>Software components are created by the OEM or the TIER1. A software component can be an SWC</p>
<p>file, where you have to perform the task mapping and decide about runnables and the code they</p>
<p>should contain. Or the software component is delivered ready-made, together with C and H files.</p>
<p>Then you only have to map it to a task and compile and link the files together with your project.</p>
<p><b>&gt; DaVinci Developer (Vector Tool, has to be ordered separately - NOT included within</b></p>
<p><b>the SIP)</b></p>
<p>The DaVinci Developer is the Vector Tool to create and configure Software Components. Via a</p>
<p>graphical view you can draw software components, add ports, draw connections, etc. DaVinci</p>
<p>Developer and DaVinci Configurator Pro exchange information via the DaVinci Developer Work-</p>
<p>space.</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>&gt; BSW and RTE (included in SIP)</b></p>
<p>The BSW modules together with their BSWMD files (dependent on your order) and the RTE are part</p>
<p>of the Vector delivery that is called SIP.<b> SIP</b> stands for<b> Software Integration Package</b>. A SIP is</p>
<p>a ready-made software from Vector, already tailored and tested for your hardware, derivative,</p>
<p>compiler, compiler version (as you filled-out the questionnaire) and can be put to work within a</p>
<p>few steps (see step by step description).</p>
<p><b>&gt; DaVinci Configurator Pro (included in SIP)</b></p>
<p>The DaVinci Configurator Pro is the Vector Tool to configure the BSW and the RTE. It is part of the</p>
<p>SIP delivery. It contains a comfort editor to configure the BSW cluster-oriented, a powerful val-</p>
<p>idation concept to check your settings against constraints and it also offers to directly edit</p>
<p>AUTOSAR parameters.</p>
<p><b>1.9 Structure of the SIP Folder</b></p>
<p>The screenshot below shows the file structure that is created by installation of the SIP.</p>
<p><b>&gt; BSW</b></p>
<p>Contains the code files (*.C and *.H) files for each Basic Software Module (BSW).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 82-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 83-</p>
<p><b>&gt; BSWMD</b></p>
<p>Contains the BSWMD files for each Basic Software Module, which include necessary information for</p>
<p>DaVinci Configurator Pro.</p>
<p><b>&gt; DaVinciConfigurator</b></p>
<p>Contains the DaVinci Configurator Pro tool itself. This is also the place where your tool is updated</p>
<p>when an update is available.</p>
<p><b>&gt; Doc</b></p>
<p>Contains SIP relevant documentation e.g. Technical References, User Manuals, Startups (con-</p>
<p>taining Release Notes) and Application Notes.</p>
<p><b>&gt; Generators</b></p>
<p>Contains Generators and additional tools</p>
<p><b>&gt; Misc</b></p>
<p>Contains SIP-specific additional data</p>
<p><b>&gt; ThirdParty</b></p>
<p>Contains MCAL-specific data</p>
<p><b>Note</b></p>
<p>Each MCAL is listed within a separate folder (&lt;MCAL Short Name&gt;).</p>
<p>This folder includes:</p>
<p><b>&gt; \Supply</b></p>
<p>Location of the 3rd party MCAL delivery in its original structure</p>
<p><b>&gt; \VectorIntegration</b> (optional)</p>
<p>Location of scripts for the integration into the MICROSAR SIP</p>
<p><b>&gt;</b> Legal notes (optional)</p>
<p>See<b> TechnicalReference_3rdParty-MCAL-Integration.pdf</b> for detailed information.</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Vector MICROSAR for AUTOSAR 4 now has one major tool – the DaVinci Configurator Pro. DaVinci</p>
<p>Configurator Pro is the starting point, coming with the SIP. To start the tool, use the file<b> DaVin-</b></p>
<p><b>ciCFG.exe</b> located in the<b> CORE</b> folder of the DaVinci Configurator folder.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 84-</p>
<p><b>General Overview Vector AUTOSAR Solution</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2 Set-Up New Project</b></p>
<p>DaVinci Configurator Pro offers a Project Assistant to set up that helps you setting up a new project file</p>
<p>in just a view steps. The assistant guides you through several windows to enter necessary project</p>
<p>information.</p>
<p>The DaVinci Configurator Pro creates your new project to the defined folder. The project folder con-</p>
<p>tains:</p>
<p><b>&gt; Appl</b> folder for generated files and source files.</p>
<p><b>&gt; Config</b> folder for software components, BSWMD files, ECUC files, System description and DaVinci</p>
<p>Developer workspace</p>
<p><b>&gt; Backup</b> folder to store older DaVinci Developer workspaces</p>
<p><b>&gt; Log</b> folder</p>
<p><b>&gt;</b> Access to DaVinci Developer and DaVinci Configurator Pro via context menu on the *.<b>dpa file</b>.</p>
<p>Your development project consists of a folder structure on your disk, where all the configuration files,</p>
<p>template files, etc. are generated to and where you implement your runnables using the empty run-</p>
<p>nable skeletons. Then you compile and link and get your executable that you can download to your</p>
<p>hardware.</p>
<p>The DaVinci project file (DPA) is the central file which references all the related folders and files. It</p>
<p>also references the SIP, which is used for the project.</p>
<p><b>2.1 DaVinci Configurator</b></p>
<p>As already mentioned the DaVinci Configurator Prois the major tool for Vector MICROSAR for</p>
<p>AUTOSAR 4.</p>
<p><b>2.1.1 The Main Window of DaVinci Configurator Pro</b></p>
<p>The illustration below shows the main appearance of the DaVinci Configurator Pro. It consists of 3</p>
<p>main areas or views. The positions of the views can be defined manually and depend on your habits in</p>
<p>handling with tools.</p>
<p><b>&gt;</b> Navigation view</p>
<p><b>&gt;</b> Editor Area</p>
<p><b>&gt;</b> Validation, Output and Properties view</p>
<p><b>Cross Reference</b></p>
<p>For more information about simple tool handling and icons refer to the help of the DaVinci</p>
<p>Configurator Pro.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 85-</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 86-</p>
<p><b>Navigation view</b></p>
<p>The Navigation view displays all available editors and assistants sorted by domain. What you select in</p>
<p>the Navigation view will be displayed in the Editor view.</p>
<p><b>Editor area</b></p>
<p>The Editor area is the place to configure the modules or whatever you have selected in the Navigation</p>
<p>view.</p>
<p><b>Validation view</b></p>
<p>The Validation view displays the overall list of validation messages.The messages are grouped by their</p>
<p>ID. You may expand such a group to display all message of the same ID. By expanding an individual</p>
<p>message, the related items are displayed as well as the proposed solutions, the so-called solving</p>
<p>actions.</p>
<p>Using according commands in the shortcut menu you can navigate to the editors displaying the related</p>
<p>items, or execute one of the proposed solutions for solving the problem.</p>
<p>You can use the Validation view with the following buttons:</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>&gt;</b> Solve All</p>
<p>1</p>
<p>Calls the default solving action of all messages that provide a default solving action.</p>
<p><b>&gt;</b> Clear On-Demand Validation Messages</p>
<p>2</p>
<p>Deletes all validation messages issued by the external generators during the on-demand val-</p>
<p>idation.</p>
<p><b>&gt;</b> Link with Editor</p>
<p>3</p>
<p>Filters the Validation View to display only messages related to the currently focused editor.</p>
<p><b>Properties view</b></p>
<p>The Properties view displays details of the object (parameter or container) selected in an editor. The</p>
<p>view contains the following tabs:</p>
<p><b>&gt; Definition</b>: Displays the definition of the selected object</p>
<p><b>&gt; Status</b>: Displays information about the parameter state</p>
<p><b>&gt; Description</b>: Displays the description of the parameter definition</p>
<p><b>Project Settings</b></p>
<p>This Overview shows all necessary project data and enables the configuration of customer workflow</p>
<p>steps, the definition of external configuration steps and the activation of additional BSW modules.</p>
<p><b>Code Generation</b>: Configure the code gen-</p>
<p>eration sequence</p>
<p><b>Settings</b>: The code generation settings can be</p>
<p>changed within this section</p>
<p><b>External Generation Steps</b>: Define and</p>
<p>execute a sequence of custom workflow step</p>
<p><b>Customer Workflow</b>: Configure and execute a</p>
<p>sequence of<b> custom workflow steps</b></p>
<p><b>SWC Template and Contract Headers</b>:Defin-</p>
<p>ition of additional pathes to BSWMD files rel-</p>
<p>evant for the project.</p>
<p><b>Modules</b>: Activate or deactivate modules</p>
<p><b>Additional Definitions</b>: Definition of addi-</p>
<p>tional pathes to BSWMD files relevant for the</p>
<p>project.</p>
<p><b>Additional Definitions</b>: Definition of addi-</p>
<p>tional pathes to BSWMD relevant for this project</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 87-</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 88-</p>
<p><b>ECUC File Reference</b>: Include mechanism for</p>
<p>external ECU configuration files from other pro-</p>
<p>jects.</p>
<p><b>Variants</b>: Handling of Variants when used.</p>
<p><b>Project Settings</b>: The project settings can be</p>
<p>changed within this section.</p>
<p><b>2.1.2 Editors and Assistants</b></p>
<p>Generally spoken there are two different configuration editor concepts in the DaVinci Configurator Pro.</p>
<p><b>&gt; Domain-specific</b> configuration editors, which provide an optimized view on the ECUC</p>
<p><b>&gt; Basic</b> Editor, which provides a native view on the ECUC</p>
<p><b>Assistants</b></p>
<p>An assistants guides you through special tasks like connections, data mapping, memory mapping or</p>
<p>task mapping.</p>
<p><b>Switch Between the Two Editors</b></p>
<p>You can switch from the basic editor to the domain-specific comfort editor and back. Move to a setting</p>
<p>or a value and click the little triangle to open the context menu. If there is a pendant in the other con-</p>
<p>figuration editor, you can switch from one to the other via<b> Show in</b>.</p>
<p><b>Set User Defined</b></p>
<p><b>It is very important to understand that you are responsible for these modi-</b></p>
<p><b>fications!!</b></p>
<p>Move to a setting or a value and click the little triangle to open the context menu.</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>With<b> Set user defined</b> you can change values even when they are grayed because their values are</p>
<p>derived from the input files or locked by a configuration dependency.</p>
<p>When you use<b> Set user defined</b>, the parameter will be marked with a little blue pin on the left side.</p>
<p>In the example illustration below the upper check box is marked as user defined, the lower one is not.</p>
<p><b>Note</b></p>
<p>Set user defined will not work for pre-configured parameters. The setting in the context</p>
<p>menu is grayed and cannot be used. The information about predefined or not can be seen</p>
<p>in the<b> Properties</b> view. Select<b> Status</b> and look at<b> Changeable</b> or<b> Deletable</b>.</p>
<p><b>Remove user defined</b></p>
<p>To set back the user defined status, use the context menu and select<b> Remove user defined.</b></p>
<p><b>Note</b></p>
<p>Every parameter set to user defined will provoke a warning during validation with the</p>
<p>information, that this parameter was set to be user defined.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 89-</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 90-</p>
<p><b>Caution!</b></p>
<p>The feature<b> set user defined</b> enables settings that might be terribly wrong. As soon as</p>
<p>you use this feature, you have to be sure that you know what you do and you have the</p>
<p>complete responsibility.</p>
<p><b>New Project</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3 Define Project Settings</b></p>
<p>Your first steps after the new project is set up, are:</p>
<p><b>&gt;</b> Define Input files</p>
<p><b>&gt;</b> Define your specific workflow steps and external generation steps (if needed)</p>
<p><b>&gt;</b> Activate all necessary BSWs</p>
<p><b>3.1 Input files</b></p>
<p>The DaVinci Configurator Pro needs information about your system, the bus communication, etc. This</p>
<p>information is stored in the SYSEX or when using legacy file formats dependent on the bus system, in</p>
<p>the<b> DBC</b>,<b>LDF</b>or<b> FIBEX</b> files. One or more (e.g. for systems with multiple channels) of these files must</p>
<p>be given to the DaVinci Configurator as input files.</p>
<p>The necessary diagnostic information is stored in CDD or<b> ODX</b> files and is also needed by the DaVinci</p>
<p>Configurator Pro.</p>
<p><b>3.1.1 System Description Files</b></p>
<p>You need one of the following description files:</p>
<p><b>3.1.2 SYSEX</b></p>
<p>ECU-specific extract of the System Description. This file is typically provided to the TIER1 by the OEM.</p>
<p>It contains</p>
<p><b>&gt;</b> ECU composition</p>
<p><b>&gt;</b> Atomic SWCs</p>
<p><b>&gt;</b> Compositions</p>
<p><b>&gt;</b> Communication</p>
<p><b>&gt;</b> Data mapping</p>
<p><b>&gt;</b> typically NO service SWCs</p>
<p><b>3.1.3 ECUEX</b></p>
<p>Base for the ECU development is the ECU Extract of System Description, ECUEX for short. It is created</p>
<p>from the SYSEX by flattening the SWC architecture. This means that SWC compositions have been</p>
<p>removed, only the atomic SWCs are left. And they now communicate directly with each other. Addi-</p>
<p>tionally to the SYSEX, the ECUEX contains:</p>
<p><b>&gt;</b> Service SWCs</p>
<p><b>&gt;</b> Service mapping, i.e. service connections between the ports of the SWCS and the ports of the ser-</p>
<p>vice SWCs.</p>
<p><b>3.1.4 Legacy Data Base files (DBC, LDF, FIBEX, …)</b></p>
<p>The legacy data base files are normally not in ARXML format. They also contain information about</p>
<p>EUCs, messages, signals, attributes, etc. Good AUTOSAR tools can read them and convert their inform-</p>
<p>ation into AUTOSAR-conform notation. The missing information when using legacy file formats must</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 91-</p>
<p><b>Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 92-</p>
<p>be given to the configuration tool by the software developer.</p>
<p><b>3.1.5 Diagnostic Data Files</b></p>
<p>Your Project uses Diagnostic? Therefore you need one of the following diagnostic description files:</p>
<p><b>3.1.6 CDD / ODX</b></p>
<p>These files contain the diagnostic description for the ECU.</p>
<p><b>&gt; *.CDD</b></p>
<p>The CANdelaStudio Document (*.cdd) format is specified by Vector for describing the diagnostic</p>
<p>feature set of an ECU.</p>
<p><b>&gt; *.ODX/*.PDX</b></p>
<p>ODX (Open Diagnostic Data Exchange) is an ASAM standard which defines a unique, open XML</p>
<p>exchange format for diagnostic data. A packaged ODX file (*.PDX) comprises all files of an ODX</p>
<p>project.</p>
<p><b>3.1.7 State Description</b></p>
<p>Diagnostic session and security level management is modeled as a state machine which describes the</p>
<p>transitions between sessions and states triggered by the execution of diagnostic services.</p>
<p>If a CANdela Document (*.CDD) is used as diagnostic description file, all diagnostic session and secur-</p>
<p>ity level related information will be imported from the input file.</p>
<p>If a Packaged ODX file (*.PDX) is used as diagnostic description file, it will depend on the used ODX</p>
<p>version if an additional state description is required.</p>
<p><b>&gt; ODX 2.2.0</b></p>
<p>For ODX 2.2.0, the state machines are defined within the ODX file, using the data model intended</p>
<p>for this purpose.</p>
<p><b>&gt; ODX 2.0.1</b></p>
<p>As ODX 2.0.1 does not provide means to explicitly model diagnostic sessions, security levels and</p>
<p>their corresponding transitions, dedicated SDGs (special data groups) are used to annotate the</p>
<p>ODX data with supplemental information about the diagnostic session behavior. This information is</p>
<p>not sufficient in all cases and an additional state description will be mandatory to augment the ODX</p>
<p>data with the required information during the import of the diagnostic description.</p>
<p>A state description is a *.CSV (comma separated values) file which defines the transition matrices of</p>
<p>the diagnostic session and security level state machines.</p>
<p><b>3.1.8 Standard Configuration Files</b></p>
<p>In some cases a OEM-specific preconfiguration is necessary, therefore additional Standard Con-</p>
<p>figuration Files provided by your OEM are necessary. Add fragments of ECUC modules which will be</p>
<p>used as project specific mandatory configuration.</p>
<p><b>3.2 Custom Workflow Steps / External Generation Steps</b></p>
<p>In STEP7 Code Generation on page 68, after the configuration, DaVinci Configurator Pro generates</p>
<p>code. You can additionally let DaVinci Configurator Pro call any external tool during this step in a free</p>
<p>configurable order. If something is to be done before code generation, if you use some command line</p>
<p><b>Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>tools or whatever, add these tools to the list and define the call order. With STEP7 Code Generation on</p>
<p>page 68, all your mentioned tools will be also called.</p>
<p><b>3.3 Activate BSW</b></p>
<p>Which modules are activated and which are not depends on the information in the input files. Activate</p>
<p>or deactivate the modules.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 93-</p>
<p><b>Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4 Validation</b></p>
<p><b>Nothing done but imported some files and already many mistakes in the configuration?</b></p>
<p><b>Why is that?</b></p>
<p>The DaVinci Configurator Pro provides powerful validation routines that run in the background named</p>
<p><b>Live Validation</b>. At start-up of your project, there is only the information from the input files of</p>
<p>STEP2 Define Project Settings on page 27. The content of these input files normally has leaks, some-</p>
<p>times errors or the information of the system is still missing and has to be accomplished during con-</p>
<p>figuration. This all leads to a number of errors detected by the validator of DaVinci Configurator Pro.</p>
<p>But with the powerful solving algorithms and assistants, it is very easy to solve off the first warnings</p>
<p>and errors.</p>
<p><b>4.1 Validation Concept</b></p>
<p>The validation concept comprises:</p>
<p><b>&gt;</b> Detailed validation of the ECU configuration</p>
<p><b>&gt;</b> Comprehensive set of domain-specific validation rules</p>
<p><b>&gt;</b> Navigation from validation message to the editors</p>
<p><b>&gt;</b> Tool makes proposal for solving an error (solving actions)</p>
<p><b>&gt;</b> Automatic consistency (auto-solving action) after changing the configuration via Comfort Editors or</p>
<p>via the Basic Editor</p>
<p>Live Validation</p>
<p>1</p>
<p>The Live Validation is performed in the background after loading a project or after changing the con-</p>
<p>figuration. The Live Validation directly gives feedback after entering wrong values.</p>
<p>On-Demand Validation</p>
<p>2</p>
<p>This validation is performed when you start a generation process. You can start the validation via<b> Pro-</b></p>
<p><b>ject | on-demand validation</b>. The on demand validation will also launch external generators or</p>
<p>execute more complex validation tasks that cannot be executed live.</p>
<p><b>Note</b></p>
<p>The result of a validation is displayed in the<b> Validation View</b>.</p>
<p>1</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 94-</p>
<p><b>Validation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 BSW Configuration With Configuration Editors</b></p>
<p><b>5.1 DaVinci Configurator Pro Editors</b></p>
<p>To configure the BSW modules you can use the<b> Basic Editor</b> or the more comfortable and cluster-spe-</p>
<p>cific<b> Configuration Editors</b>.</p>
<p><b>Basic Editor</b></p>
<p>The Basic Editor is a generic configuration editor (GCE) and includes the native view of the ECU con-</p>
<p>figuration. It is based on the basic software module description (BSWMD) format and displays all mod-</p>
<p>ules of the ECU configuration.</p>
<p><b>Configuration Editors</b></p>
<p>The Configuration Editors offer a use-case oriented view of the ECU configuration. They are optimized</p>
<p>for displaying or configuring those parts of the ECU configuration, which are related to the use case.</p>
<p>Use the Configuration Editor first. To get the necessary settings for your fist step in dependency of</p>
<p>your OEM and its use cases refer to Start Configuration with Configuration Editors of the step by step</p>
<p>description.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 95-</p>
<p><b>Configuration with Configurator Editors</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>6 Software Component (SWC) Design</b></p>
<p><b>6.1 Data Exchange between DaVinci Developer and DaVinci Configurator Pro</b></p>
<p>The data exchange between DaVinci Developer and DaVinci Configurator Pro is done via the DaVinci</p>
<p>Developer workspace, file with<b> DCF</b> format.</p>
<p>DaVinci Developer uses this file to store the complete project information. It can read and write this</p>
<p>file.</p>
<p>DaVinci Configurator Pro only reads this file and only at tool start-up.</p>
<p><b>Note</b></p>
<p>Please re-open the DaVinci Configurator Pro if you have changed the DCF file via the</p>
<p>DaVinci Developer to get the current data from the DCF file.</p>
<p>Keep in mind that the DaVinci Configurator Pro is not able to write to DCF file.</p>
<p><b>6.2 About Application Components, Ports, Connections, Runnables and More…</b></p>
<p>Learn all about application components, ports, connection and runnables, how they work and how to</p>
<p>exchange information between application components.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 96-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 97-</p>
<p>1. Application Components</p>
<p>2. Ports, Port Init Values and Data Elements</p>
<p>3. Connections</p>
<p>4. Runnables</p>
<p>5. Triggers</p>
<p>6. Port Access</p>
<p>7. Data Mapping</p>
<p><b>Cross Reference</b></p>
<p>To get basic tool handling information, refer to the online help of the DaVinci Developer.</p>
<p><b>6.3 Application Components</b></p>
<p>To create application components use the DaVinci Developer.</p>
<p><b>6.3.1 The Library – Type and Package</b></p>
<p>You find the Library of the DaVinci Developer (in standard configuration) below the ECU Projects.</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Types or Package?</b></p>
<p>The Library you use in the following steps can basically be used in two ways.</p>
<p><b>&gt;</b> Type-oriented</p>
<p><b>&gt;</b> Package-oriented</p>
<p>The type-oriented workflow is shown in the following steps. But you can also choose the package-ori-</p>
<p>ented one. This concept will now be described briefly.</p>
<p><b>Packages</b></p>
<p>With Packages you can pack elements together like:</p>
<p><b>&gt;</b> Application Component Types</p>
<p><b>&gt;</b> Service Component Types</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 98-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 99-</p>
<p><b>&gt;</b> Data Types</p>
<p><b>&gt;</b> Constants</p>
<p><b>&gt;</b> Mode Declaration Groups</p>
<p><b>&gt;</b> Application Port Interfaces</p>
<p><b>&gt;</b> Service Port Interfaces</p>
<p>It is like a kind of grouping with its own name space. A name of an object has to be unique within a</p>
<p>package but can be used more than once within the project.</p>
<p>These packages can be exported and imported for round-tripping with other tools also supporting the</p>
<p>packages.</p>
<p><b>Switch to package view</b></p>
<p>At the bottom of the Library you can select Type view or Package view. Select the Package.</p>
<p>You need a Root Package first. Create it via right-click in the empty Package view.</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>New Child Package…</b></p>
<p>Then right-click the root (e.g. MyECU_PartA) and you will get to the context menu. Use New Child Pack-</p>
<p>age to nest the packages or you put the objects plain below the root package.</p>
<p>The context menu for the packages</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 100-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 101-</p>
<p><b>Add Objects</b></p>
<p>Via Add Objects you open a window to select and add already existing object to your package.</p>
<p><b>New …</b></p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>The section New… of the context menu comprises all available objects which you can also create via</p>
<p>the Type view of the Library (explained in the following chapter).</p>
<p><b>XML Eport…, DCF Export…</b></p>
<p>Export your package as XML file or as DCF file.</p>
<p><b>Object Usage…</b></p>
<p>Shows dependencies between used objects in a tree-view.</p>
<p><b>Object Locking</b></p>
<p>Objects can be locked and unlocked. A locked object is displayed with a little lock. Locked objects can-</p>
<p>not be deleted without being unlocked before.</p>
<p><b>Define new Component Types in the Library</b></p>
<p>Right-click on Application Component Types in the Library and select New Application Component</p>
<p>Type.</p>
<p><b>6.3.2 New Application Components</b></p>
<p>Right-click on Application Component Types in the Library and select New Application Component</p>
<p>Type.</p>
<p>It is good to give a speaking name to see what kind of component it is. e.g. AP – Application, SA –</p>
<p>Sensor / Actuator</p>
<p>Enter a Name for the Application Component Type. Select Composition if the SWC should contain other</p>
<p>SWC or select Atomic. Select its Type and confirm with [OK]. All application software component types</p>
<p>are displayed in the library.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 102-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 103-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>To get fast information about any element in the library just select one and see its Prop-</p>
<p>erties, Port Prototypes (if available) and Description in the Properties view (bottom left).</p>
<p>Component types become component prototypes by being used.</p>
<p>Double-click Software Design in the ECU Projects view to open the Software Design view for your ECU</p>
<p>project (e.g. MyECU).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 104-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 105-</p>
<p><b>Note</b></p>
<p>In the graphical representation of an application component prototype you can change its</p>
<p>size using the little squares shown at the angles and in the middle of the sides.</p>
<p>An application component type becomes an application component prototype when it is used. It also</p>
<p>needs a name. Using drag’n’drop, both names are the same. Open the properties window from the con-</p>
<p>text menu for a component prototype to change the prototype name.</p>
<p>Define and use as many application software components as you need for your ECU.</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>The notation of the software component starts with the software component prototype fol-</p>
<p>lowed by the software component type.</p>
<p><b>6.3.3 Understand Types, Prototypes and Interfaces</b></p>
<p>This illustration will help you to understand working with the DaVinci Developer. You have to deal with</p>
<p><b>&gt;</b> Prototype</p>
<p><b>&gt;</b> Type</p>
<p><b>&gt;</b> Interface</p>
<p>When is a software component a software component type, when a software component prototype?</p>
<p>When is a port a port interface, when a port prototype?</p>
<p>In the library, the software components are types, the ports are interfaces. As soon as you use them,</p>
<p>they become prototypes.</p>
<p><b>&gt;</b> Port Interface used by a component type â Port Prototype</p>
<p><b>&gt;</b> Component Type in library used in software design view âComponent Prototype</p>
<p>Runnables are always connected to the component type.</p>
<p><b>6.4 Ports, Port Init Values and Data Elements</b></p>
<p>To communicate and to exchange information the components need so-called ports (S/R ports).</p>
<p>For communication between software component ports have to be defined.</p>
<p>There are different kinds of application/service ports,</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 106-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 107-</p>
<p><b>&gt;</b> Sender Ports</p>
<p>1</p>
<p>to provide information</p>
<p><b>&gt;</b> Receiver Ports</p>
<p>2</p>
<p>to receive information</p>
<p><b>&gt;</b> Sender/Receiver Ports</p>
<p>3</p>
<p>to provide and receive information within one port</p>
<p><b>&gt;</b> Server Ports</p>
<p>4</p>
<p>to provide services (operations)</p>
<p><b>&gt;</b> Client Ports</p>
<p>5</p>
<p>to use services (operations)</p>
<p>The following ports are listed here for completeness.</p>
<p><b>&gt;</b> Calibration Ports to hand over calibration parameters</p>
<p><b>&gt;</b> Mode Ports to e.g. trigger or not trigger runnables within certain modes</p>
<p>Before you can use application ports you have to define application port interfaces. To completely</p>
<p>define the port interfaces you have to define data types first, if you don’t want to use the predefined</p>
<p>ones.</p>
<p><b>Predefined data types in library</b></p>
<p>Just right-click and select from the list.</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Caution!</b></p>
<p>You can handle application port interfaces like application component types. Define the</p>
<p>application port interfaces in the library and then use them as application port prototypes</p>
<p>for each application component. The same applies for data types and data elements.</p>
<p><b>Create Port Interface</b></p>
<p>To define a new application port interface, right-click the Application Port Interface in the library and</p>
<p>select New S/R Port Interface….</p>
<p>Then the window for the S/R Port Interface opens. Enter a name, select the tab<b> Data Element Pro-</b></p>
<p><b>totypes</b> and define the content of the port. In this case it is just one data element called OnOff with</p>
<p>the Data Type Boolean, use the button […] to select Data Type.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 108-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 109-</p>
<p><b>Note</b></p>
<p>Data elements are the contents of ports.</p>
<p><b>Note</b></p>
<p>A port interface can carry many data elements of different data types.</p>
<p><b>Provide software components with ports</b></p>
<p><b>&gt;</b> You have created your application software components.</p>
<p><b>&gt;</b> You have created necessary application ports interfaces and their content (data element pro-</p>
<p>totypes).</p>
<p>Now you have to define which application component needs which application ports.</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Add ports to the application components via drag’n’drop</b></p>
<p>Select an application port interface from the library and place it onto the application component via</p>
<p>drag’n’drop. This transfers a port interface into a port prototype.</p>
<p><b>Note</b></p>
<p>Press &lt;Ctrl&gt; while drag’n’drop to change between sender or receiver port.</p>
<p><b>Interfaces</b></p>
<p>The ports are added to the components as graphical element together with the name of the port.</p>
<p><b>&gt;</b> Sender port</p>
<p>1</p>
<p><b>&gt;</b> Receiver port</p>
<p>2</p>
<p><b>Note</b></p>
<p>Ports need Init Values.</p>
<p>1</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 110-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 111-</p>
<p><b>Port Init Values</b></p>
<p>You have to assign an initial value to every used application port.</p>
<p><b>6.5 Configure Service Ports within your Application Components</b></p>
<p>Your Service Components will be loaded automatically to the DaVinci Developer workspace .</p>
<p><b>Note</b></p>
<p>The DaVinci Configurator stores the service components within the folder<b> &lt;Project Folder-</b></p>
<p><b>&gt;\Config\ServiceComponents</b>.</p>
<p>The content of the service components are not part of the DaVinci Developer workspace.</p>
<p>If you want to connect one of your Application Component to a Service Component, you have to define</p>
<p>a Service Port Prototype based on a Service Port Interface.</p>
<p>Service Port Interface name and content depend on the BSW configuration and version of the service</p>
<p>component within the DaVinci Configurator, so it is not stable. An Application Component shall always</p>
<p>define its own or a general Service Port Interface definition.</p>
<p>The Service Port Interface definition from the loaded Service Component is always in read-only status.</p>
<p>These Service Port Interfaces are marked with a read-only icon</p>
<p>1</p>
<p>within the library.</p>
<p><b>You have currently not defined your Service Port Interfaces?</b></p>
<p>Then copy and paste the definition from the Service Component. Assign the definition to an own pack-</p>
<p>age, so it is possible to use the same name as before. Therefore open the Service Port Interface,</p>
<p>select<b> Package</b> tab and choose a package via<b> [...]</b>.</p>
<p>1</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Assign your copied Service Port Interface to your Application Component. Therefore open your Applic-</p>
<p>ation Component Prototype, select Port Prototype List</p>
<p>1</p>
<p>, open<b> Service Ports</b> tab and add your Service</p>
<p>Port via<b> [New]</b> |<b> From Port Interface</b>. Now the Service Port used by your Application Component is</p>
<p>independent from the Service Component description.</p>
<p><b>Note</b></p>
<p>If incompatible changes apply these will be reported by RTE checks.</p>
<p><b>6.6 Define your Runnables</b></p>
<p>Now configure runnables that will carry your code.</p>
<p>There are four important topics for a runnable:</p>
<p><b>&gt; SYMBOL</b> and<b> NAME</b> – what the runnable skeleton is called in the template file</p>
<p><b>&gt; TRIGGER</b> – when is the runnable executed</p>
<p><b>&gt; PORT ACCESS</b> – what data can the runnable access</p>
<p><b>&gt; MAPPING</b> – in which task context does the runnables work?</p>
<p><b>Caution!</b></p>
<p>Runnables can only be defined for atomic application components types.</p>
<p><b>Note</b></p>
<p>The runnable skeletons are generated by the DaVinci Configurator Pro/the RTE and can then</p>
<p>be accomplished with your code. Find more details follow in the next chapters.</p>
<p>Check also later hints to template generation</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 112-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 113-</p>
<p>1.</p>
<p>Open a software component via the library or the software design view.</p>
<p>2.</p>
<p>Click on the runnable icon [fx].</p>
<p>3.</p>
<p>Click [New] and select Runnable.</p>
<p>4.</p>
<p>Enter Name and Symbol for the new runnable on the Properties tab.</p>
<p>If you leave the Symbol field empty, the runnables (functions) will be named according to the entry in</p>
<p>the<b> Name</b> field.</p>
<p><b>Minimum Start Interval</b></p>
<p>Define the minimum time interval between the successive triggering of this runnable.</p>
<p>Can</p>
<p><b>1</b></p>
<p><b>Be Invoked Concurrently</b></p>
<p>A runnable can be marked as<b> Can be invoked concurrently</b> if it can be executed while it is already</p>
<p>running. In other words it can be safely executed concurrently (re-entrant). There are a few criteria</p>
<p>for your implementation code:</p>
<p><b>&gt;</b> No static (or global) non-constant data</p>
<p><b>&gt;</b> No return of address to static (or global) non-constant data</p>
<p><b>&gt;</b> Only work on data provided by caller</p>
<p><b>&gt;</b> No modification of own code at runtime</p>
<p><b>&gt;</b> No call of non-re-entrant runnables</p>
<p><b>6.7 Triggers for the Runnables</b></p>
<p>The trigger decides when a runnable is executed.</p>
<p><b>1</b></p>
<p>(CAN Driver) The CAN Driver abstracts access to the CAN hardware for sending and receiving mes-</p>
<p>sages and for switching between controller states (sleep, stop, etc.)</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Select the tab Trigger. On this tab you select when your runnable should be executed.</p>
<p><b>Note</b></p>
<p>A runnable can be triggered periodically or via an event.</p>
<p><b>Periodical:</b> Select the checkbox and enter the cycle time.</p>
<p><b>On Data Reception:</b> As soon as data is received at the appropriate port the runnable is</p>
<p>activated. (Indication)</p>
<p>The trigger<b> On Operation Invocation</b> belongs to service ports and will be explained later.</p>
<p>The runnable of the demo application only needs to be called when the state of the doors is changed.</p>
<p>This can be realized via a cyclic polling or directly by a trigger from the doors. In the demo,<b> Peri-</b></p>
<p><b>odical</b>… is chosen.</p>
<p><b>Note</b></p>
<p>When experimenting with the demo, replace the cyclic trigger with two triggers On Data</p>
<p>Reception…, one for the left and one for the right front door.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 114-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 115-</p>
<p><b>6.8 Port Access of the Runnables</b></p>
<p>Define which port information each runnable should be able to read or write. Select the tab Port</p>
<p>Access. You only get displayed accessible ports.</p>
<p>You can define access to</p>
<p><b>&gt;</b> Read Data… and</p>
<p><b>&gt;</b> Write Data…</p>
<p><b>&gt;</b> and later when using client server port also to operations (Invoke Operations).</p>
<p>Click e.g.<b> Read Data</b>… and the Port Access Definition:Read Data window will open.</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Caution! Direct – Buffered</b></p>
<p><b>Direct Write:</b> as soon as you write the information to the data, it is changed immediately.</p>
<p><b>Buffered Write:</b> the data information is changed at the end of the runnable runtime just</p>
<p>before leaving it.</p>
<p><b>Direct Read:</b> if you access to the data multiple time, it could be changed in the meantime.</p>
<p>You always read the current information.</p>
<p><b>Buffered Read:</b> with the start of the runnable, the data is copied to a buffer. Every time</p>
<p>you access the data, it has the same value until the runnable is left.</p>
<p><b>Note</b></p>
<p>In the header of the runnable’s skeleton that will be generated by the DaVinci Developer,</p>
<p>you will find a list with all available API functions for this runnable. If any access is miss-</p>
<p>ing, go back to the DaVinci Developer and check whether the Port Access is set correctly.</p>
<p><b>Summary</b></p>
<p>Summary of the settings for your runnable MySWC_Code:</p>
<p><b>&gt;</b> The runnable is called MySWC_Code</p>
<p><b>&gt;</b> Its functional representation is called: MySWC_Code.</p>
<p><b>&gt;</b> It is triggered periodically</p>
<p><b>&gt;</b> The runnable has access to the state of the left and right door and to the data of the front interior</p>
<p>light. It also has access to the LightDimControl.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 116-</p>
<p><b>Software Component Design</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>7 Mappings</b></p>
<p>Generally spoken Mapping stands for assignment of one object to another. There are different map-</p>
<p>pings in the context of AUTOSAR. What is meant here is:</p>
<p><b>&gt;</b> Data Mapping</p>
<p><b>&gt;</b> Task Mapping</p>
<p><b>&gt;</b> Service Mapping</p>
<p><b>&gt;</b> Memory Mapping</p>
<p><b>7.1 Data Mapping</b></p>
<p>Your ECU has to communicate with other ECUs, the external communication. Signals have to be sent</p>
<p>and received via the connected bus system. The signals and the types of data transported via the sig-</p>
<p>nals is defined in the data base like DBC, LDF, FIBEX, and also in the SYSEX.</p>
<p>From the view of software components, communication information is exchanged via ports that carry</p>
<p>so-called data elements. The definition of a port contains the assignment of data elements that can</p>
<p>pass the port. Via the Data Mapping you define, which data element belongs to which signal. For short,</p>
<p>you assign data element to bus signals. That’s called Data Mapping.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 117-</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 118-</p>
<p><b>Note</b></p>
<p>Data Mapping can also be done in DaVinci Configurator Pro!</p>
<p>Data Mapping in DaVinci Developer has a higher priority than Data Mapping in the DaVinci</p>
<p>Configurator Pro.</p>
<p>Data Mappings done via DaVinci Developer cannot be overwritten by the ones done via</p>
<p>DaVinci Configurator Pro.</p>
<p><b>7.2 Task Mapping</b></p>
<p>Tasks are means of the operating system. You can define as many tasks as you like and need. You</p>
<p>define the name of the tasks, its priority and its type like<b> Auto</b>,<b> Basic</b> or<b> Extended</b>. You can also</p>
<p>define the task as non- or full preemptive.</p>
<p>With Task Mapping, you have to map all runnables to tasks, expect<b> On operation invocation</b></p>
<p>triggered runnables. Those are normally called only from one task and have no problem with reen-</p>
<p>trance.</p>
<p>A runnable has to be mapped to a task if it is not re-entrant but could be called re-entrantly during sys-</p>
<p>tem operation.</p>
<p><b>What happens if you do not map a runnable that should be mapped?</b></p>
<p>The Vector AUTOSAR Solution provides an intelligent RTE generator.The RTE generator checks neces-</p>
<p>sary conditions and will warn you if there are unmapped runnables that have to be mapped.</p>
<p><b>What happens if you map a runnable that does not have to be mapped?</b></p>
<p>Nothing will happen. It will still work. But the code efficiency and RAM consumption could be less good.</p>
<p><b>Is there a disadvantage of the RTE generator automatism?</b></p>
<p>It could be less comfortable to figure out the call context of the runnables and the stack consumption</p>
<p>could increase.</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>7.2.1 Information about Interaction between Runnable, Re-entrance and Task Mapping</b></p>
<p>Your goal is a configuration of the system that results in a highly runtime-optimized and memory con-</p>
<p>sumption-optimized code. Here is a little information to estimate what the RTE generator does.</p>
<p>This illustration shows a software component with four runnables. Only runnable 3 is set to Can</p>
<p><b>1</b></p>
<p><b>be</b></p>
<p><b>invoked concurrently</b>. On the right-hand side you see which runnable is mapped to which task and</p>
<p>the result of this mapping for the generated code. Here is the details.</p>
<p><b>Can be invoked concurrently is set and the runnable is not mapped to a task</b></p>
<p><b>Example</b>: Runnable 3</p>
<p>Runnable 3 is called directly in the context of the calling BSW (DCM in this example – DCM_MainFunc-</p>
<p>tion, TASK B).</p>
<p><b>1</b></p>
<p>(CAN Driver) The CAN Driver abstracts access to the CAN hardware for sending and receiving mes-</p>
<p>sages and for switching between controller states (sleep, stop, etc.)</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 119-</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 120-</p>
<p><b>Caution</b></p>
<p>Make sure that your runnable is really re-entrant (see section<b> Can Be Invoked Con-</b></p>
<p><b>currently</b>). If not, errors can occur that are difficult to debug.</p>
<p>Can be invoked concurrently is NOT set and the runnable is not mapped to a task</p>
<p><b>Example Runnable 4</b></p>
<p>If the RTE generator finds out that the runnable is not called multiple times in parallel, Run-</p>
<p>nable 4 is called directly in the context of the caller BSW (DCM). Otherwise an error mes-</p>
<p>sage will be shown.</p>
<p>Can be invoked concurrently is NOT set and the runnable is mapped to a task different from</p>
<p>the task where the main function of the caller (e.g. Dcm</p>
<p>1</p>
<p>_MainFunction) is mapped.</p>
<p><b>Example: Runnable 1</b></p>
<p>When the caller BSW now wants to activate the runnable via the RTE call, an event is set</p>
<p>and the temporary variables of the runnables are stored to RAM (context of calling BSW,</p>
<p>e.g. Task B). When the point in time has come, the WaitEvent in Task A is triggered by the</p>
<p>event and starts the Runnable1(A) and hands over the parameters previously stored to</p>
<p>RAM.</p>
<p>As you see, runtime is longer than using direct call and the RAM consumption is higher. E.g.</p>
<p>for diagnostics: DCM runnables always have array types that are completely stored to RAM.</p>
<p>For e.g. 100 DIDs à 4 bytes you need 400 bytes!</p>
<p>1</p>
<p>(Diagnostic Communication Manager ) The Dcm module implements diagnostic communication</p>
<p>according to ISO 14229-1:2006 (UDS). Some diagnostic requests are processed directly in the Dcm</p>
<p>(management of diagnostic sessions, reading of error codes, EcuReset, etc.) and some are routed to</p>
<p>the SWCs via port interfaces (reading, writing and controlling of data elements within a data identifier,</p>
<p>execution of routines, etc.). Legal requirements of OBDII / SAE J1979 are also supported.</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>7.3 Memory Mapping</b></p>
<p>Within ECUs there is data that has to be persistent during power-off. Therefore this data cannot be</p>
<p>stored simply to RAM, it must be stored to EEPROM or Flash, i.e. to non-volatile memory. As an</p>
<p>example for this data, think of the DEM information.</p>
<p>There are two possible ways how this non-volatile data will be used. Either your application always</p>
<p>accesses a RAM copy of the NV data where the data is copied at start-up. Or data can be read/written</p>
<p>directly from/to NV memory on request.</p>
<p>The Memory Mapping assigns your defined PIM, per instance memory to the memory blocks of the</p>
<p>NVM.</p>
<p>A per-instance memory object is mappable if it is referenced by a service need object. The definition</p>
<p>of per-instance memory objects or service needs is part of the component type definition and is not</p>
<p>yet editable by DaVinci Configurator Pro.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 121-</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 122-</p>
<p><b>7.4 Service Mapping</b></p>
<p>The base for the service mapping is the theory about clients and servers. The client uses a service of</p>
<p>the server. The server itself provides the operation to the client. The client server communication</p>
<p>between your application software component and a service component is done via service ports – cli-</p>
<p>ent ports and server ports. A server port provides services (one or more operations) and a client port</p>
<p>uses these services.</p>
<p>A service component can have server ports and client ports.</p>
<p><b>&gt; Service port of the service component is a server port</b></p>
<p>The service is provided by the service component and your application software component just</p>
<p>uses the operations (services, functions)</p>
<p><b>&gt; Service port of the service component is a client port</b></p>
<p>Your application software component must be server and has to provide the operation (service,</p>
<p>function). In this case, you have to program code, i.e. a runnable. This runnable must be created</p>
<p>by you and it is triggered by the request of the service.</p>
<p><b>Besides the sender and receiver ports, there are also client and server ports. Sender and</b></p>
<p><b>receiver ports carry data elements. Via client ports you can access so-called operations</b></p>
<p><b>(or functions) of the servers.</b></p>
<p>Within one service port there could be n operations. Every single operation has to be assigned to a run-</p>
<p>nable.</p>
<p>The servers provide the runnables that contain the code. Here Runnable1, Runnable 2, Runnable 3 of</p>
<p>the service component and Runnable 4 and Runnable 5 of application component.</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>When performing the service mapping, it is almost the same as the data mapping – but now you deal</p>
<p>with services instead. To be able to access the services of a service component, you have to add this</p>
<p>service component to your software component.</p>
<p>Then you can use all services that are provided by the service component. In this case your application</p>
<p>is the client and the service component is the server.</p>
<p>But using a service component not only brings benefit – it also costs. Almost every service component</p>
<p>does not only provide services – there can also be client ports on the service component side. And if</p>
<p>you add this service component to your software component, you have to provide all the services</p>
<p>where the software component provides a client port interface.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 123-</p>
<p><b>Mappings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>8 Generation</b></p>
<p>With the generation step DaVinci Configurator Pro generates the code for your project and also con-</p>
<p>cerns your settings in STEP2 Define Project Settings on page 27. DaVinci Configurator Pro clings to</p>
<p>your settings and works off the “to be generated” list.</p>
<p>The DaVinci Configurator Pro provides an automation interface for remote-controlled validation and</p>
<p>code generation.</p>
<p><b>8.1 MICROSAR Rte Gen</b></p>
<p>The RTE is generated by the<b> MICROSAR</b> Rte</p>
<p><b>1</b></p>
<p><b>Gen</b>. Its generation depends on many settings in the</p>
<p>configuration tools and how runnables are mapped to tasks. The files start with<b> Rte_</b> or SchM</p>
<p><b>2</b></p>
<p><b>_</b>.</p>
<p><b>1</b></p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p><b>2</b></p>
<p>(BSW Scheduler) The SchM module is integrated in the ( RTE, calls the periodic “main” function of the</p>
<p>individual BSW modules, and provides functions for critical sections. For the distribution of the BSW</p>
<p>(master satellite concept) via partitions and core boundaries, the SchM provides nearly identical com-</p>
<p>munication interfaces like the ( RTE.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 124-</p>
<p><b>Generation</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>9 Runnable Code</b></p>
<p>Until now you don’t have written one line of C code. And that’s typical for the AUTOSAR concept of soft-</p>
<p>ware development. There is much more configuring work with tools than programming or imple-</p>
<p>menting as you are normally used to from previous ECU software projects with e.g. CANbedded.</p>
<p><b>Example</b></p>
<p>This is an example showing the runnable called MySWC_Code with the function name</p>
<p>(Symbol) MySWC_Code</p>
<p>This is the header of a runnable showing all necessary information about the runnable like:</p>
<p><b>&gt;</b> When it is triggered</p>
<p><b>&gt;</b> Input and output interfaces</p>
<p><b>&gt;</b> Service interfaces</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 125-</p>
<p><b>Runnable Code</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 126-</p>
<p><b>Note</b></p>
<p>If some access is missing, go back to the DaVinci Developer, add the necessary port access</p>
<p>for your runnable, go back to DaVinci Configurator Pro, synchronize the system description</p>
<p>and generate the component templates again.</p>
<p>Then the missing interface should be there and can be used.</p>
<p><b>Runnable Code</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>10 Compile And Link</b></p>
<p><b>10.1 Using your &quot;real&quot; hardware</b></p>
<p>This step is highly dependent on your compiler / linker / project settings. Compile and link everything</p>
<p>together and create a file that can be downloaded to your hardware.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 127-</p>
<p><b>Compile and Link</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 128-</p>
<p><b>III Additional Information</b></p>
<p>This section includes additional information dealing with special topics like e.g. multiple user concept</p>
<p>or support request package.</p>
<p><b>&gt;</b> Update Input File</p>
<p><b>&gt;</b> Update Project Settings</p>
<p><b>&gt;</b> Support Request via DaVinci Configurator</p>
<p><b>&gt;</b> Multiple User Concept</p>
<p><b>&gt;</b> Update Configuration</p>
<p><b>&gt;</b> Update DaVinci Tools</p>
<p><b>&gt;</b> Non-Volatile Memory Block</p>
<p><b>&gt;</b> Basic Software Modules</p>
<p><b>&gt;</b> Command Line Parameters of the DaVinci Configurator</p>
<p><b>&gt;</b> Add Module Stubs from AUTOSAR definition</p>
<p><b>&gt;</b> Project Migration</p>
<p>Additional Information</p>
<p><b>Overview</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 Update Input Files</b></p>
<p>Open Input Files editor via<b> Project</b> |<b> Input Files</b> or Input Files icon</p>
<p>1</p>
<p>at DaVinci Configurator Pro tool-</p>
<p>bar.</p>
<p><b>Note</b></p>
<p>Any change of the input files requires an update of the configuration. Update configuration</p>
<p>updates all input files, whether they are changed or not.</p>
<p><b>1.1 System Description Files</b></p>
<p>If necessary, replace your File at Input Files | System Description File.</p>
<p>Select the Input File, click Replace button</p>
<p>2</p>
<p>and choose the new<b> Input File</b>.</p>
<p><b>Note</b></p>
<p>Any change of the input files requires an update of the configuration. Update the con-</p>
<p>figuration via Update Configuration icon</p>
<p>3</p>
<p>.</p>
<p><b>1.2 Diagnostic Data Files</b></p>
<p>If necessary, update your Diagnostic Description file and select ECU and Variant.</p>
<p>In case of<b> ODX 2.0.1</b> as Diagnostic Description file, it is necessary to update the state description.</p>
<p>Therefore click<b> [Synchronize State Description…]</b>.</p>
<p><b>Note</b></p>
<p>Any change of the input files requires an update of the configuration. Update the con-</p>
<p>figuration via Update Configuration icon</p>
<p>4</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 129-</p>
<p>Additional Information</p>
<p><b>Update Input File</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 130-</p>
<p><b>2 Update Project Settings</b></p>
<p>Open Project Settings Editor via<b> Project</b> |<b> Settings</b> or Project Setting icon</p>
<p>1</p>
<p>at DaVinci Configurator</p>
<p>Pro toolbar. Select<b> Project Settings</b> to open the view.</p>
<p>1</p>
<p>Additional Information</p>
<p><b>Update Project Settings</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3 Support Request Via DaVinci Configurator Pro</b></p>
<p>If you request support for Vector products, you have to provide project and environment information.</p>
<p>Therefore, use the<b> Support Request Package</b> function of the DaVinci Configurator Pro.</p>
<p>The<b> Support Request Package</b> compiles the necessary project and environment information in a</p>
<p>ZIP-file. Send this file to the Vector Support via E-mail. Just follow the description below.</p>
<p><b>Note</b></p>
<p>The DaVinci Configurator Pro does not send any data automatically!</p>
<p>1.</p>
<p>Open the Support Request Editor via<b> Help</b> |<b> Create Support Request Package…</b></p>
<p><b>Note</b></p>
<p>The entry<b> Create Support Request Package</b>… is only enabled if a project is loaded.</p>
<p>2.</p>
<p>Add your First Name, Last Name and E-Mail address.</p>
<p>3.</p>
<p>Click<b> [Next &gt;]</b></p>
<p>4.</p>
<p>Select project information which has to be added to the support request ZIP-file.</p>
<p><b>Note</b></p>
<p>PC Info, Tool Version Info and SIP Info are default and can not be deselected.</p>
<p>5.</p>
<p>Click<b> [Next &gt;]</b></p>
<p>6.</p>
<p>Enter the path where the created ZIP-file has to be stored.</p>
<p>7.</p>
<p>Click<b> [Finish]</b></p>
<p><b>3.1 Result</b></p>
<p>In addition to the Zip-File</p>
<p>1</p>
<p>, the Project Assistant creates the following folders and files.</p>
<p>1</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 131-</p>
<p>Additional Information</p>
<p><b>Support Request via DaVinci Configurator</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 132-</p>
<p><b>Folder/File</b></p>
<p><b>Description</b></p>
<p>The Project folder includes all defined project files</p>
<p>The file includes all necessary project and system inform-</p>
<p>ation (e.g. version of tools)</p>
<p>The file includes all necessary project and system inform-</p>
<p>ation (e.g. version of tools)</p>
<p>Send<b> &lt;Target Path&gt;.zip</b> via e-mail to the Vector Support Address embed-</p>
<p>dedSupport@de.vector.com.</p>
<p>Additional Information</p>
<p><b>Support Request via DaVinci Configurator</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4 Multiple User Concept</b></p>
<p>This concept helps you to realize the configuration management of the design and configuration data</p>
<p>on a fine-grained level in combination with a configuration management (CM) system. It is available</p>
<p>for software components as well as for BSW configurations. Split files also help you in multi-user pro-</p>
<p>jects: you can control the read/write access on fine-grained level. This helps you to prevent the users</p>
<p>from making unwanted changes and therefore reduce the necessary diffs and merges.</p>
<p><b>4.1 General</b></p>
<p>The decision whether to use a single configuration file or split configuration files is done in the Project</p>
<p>Assistant settings. The resulting split files are ideally managed through a central CM system. Each user</p>
<p>needs the full set of split files to work with the project.</p>
<p>The user has to obtain a writeable working copy to his local file system.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 133-</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 134-</p>
<p>The user has to obtain a read-only working copy to his local file system.</p>
<p><b>Caution!</b></p>
<p>After a SIP update, all configuration files may have to be updated. This requires all files to</p>
<p>be writeable while loading the configuration with a new SIP for the first time.</p>
<p>It is necessary to lock all files which will be edited during the configuration session. The DaVinci tools</p>
<p>load all working copy files. The locked files are writeable; all other files are write-protected.</p>
<p><b>Note</b></p>
<p>If you prevent parallel editing e.g. by according settings in the CM system you can ensure</p>
<p>that only one user can obtain a writeable copy at a time. If you allow parallel editing in the</p>
<p>CM system, several users can get a writeable copy. When both users make changes, you</p>
<p>can use the Project Merge function to merge the modifications.</p>
<p>After finishing configuration, the locked files have to be checked in (commited) to the CM system.</p>
<p><b>4.2 Split Files for Software Component and ECU Project Configuration</b></p>
<p>The split of the<b> DaVinci Developer workspace</b> is necessary to enable working in parallel for soft-</p>
<p>ware component configuration.</p>
<p><b>Note</b></p>
<p>Workspace splitting is only supported by the DCF workspace format. You chose this option</p>
<p>during the project setup and you cannot change it afterwards.</p>
<p><b>Result</b></p>
<p>Additionally to the workflow file the Project Assistant creates multiple files for each Software Com-</p>
<p>ponent Type and ECU Project in the Developer folder.</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>File</b></p>
<p><b>Description</b></p>
<p>This file includes references to all single software component and</p>
<p>ECU Project files.</p>
<p>General software component file</p>
<p>This file includes the binary part of the software component.</p>
<p>This file includes the generic attributes of the software component.</p>
<p>General ECU project file</p>
<p>This file includes the binary part of the ECU Project.</p>
<p>Project-specific ECUC file</p>
<p>This file includes the generic attributes of the ECU Project.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 135-</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 136-</p>
<p><b>4.3 Configure Software Component Prototype</b></p>
<p>To configure a software component prototype it is necessary to lock all files, specific for this software</p>
<p>component. (<b>&lt;SWCNameA&gt;.arxml</b>,<b> &lt;SWCNameA&gt;.dcb</b> and<b> &lt;SWCNameA&gt;_gen_attr.xml</b>).</p>
<p><b>4.4 Configure ECU project</b></p>
<p>To configure an ECU project it is necessary to lock all files, specific for this ECU project. (<b>&lt;ECUPro-</b></p>
<p><b>jectA&gt;.arxml</b>,<b> &lt; ECUProjectA &gt;.dcb</b>,<b> &lt;ECUProjectA&gt;_ecuc.arxml</b> and<b> &lt;ECUProjectA&gt;_</b></p>
<p><b>gen_attr.xml</b>).</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4.5 Split Files in DaVinci Developer</b></p>
<p><b>Note</b></p>
<p>Parameters of write-protected files are greyed out in the DaVinci Developer.</p>
<p>If Parameters of write-protected modules are changed because of module dependencies, the DaVinci</p>
<p>Developer informs about the write-protection during the synchronization process.</p>
<p>You have the possibility to make the file writeable and repeat the synchronization process.</p>
<p><b>4.6 Split Files for BSW Configuration</b></p>
<p>The split of the ECUC is necessary to enable working in parallel for BSW configuration (one file per</p>
<p>module).</p>
<p><b>Note</b></p>
<p>Please note that further .arxml files are created when activating further modules.</p>
<p><b>Result</b></p>
<p>Additionally to the standard ECUC files and the AUTOSAR parameter definition file, the Project Assist-</p>
<p>ant creates multiple ECUC files<b> &lt;ProjectName&gt;_&lt;Module&gt;_ecuc.arxml</b> to the ECUC folder.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 137-</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 138-</p>
<p><b>Note</b></p>
<p>Additionally to the module ECUC files the Project Assistant creates a<b> &lt;ProjectName&gt;_</b></p>
<p><b>EcuC.ecuc.arxml</b> file, containing references to all module ECUC files. This file is used as</p>
<p>project file for the DaVinci Developer and the DaVinci Configurator Pro.</p>
<p>Additional Information</p>
<p><b>Multiple User Concept</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 Configuration Update</b></p>
<p>If you get a new delivery with Vector BSW Release x, it is necessary to update some parameter values</p>
<p>of your configuration to the new release. There are some steps, that are necessary for most of the</p>
<p>updates and there are special steps, that are only necessary for a certain update.</p>
<p>First there are described the necessary steps for any update followed by the special update steps</p>
<p>dependent on the release version.</p>
<p><b>5.1 Release x-1 to Release x (necessary steps for any update)</b></p>
<p>1.</p>
<p>Install the latest DaVinci Developer</p>
<p>2.</p>
<p>Open your configuration with the DaVinci Configurator of the new SIP .\DaVin-</p>
<p>ciConfigurator\Core\DaVinciCFG.exe and select the following option:</p>
<p><b>Note</b></p>
<p>The path within the *.DPA file will be updated to the new SIP.</p>
<p>3.</p>
<p>Change the path to the new DaVinci Developer if it was installed to a different location than the</p>
<p>former DaVinci Developer version.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 139-</p>
<p>Additional Information</p>
<p><b>Update Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 140-</p>
<p><b>Note</b></p>
<p>C:\Program Files (x86)\Vector DaVinci Developer<b> &lt;version&gt;</b>\Bin\DaVinciDEV.exe</p>
<p>4.</p>
<p>Handle remaining errors and warning. The following might occur for any update</p>
<p><b>Errors Invalide/Incorrect Definitions</b></p>
<p><b>&gt;</b> AR-ECUC02008 Invalid multiplicity</p>
<p><b>&gt;</b> AR-ECUC03019 Incorrect definition of configuration element</p>
<p><b>Solution</b></p>
<p>Delete parameter in ECUC file not existing in BSWMD file any more.</p>
<p><b>Example</b></p>
<p>Some parameters has been replaced. E.g.</p>
<p><b>/MICROSAR/</b>Dem</p>
<p><b>1</b></p>
<p><b>/DemGeneral/DemEventStorageTrigger</b> has been</p>
<p>replaced by /<b>MICROSAR/Dem/DemGen-</b></p>
<p><b>eral/DemEventMemoryEntryStorageTrigger</b></p>
<p><b>Errors Inconsistent Connector Prototypes</b></p>
<p><b>&gt;</b> RTE51027 Connector prototype inconsistent. (1 message)</p>
<p><b>&gt;</b> RTE51031 Connector prototype inconsistent. (1 message)</p>
<p><b>Solution</b></p>
<p>Due to changes within the Service Components the ports can be become incom-</p>
<p>patible Application Software Components. Adapt your Application Software Com-</p>
<p>ponents with the DaVinci Developer to match the new port definitions.</p>
<p>The changes are normally resulting from</p>
<p><b>1</b></p>
<p>(Diagnostic Event Manager ) The Dem module implements a fault memory. The standardized inter-</p>
<p>face for &quot;DiagnosticMonitors&quot; enables uniform development of manufacturer-independent SWCs. The</p>
<p>Dem module is responsible for administering the DiagnosticTroubleCode states, environmental data,</p>
<p>and for storing the data in NVRAM. The legal requirements of OBDII / SAE J1979 are also supported.</p>
<p>Additional Information</p>
<p><b>Update Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Errors Inconsistent Connector Prototypes</b></p>
<p><b>&gt;</b> Correction (the old definition was wrong)</p>
<p><b>&gt;</b> Changed implementation based on AUTOSAR Bugzilla entries / RfC</p>
<p><b>&gt;</b> Changed implementation due to support of newer AUTOSAR Version (e.g.</p>
<p>AUTOSAR 4.0.3 to AUTOSAR 4.1.2)</p>
<p>5.</p>
<p>Process all further Errors and Warnings given within the Validation View of the DaVinci</p>
<p>Configurator</p>
<p>6.</p>
<p>Check for updating of the input data base files.</p>
<p>Even though they might not have changed, the deriving of parameters might have improved. Thus</p>
<p>an update now would reduce the changes when receiving changed input data base files.</p>
<p><b>Cross Reference</b></p>
<p>Additional information about necessary configuration update steps are described within the</p>
<p>Release Notes (<b>Category: Change</b>).</p>
<p>The following describes what to do when updating especially from one release to another.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 141-</p>
<p>Additional Information</p>
<p><b>Update Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 142-</p>
<p><b>5.2 Release 8 to Release 9</b></p>
<p><b>Errors Invalid Baud Rate</b></p>
<p><b>&gt;</b> CAN02012 An invalid baud rate value is configured</p>
<p><b>&gt;</b> CAN02012 invalid baudrate settings:</p>
<p>[MANUAL ACTION]: change clock or baudrate.</p>
<p>/ActiveEcuC/Can</p>
<p>1</p>
<p>/CanConfigSet/CT_CAN_e98c47e6/CanControllerBaudrateConfig</p>
<p><b>Solution</b></p>
<p>The tool now checks the values of the baud rate configuration, they might</p>
<p>have been wrong before.</p>
<p>Check valid settings of McuClockReferencePointFrequency referenced by</p>
<p><b>/MICROSAR/Can_Cano-</b></p>
<p><b>eemuCanoe/Can/CanConfigSet/CanController/CanCpuClockRef</b></p>
<p>Then select one of the offered baud rate configurations by clicking on ‘pos-</p>
<p>sible configurations’.</p>
<p><b>5.3 Release 7 to Release 8</b></p>
<p>If you get a new delivery with Vector BSW Release 8, it is necessary to update some parameter values</p>
<p>of your configuration to the new release.</p>
<p>After you have updated your project with the new SIP the following steps are necessary:</p>
<p>1.</p>
<p>Select ECUC parameter which is not defined by a BSWMD Parameter definition.</p>
<p>(Error number AR-ECUC03019)</p>
<p>2.</p>
<p>Check whether additional parameters exist.</p>
<p>(Parameters without value definition or with default value)</p>
<p>3.</p>
<p>Define value of the new parameter with value from the existing parameter</p>
<p>4.</p>
<p>Delete existing parameter</p>
<p>Use the same steps for container updates.</p>
<p>1</p>
<p>(CAN Driver) The CAN Driver abstracts access to the CAN hardware for sending and receiving mes-</p>
<p>sages and for switching between controller states (sleep, stop, etc.)</p>
<p>Additional Information</p>
<p><b>Update Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>Select all<b> VectorCommonData</b> containers, which are marked with an error, use multi-</p>
<p>selection in the DaVinci Configurator Basic Editor and delete them via<b> Delete Container</b>.</p>
<p>All<b> Use RTE</b> switches and<b> Production Error Detection</b> switches can be deleted without</p>
<p>check.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 143-</p>
<p>Additional Information</p>
<p><b>Update Configuration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 144-</p>
<p><b>6 Update DaVinci Tools</b></p>
<p><b>Cross Reference</b></p>
<p>The DaVinci service packs are located at the<b> Vector Download Center</b>.</p>
<p>https://vector.com/vi_downloadcenter_en.html</p>
<p>The Update of the DaVinci Tools is described within the installation guide.</p>
<p><b>Cross Reference</b></p>
<p>You will find the installation guide document at the Vector Knowledge Base:</p>
<p>https://vector.com/kbp/entry/640/</p>
<p><b>6.1 DaVinci Configurator Pro</b></p>
<p>If necessary , update DaVinci Configurator Pro service packs,therefore you have to download them</p>
<p>from the Vector Download Center and install them via DaVinci Configuration Service Pack Installer.</p>
<p>Select the installed SIPs which should be updated.</p>
<p><b>6.2 DaVinci Developer</b></p>
<p>Service Packs of DaVinci Developer are also available in the Vector Download Center. The service</p>
<p>packs include an installer to update your DaVinci Developer installation.</p>
<p><b>Note</b></p>
<p>Please note that compatibility is only granted for service packs provided for the same</p>
<p>major and minor version.</p>
<p>Additional Information</p>
<p><b>Update DaVinci Tools</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>7 Non-Volatile Memory Block</b></p>
<p>This is a description how to handle data that has to be stored to non-volatile memory like FLASH or</p>
<p>EEPROM.</p>
<p>The illustration below shows briefly the concept behind. Data is defined in a Non-Volatile Memory</p>
<p>Block. The application SWC has access to this data via the RTE. The data is stored and addressed in</p>
<p>RAM. At configuration time you can define which data in which format you need and when and how this</p>
<p>data is written to and read from the non-volatile memory. You can also trigger the immediate writing</p>
<p>of this data to the FLS or EEPROM.</p>
<p><b>7.1 Configure and use Non-Volatile Memory Block</b></p>
<p>The following description shows, how the Non-Volatile Memory Block is configured and used.</p>
<p>In the Library of DaVinci Developer, add a<b> New Application Component Type</b>, select<b> Non-Volatile</b></p>
<p><b>Memory Block</b> as type and give a<b> Name</b> to this new component type. Double-click the new<b> Non-</b></p>
<p><b>Volative Memory Block</b> in the<b> Library</b> and select<b> NV Block Descriptors</b></p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 145-</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 146-</p>
<p>Use<b> [New]</b> to define a new NV Block Descriptor. On the Properties tab define the data you want to</p>
<p>store to non-volatile memory and its type. This can be a single variable like integer or boolean. Also</p>
<p>complex data types like records or arrays can be defined.</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Select the tab NV Block Need and define, when and how your data should be finally written to NV</p>
<p>memory (FLS or EEPROM).</p>
<p>Now add New NV Data Interface… to define a port to access the data defined before. Select suitable</p>
<p>Data Element Prototypes.</p>
<p>Add the NV component type to your Software Design (drag’n’drop from Library), assign the NV Data</p>
<p>Interface to the NV component prototype and another NV Data Interface to your application SWC.</p>
<p>Draw the necessary connectors by hand. Define the Init Values of all ports.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 147-</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 148-</p>
<p>Double-click NV component prototype and perform the internal mapping on the NV Block Data Mapping</p>
<p>tab (right-click to open context menu).</p>
<p><b>7.2 Port Access of your Runnables</b></p>
<p>What is left now – the access of your application runnable to the<b> NV Data Interface</b>(s). Open your</p>
<p>application software component, select a runnable and then the tab<b> Port Access</b>. Use the<b> [New]</b> but-</p>
<p>ton to add a read or write data access to the<b> Non-Volatile Memory Block</b>.</p>
<p>Save your project and switch to DaVinci Configurator Pro.</p>
<p><b>7.3 Memory Mapping in DaVinci Configurator Pro</b></p>
<p>Synchronize the system using the synchronization message in the<b> Validation</b> area.</p>
<p>Open<b> Runtime System</b>. Click<b> Add Memory Mapping</b>.</p>
<p>1.</p>
<p>Select<b> Create new NV memory blocks for the memory objects</b>.</p>
<p>2.</p>
<p>Select the block created before in the DaVinci Developer</p>
<p>3.</p>
<p>Get information about unmapped blocks and click<b> [Finish]</b>.</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 149-</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 150-</p>
<p><b>7.4 Validate the RTE</b></p>
<p>1.</p>
<p>Open the validation window via</p>
<p>2.</p>
<p>Deactivate all boxes via</p>
<p>3.</p>
<p>Select RTE and click<b> [Validate]</b>.</p>
<p>When implementing you runnable code, you can now access the defined variables by using RTE read</p>
<p>and write macros.</p>
<p>Additional Information</p>
<p><b>Non-Volatile_Memory_Block</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>8 Basic Software Modules</b></p>
<p>This chapter deals with BSW modules, Basic Software Modules. First they are introduced theoretically</p>
<p>then configured with the DaVinci Configurator Pro.</p>
<p><b>8.1 Generic BSW Modules</b></p>
<p>Before you start to configure the BSW module with DaVinci Configurator Pro you have to know some-</p>
<p>thing about BSW modules.</p>
<p>This chapter introduces to you a generic BSW module and wants you to get a basic understanding of it:</p>
<p><b>&gt;</b> How it looks like</p>
<p><b>&gt;</b> Of what it is formed</p>
<p><b>&gt;</b> How it is configured</p>
<p><b>&gt;</b> How it works</p>
<p><b>&gt;</b> What is fix</p>
<p><b>&gt;</b> What is generated and</p>
<p>some special topics like</p>
<p><b>&gt;</b> Memory sections and</p>
<p><b>&gt;</b> Exclusive areas</p>
<p><b>Cross Reference</b></p>
<p>Find the detailed description of the BSW module in the folder<b> Doc|TechnicalReferences</b></p>
<p>of your delivery.</p>
<p><b>8.2 What is a BSW Module?</b></p>
<p>A Basis Software Module (BSW module) consists of:</p>
<p><b>&gt;</b> Static BSW files (algorithms and functions)</p>
<p><b>&gt;</b> Generated files (data and sometime algorithms and functions)</p>
<p>To get it to work it has to be</p>
<p><b>&gt;</b> Included</p>
<p><b>&gt;</b> Initialized</p>
<p><b>&gt;</b> Its main function has to be called cyclically (in most of the cases)</p>
<p>The mapping of its code and variables can be configured as well as their exclusive areas, to protect the</p>
<p>module’s internal data.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 151-</p>
<p>Additional Information</p>
<p><b>Basic Software Modules</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 152-</p>
<p><b>&gt;</b> Memory Mapping</p>
<p><b>&gt;</b> Exclusive Areas</p>
<p><b>Example</b></p>
<p>Examples for the short names: Dem</p>
<p>1</p>
<p>, Dcm</p>
<p>2</p>
<p>, EcuM, etc.</p>
<p>1</p>
<p>(Diagnostic Event Manager ) The Dem module implements a fault memory. The standardized inter-</p>
<p>face for &quot;DiagnosticMonitors&quot; enables uniform development of manufacturer-independent SWCs. The</p>
<p>Dem module is responsible for administering the DiagnosticTroubleCode states, environmental data,</p>
<p>and for storing the data in NVRAM. The legal requirements of OBDII / SAE J1979 are also supported.</p>
<p>2</p>
<p>(Diagnostic Communication Manager ) The Dcm module implements diagnostic communication</p>
<p>according to ISO 14229-1:2006 (UDS). Some diagnostic requests are processed directly in the Dcm</p>
<p>(management of diagnostic sessions, reading of error codes, EcuReset, etc.) and some are routed to</p>
<p>the SWCs via port interfaces (reading, writing and controlling of data elements within a data identifier,</p>
<p>execution of routines, etc.). Legal requirements of OBDII / SAE J1979 are also supported.</p>
<p>Additional Information</p>
<p><b>Basic Software Modules</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>8.3 BSW Module Configuration</b></p>
<p>The amount and properties of configurable parameters is defined within the &lt;Msn&gt;.bswmd file.</p>
<p>BSWMD stands for Basic Software Module Description file. This file is read by the BSW configuration</p>
<p>tool (DaVinci Configurator Pro) and used to create the Basic Editor. The Basic Editor is the tool expres-</p>
<p>sion of all configurable parameters of the BSW module, displayed in a generic way.</p>
<p><b>Note</b></p>
<p>In addition to the Basic Editor, the Vector BSW configuration tool DaVinci Configurator Pro</p>
<p>provides comfortable views that make configuration of BSW modules very comfortable.</p>
<p>The DaVinci Configurator Pro generates the configuration files for every used BSW module. These are</p>
<p>files like</p>
<p><b>&gt;</b> &lt;Msn&gt;_cfg.c/h,</p>
<p><b>&gt;</b> &lt;Msn&gt;_Lcfg.c/h,</p>
<p><b>&gt;</b> &lt;Msn&gt;_PBcfg.c/h</p>
<p><b>8.4 BSW Initialization</b></p>
<p><b>8.4.1 &lt;Msn&gt;_InitMemory()</b></p>
<p>Most BSW module needs variables that have to be initialized before the call of</p>
<p>&lt;Msn&gt;_Init()</p>
<p>. This can</p>
<p>be global or static variables. According AUTSOAR concept, all necessary variables will be initialized by</p>
<p>the start-up code. Where this is not done or not possible the function</p>
<p>&lt;MSN&gt;_InitMemory</p>
<p>has to be</p>
<p>called as an alternative.</p>
<p><b>8.4.2 &lt;Msn&gt;_Init()</b></p>
<p>Every BSW module has to be initialized at start-up. This is done with the start-up of the ECUM. The</p>
<p>function to initialize a BSW module is called:</p>
<p>&lt;Msn&gt;_Init()</p>
<p><b>Note</b></p>
<p>Our modules and functions are protected against multiple initializations.</p>
<p><b>8.5 BSW Module Version (xxx_GetVersionInfo)</b></p>
<p>Each BSW module provides an API<b> &lt;MSN&gt;_GetVersionInfo</b>.This API returns the BSW published</p>
<p>information</p>
<p><b>&gt;</b> BSW version</p>
<p><b>&gt;</b> Module ID</p>
<p><b>&gt;</b> Vendor ID</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 153-</p>
<p>Additional Information</p>
<p><b>Basic Software Modules</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 154-</p>
<p>The BSW versions are BCD-coded. The availability of this API can be individually configured for each</p>
<p>module.</p>
<p><b>8.6 Cyclic Calls</b></p>
<p><b>8.6.1 &lt;Msn&gt;_MainFunction()</b></p>
<p>To run and to work, most of the BSW modules (except for those, that are triggered by interrupt), have</p>
<p>to be called cyclically with a configured call cycle. The module derives its time base from those cyclic</p>
<p>calls. This cyclically called function is called main function and its name is formed like:</p>
<p>&lt;MSN&gt;_</p>
<p>MainFunction()</p>
<p><b>Note</b></p>
<p>In most of the cases it is mapped to a cyclic task that is called cyclically triggered by an</p>
<p>Alarm of the Operating System.</p>
<p><b>8.7 Service Functions</b></p>
<p><b>Cross Reference</b></p>
<p>For information about<b> Client Server Theory</b>, refer to Data Mapping (section Service Map-</p>
<p>ping).</p>
<p><b>8.8 Critical Sections - Exclusive Areas</b></p>
<p>BSW modules use so-called exclusive areas to protect their resources (module internal data) from con-</p>
<p>currency. Each module defines its own exclusive areas, up to 5 can be defined per AUTOSAR definition.</p>
<p>Whether a critical section needs to be handled or not depends on the possibility of a concurrent access</p>
<p>onto a given resource of the BSW. It therefore depends on e.g. OS or hardware configuration con-</p>
<p>straints. If a critical section needs to be handled, different measurements are possible, ranging from a</p>
<p>global interrupt lock to the usage of OS semaphores.</p>
<p><b>Example</b></p>
<p>As an example, a definition of an exclusive area could look like:</p>
<p>Additional Information</p>
<p><b>Basic Software Modules</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>SchM</p>
<p>1</p>
<p>_Enter_Com</p>
<p>2</p>
<p>_COM_EXCLUSIVE_AREA_2();</p>
<p>com_TxModeHdlr_DelayTimeCnt[i]--; /* Protected object */</p>
<p>SchM_Exit_Com_COM_EXCLUSIVE_AREA_2();</p>
<p>There are different locks available i.e. different interrupt sources could be locked. Global interrupt,</p>
<p>peripheral interrupt like CAN or no lock at all.</p>
<p><b>Cross Reference</b></p>
<p>Refer to the technical reference document of the BSW module to get information how</p>
<p>exclusive areas are defined and used.</p>
<p><b>8.8.1 Memory Section</b></p>
<p>Every generated code and variable of the &lt;MSN&gt; modules is enclosed by #defines. Via the template</p>
<p>file</p>
<p>compiler_memMap.h</p>
<p>you can define the mapping of each single section of a &lt;MSN&gt; module.</p>
<p><b>Cross Reference</b></p>
<p>See more about the memory mapping via</p>
<p>memMap.h</p>
<p>in the technical references of each</p>
<p>&lt;MSN&gt; module.</p>
<p><b>8.8.2 Switch &lt;MSN&gt; Modules Off</b></p>
<p>Most of the modules can be switched off via:</p>
<p>&lt;Msn&gt;_Shutdown</p>
<p>1</p>
<p>(BSW Scheduler) The SchM module is integrated in the ( RTE, calls the periodic “main” function of the</p>
<p>individual BSW modules, and provides functions for critical sections. For the distribution of the BSW</p>
<p>(master satellite concept) via partitions and core boundaries, the SchM provides nearly identical com-</p>
<p>munication interfaces like the ( RTE.</p>
<p>2</p>
<p>(Communication) The Com module provides a signal-based data interface for the RTE. It places sig-</p>
<p>nals in messages and sends them according to the defined send type. The module contains various noti-</p>
<p>fication mechanisms for receiving signals. It also manages initial values, update bits and timeouts on</p>
<p>the signal level. In multi-channel ECUs, the integrated signal gateway offers the ability to route signals</p>
<p>between the communication buses.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 155-</p>
<p>Additional Information</p>
<p><b>Basic Software Modules</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 156-</p>
<p><b>9 Command Line Parameters Of The DaVinci Configurator</b></p>
<p><b>9.1 Common parameters</b></p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-h, --help</p>
<p>-</p>
<p>no</p>
<p>Shows command line usage inform-</p>
<p>ation (use cases and available</p>
<p>options).</p>
<p>--verbose</p>
<p>n</p>
<p>&lt;ERROR&gt;</p>
<p>&lt;WARN&gt; &lt;INFO&gt;</p>
<p>no</p>
<p>Enables the verbose output of log-</p>
<p>ging messages.</p>
<p>Possible arguments: ERROR, WARN,</p>
<p>INFO Optional Argument: The Log-</p>
<p>Level for the verbose output.</p>
<p>Default: ERROR</p>
<p>-l, --logfile</p>
<p>1</p>
<p>yes</p>
<p>Set the file to log the Console output</p>
<p>into.</p>
<p>Mandatory parameters missing. Please choose a use case. E.g. specify a Project and<b> --generate</b> to</p>
<p>generate the Project.</p>
<p><b>9.2 Command Line Interface Use Cases</b></p>
<p>The DaVinci Configurator command line interface has different use cases:</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>9.3 Usecase With GUI (only DaVinciCFG.exe)</b></p>
<p>Opening the GUI is the default use case.</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-p, --project</p>
<p>1</p>
<p>&lt;DPA-FILE&gt;</p>
<p>no</p>
<p>Specifies the absolute</p>
<p>path to the DPA project</p>
<p>file to be opened in the</p>
<p>GUI immediately</p>
<p>-clean</p>
<p>-</p>
<p>no</p>
<p>Start the DaVinci</p>
<p>Configurator with clean</p>
<p>eclipse cache, to solve</p>
<p>Eclipse caching prob-</p>
<p>lems when DaVinci</p>
<p>Configurator versions</p>
<p>5.10.xx and older are</p>
<p>used on the same PC</p>
<p>with DaVinci</p>
<p>Configurator version</p>
<p>5.11.xx and younger.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 157-</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 158-</p>
<p><b>9.4 Use Case DaVinci Configurator CodeGenerator</b></p>
<p>The identifying option for this use case is -g.</p>
<p>The DaVinci Configurator generates the BSW modules for a given ECU project.</p>
<p><b>Usage Example</b></p>
<p>DVCfgCmd --project Project.dpa --generate</p>
<p>DVCfgCmd --project Project.ecuc.arxml --generate --modulesToGenerate &quot;/MICROSAR/Det</p>
<p>1</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-p, --project</p>
<p>1</p>
<p>&lt;DPA-FILE&gt;</p>
<p>yes</p>
<p>Specifies the absolute path to the DPA pro-</p>
<p>ject file or the ECUC</p>
<p>-g, --generate or -v</p>
<p>-</p>
<p>yes</p>
<p>if-v is not</p>
<p>used</p>
<p>Generate the given project specified in</p>
<p>&lt;DPA_FILE&gt;. The -g option also executes -</p>
<p>-validate</p>
<p>At least one of the options -g or -v must be</p>
<p>specified.</p>
<p>-v, --validate or -g</p>
<p>-</p>
<p>yes</p>
<p>if-g is not</p>
<p>used</p>
<p>Validate the given project specified in</p>
<p>&lt;DPA_FILE&gt;.</p>
<p>At least one of the options -g or -v must be</p>
<p>specified.</p>
<p>-m, --mod-</p>
<p>ulesToGenerate</p>
<p>1</p>
<p>no</p>
<p>Specifies the module definition references,</p>
<p>which should be generated by the -g</p>
<p>switch.</p>
<p>Separate multiple the modules by a ','.</p>
<p>Syntax: --modulesToGenerate &quot;&lt;iden-</p>
<p>tifier&gt;,&lt;identifier&gt; ...&quot; The identifier of a</p>
<p>module is the AUTOSAR Definition path.</p>
<p>E.g. /MICROSAR/Nm</p>
<p>2</p>
<p>, /MICROSAR/CanIf</p>
<p>3</p>
<p>--modulesToGenerate</p>
<p>&quot;/MICROSAR/Nm,/MICROSAR/CanIf&quot;.</p>
<p>1</p>
<p>(Development Error Tracer ) The Det module supports error debugging during software development.</p>
<p>It provides an interface for error notification, which is called by the individual BSW modules in case of</p>
<p>error.</p>
<p>2</p>
<p>(Generic Network Management Interface ) The Nm module offers a general and network-independent</p>
<p>interface for accessing the bus-dependent network management modules (( CanNm, (LinNm, ( UdpNm</p>
<p>and ( FrNm). In addition, the module handles synchronous, inter-network shutdown of the com-</p>
<p>munication system in coordination with the other ECUs.</p>
<p>3</p>
<p>(CAN Interface) The CAN Interface offers abstracted (PDU-based) access to the CAN Driver. It con-</p>
<p>trols the CAN Driver (( Can) as well as the transceiver driver (( CanTrcv).</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>You could also pass the shortname of the</p>
<p>module, like &quot;Rte</p>
<p>1</p>
<p>&quot;, but be aware, if mul-</p>
<p>tiple modules have the same shortname,</p>
<p>all modules will be generated!</p>
<p>-x, --modulesToExclude</p>
<p>1</p>
<p>no</p>
<p>Specifies the module definition references,</p>
<p>which should not be generated by the -g</p>
<p>switch.</p>
<p>Separate multiple the modules by a ','.</p>
<p>Syntax: --modulesToExclude &quot;&lt;iden-</p>
<p>tifier&gt;,&lt;identifier&gt; ...&quot; The identifier of a</p>
<p>module is the AUTOSAR Definition path.</p>
<p>E.g. /MICROSAR/Nm, /MICROSAR/CanIf --</p>
<p>modulesToExclude</p>
<p>&quot;/MICROSAR/Nm,/MICROSAR/CanIf&quot;</p>
<p>You could also pass the shortname of the</p>
<p>module, like &quot;Rte&quot;, but be aware, if mul-</p>
<p>tiple modules have the same shortname,</p>
<p>all modules will be excluded!</p>
<p>--extGenStepsToGen-</p>
<p>erate</p>
<p>1</p>
<p>&lt;GEN_</p>
<p>STEPS&gt;</p>
<p>no</p>
<p>Specifies the External Generation Steps,</p>
<p>which should be generated by the -g</p>
<p>switch.</p>
<p>If empty (&quot;&quot;), then no External Generation</p>
<p>Steps is executed.</p>
<p>Syntax: --extGenStepsToGenerate &quot;&lt;iden-</p>
<p>tifier&gt;,&lt;identifier&gt; ...&quot;</p>
<p>The identifier of a step is the step name.</p>
<p>Separate multiple steps by a ','. E.g.</p>
<p>MyStep,DioExtStep,SwcGenStep --</p>
<p>extGenStepsToGenerate &quot;DioEx-</p>
<p>tStep,SwcGenStep&quot;</p>
<p>--swcsToGenerate</p>
<p>&lt;SWCs&gt;</p>
<p>no</p>
<p>Specifies the applications software com-</p>
<p>ponents (SWC) a template should be gen-</p>
<p>erated for. Separate multiple SWCs by a</p>
<p>','. Syntax: --swcsToGenerate &quot;&lt;iden-</p>
<p>1</p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 159-</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 160-</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>tifier&gt;, &lt;identifier&gt;...&quot; The name is the</p>
<p>ShortName of each SwComponentType</p>
<p>used within the ECU composition E.g. SWC_</p>
<p>A, SWC_B --swcsToGenerate &quot;SWC_A,</p>
<p>SWC_B&quot;</p>
<p>--genArg</p>
<p>n</p>
<p>&lt;GEN_</p>
<p>ARGS&gt;</p>
<p>no</p>
<p>Passes arguments to the specified code gen-</p>
<p>erators.</p>
<p>Syntax --genArg &lt;DEFINTION&gt;:&lt;Ar-</p>
<p>gument&gt; or --genAr-</p>
<p>g=&quot;&lt;DEFINTION&gt;:&lt;Argument&gt;&quot;</p>
<p>The Definition is the AUTOSAR Definition</p>
<p>path of the module to generate. E.g.</p>
<p>/MICROSAR/Nm, /MICROSAR/CanIf</p>
<p>You could also pass the shortname of the</p>
<p>module, like &quot;Rte&quot;, but be aware, if mul-</p>
<p>tiple modules have the same shortname,</p>
<p>all modules will get the argument!</p>
<p>You can pass multiple --genArg para-</p>
<p>meters. E.g. --genArg</p>
<p>/MICROSAR/Nm:DoSomethingSpecial=true</p>
<p>--genArg=&quot;Rte:DoAnotherThing=true&quot;</p>
<p>Multiple arguments for one definition can</p>
<p>be passed in one --genArg argument or in</p>
<p>several.</p>
<p>If several --genArgs are used for the same</p>
<p>definition, the values are concatenated</p>
<p>with a blank as separator. E.g. --genArg</p>
<p>/MICROSAR/Nm:Arg1=true Arg2=false or -</p>
<p>-genArg /MICROSAR/Nm:Arg1=true --</p>
<p>genArg /MICROSAR/Nm:Arg2=false</p>
<p>--saveProject</p>
<p>-</p>
<p>no</p>
<p>Saves the project after validation or gen-</p>
<p>eration.</p>
<p>Generators may modify the project in the</p>
<p>calculation phase before the actual gen-</p>
<p>eration has started. This option will persist</p>
<p>these modifications.</p>
<p>--syn-</p>
<p>cSystemDescription</p>
<p>-</p>
<p>no</p>
<p>Performs the synchronization of the Sys-</p>
<p>tem Description after loading the project.</p>
<p>This might modify the project, so please</p>
<p>consider also the usage of the --savePro-</p>
<p>ject option.</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>--genType </p>
<p>1</p>
<p>&lt;GEN_</p>
<p>TYPE&gt;</p>
<p>no</p>
<p>Specifies the generation process type</p>
<p>(&quot;&quot;NORMAL&quot;&quot; =&gt; Real Target or &quot;&quot;VTT&quot;&quot;</p>
<p>=&gt; vVIRTUALtarget) Syntax: --genType</p>
<p>&lt;GEN_TYPE&gt; E.g. NORMAL</p>
<p>If no --genType is set, the default depends</p>
<p>on the &lt;TargetType&gt;-setting from dpa file.</p>
<p>--keepGenTempFiles</p>
<p>-</p>
<p>no</p>
<p>Keeps the temporary files created during</p>
<p>generation after the generation process is</p>
<p>finished.</p>
<p>The options<b> --generate</b> and<b> --validate</b> are mutual exclusive but one of them has to be specified.</p>
<p><b>9.5 Use Case DaVinci Configurator Execute Converter</b></p>
<p>The identifying option for this use case is -g.</p>
<p>The DaVinci Configurator converts the ECU configuration.</p>
<p><b>Usage Example</b></p>
<p>DVCfgCmd --project Project.dpa --convert</p>
<p>DVCfgCmd --project Project.ecuc.arxml --convert</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-p, --project</p>
<p>1</p>
<p>&lt;DPA-FILE&gt;</p>
<p>yes</p>
<p>Specifies the absolute path to the DPA project</p>
<p>file or the ECUC file.</p>
<p>-c, --convert</p>
<p>-</p>
<p>yes</p>
<p>Convert the given project specified in &lt;DPA-</p>
<p>FILE&gt;.</p>
<p>--convertArg</p>
<p>n</p>
<p>&lt;CONVERT_</p>
<p>ARGS&gt;</p>
<p>no</p>
<p>Passes arguments to the specified converter.</p>
<p>Syntax: --con-</p>
<p>vertArg=&quot;&quot;&lt;NAMESPACE&gt;:&lt;Argument&gt;&quot;&quot;.</p>
<p>The Namespace is the namespace defined by</p>
<p>the converter</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 161-</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 162-</p>
<p><b>9.6 Use Case EcucUpdater (without GUI)</b></p>
<p>The identifying option for this use case is -u.</p>
<p><b>Usage Example</b></p>
<p>DVCfgCmd -u D:\TEMP\MyProj\MyProject.dpa</p>
<p>DVCfgCmd -u D:\TEMP\MyProj\MyProject.dpa -e D:\TEMP\MyPro-</p>
<p>j\extract1.arxml,D:\TEMP\MyProj\extract2.arxml --ecu myInstance</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-u, --updateProject</p>
<p>1</p>
<p>&lt;DPA-FILE&gt;</p>
<p>yes</p>
<p>The DPA file of the project which</p>
<p>shall be updated</p>
<p>-e, --extract</p>
<p>1</p>
<p>&lt;FILE&gt;</p>
<p>no</p>
<p>The system extract file(s). Separate</p>
<p>multiple files by a ','</p>
<p>--ecuInstance</p>
<p>-</p>
<p>depend</p>
<p>The Ecu instance name, mandatory</p>
<p>for system description. Not man-</p>
<p>datory for system extract.</p>
<p>--psc</p>
<p>1</p>
<p>&lt;FILE&gt;</p>
<p>no</p>
<p>Path to the Project Standard Con-</p>
<p>figuration file(s). Separate multiple</p>
<p>files by a ','</p>
<p>--odx</p>
<p>3</p>
<p>&lt;ODX-FILE&gt;</p>
<p>&lt;ECU&gt;</p>
<p>&lt;VARIANT&gt;</p>
<p>no</p>
<p>Path to ODX file, ODX ECU, ODX</p>
<p>VARIANT</p>
<p>--csv</p>
<p>1&lt;FILE&gt;</p>
<p>depend</p>
<p>Path to the State Description file</p>
<p>If an ODX 2.0.1 Diagnostic Descrip-</p>
<p>tion file is used, an additional State</p>
<p>description will be required.</p>
<p>--did</p>
<p>-</p>
<p>no</p>
<p>Import DIDs and RIDs as single sig-</p>
<p>nal. This settings is only relevant for</p>
<p>ODX input files.</p>
<p>--cdd</p>
<p>3</p>
<p>&lt;CDD</p>
<p>1</p>
<p>-FILE&gt;</p>
<p>&lt;ECU&gt;</p>
<p>&lt;VARIANT&gt;</p>
<p>no</p>
<p>Path to CDD file, CDD ECU, CDD</p>
<p>VARIANT</p>
<p>--patch</p>
<p>1</p>
<p>&lt;FILE&gt;</p>
<p>no</p>
<p>Diagnostic Description Patch File</p>
<p>1</p>
<p>(Complex Drivers) The Complex Drivers are software modules that are not standardized by</p>
<p>AUTOSAR. They have access to other BSW modules, the RTE and direct hardware access. For</p>
<p>example, these modules are not standardized communication drivers for SPI or legacy software.</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>--onlyEcuc</p>
<p>-</p>
<p>no</p>
<p>If no argument is passed, the com-</p>
<p>plete update is performed (including</p>
<p>DaVinci Developer workspace). If --</p>
<p>onlyEcuc is set, only ECUC is</p>
<p>updated, without the DaVinci</p>
<p>Developer workspace.</p>
<p>The options<b> --cdd</b> and<b> --odx</b> are mutual exclusive.</p>
<p>At least one of<b> --cdd</b>,<b> --odx</b> and<b> --extract</b> must be specified.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 163-</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 164-</p>
<p><b>9.7 Use Case DaVinci Configurator Exporter (without GUI)</b></p>
<p>The identifying option for this use case is --exportDir.</p>
<p>The DaVinci Configurator exports different types of AUTOSAR arxml files. For example files per vari-</p>
<p>ant in a variant project.</p>
<p><b>Usage Example</b></p>
<p>DVCfgCmd --project Project.dpa --exportDir ./exportDir --exportPostbuildVariants</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>-p, --project</p>
<p>1</p>
<p>&lt;DPA-File&gt;</p>
<p>yes</p>
<p>Specifies the absolute path</p>
<p>to the DPA project file</p>
<p>--exportDir</p>
<p>1</p>
<p>&lt;DIR&gt;</p>
<p>yes</p>
<p>Specifies the directory to</p>
<p>export the data into.</p>
<p>--exportPostbuildVariants</p>
<p>-</p>
<p>yes</p>
<p>Export the Post-build vari-</p>
<p>ants into.</p>
<p>This will export the Active-</p>
<p>Ecuc and miscellaneous</p>
<p>data</p>
<p>- Active Ecuc export into</p>
<p>one file (even for split</p>
<p>DPA-projects) per variant</p>
<p>&lt;project-name&gt;.&lt;variant-</p>
<p>name&gt;.ecuc.arxml</p>
<p>- Miscellaneous data into</p>
<p>one file per variant.</p>
<p>The files contain all data of</p>
<p>the project except:</p>
<p>* ModuleConfigurations,</p>
<p>ModuleDefinitions</p>
<p>* BswImplementations,</p>
<p>EcuConfigurations</p>
<p>* Variant information like</p>
<p>EvaluatedVariantSet</p>
<p>&lt;project-name&gt;.&lt;variant-</p>
<p>name&gt;.misc.arxml</p>
<p>--listAvailableExporterIds</p>
<p>-</p>
<p>no</p>
<p>--exportWithExporterId</p>
<p>1</p>
<p>no</p>
<p>Exports the loaded project</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>&lt;EXPORTER_ID&gt;</p>
<p>with the selected exporter.</p>
<p>This will create a file</p>
<p>named Exported_</p>
<p>&lt;EXPORTER_ID&gt;.arxml in</p>
<p>the folder specified by --</p>
<p>exportDir.</p>
<p>An &lt;EXPORTER_ID&gt; could</p>
<p>be retrieved with the --</p>
<p>listAvailableExporterIds</p>
<p>argument.</p>
<p>All options starting with --export (except --exportDir) are mutual exclusive.</p>
<p>At least one --export option or --listAvailableExporterIds must be specified.</p>
<p><b>9.8 Use Case DaVinci Configurator Sign Script</b></p>
<p>The DaVinci Configurator creates a signature for workflow scripts.</p>
<p><b>Usage Example</b></p>
<p>DVCfgCmd --sign MyScript.py</p>
<p><b>Option</b></p>
<p><b>Arguments</b></p>
<p><b>Mandatory</b></p>
<p><b>Description</b></p>
<p>--sign</p>
<p>1</p>
<p>&lt;SCRIPT_FILE&gt;</p>
<p>yes</p>
<p>Specifies the script file so sign.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 165-</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 166-</p>
<p><b>9.9 Return Codes</b></p>
<p><b>Name</b></p>
<p><b>Integer-Value</b></p>
<p><b>Description</b></p>
<p>EXIT_OK</p>
<p>0</p>
<p>ALL_OK in BaseEcuC,</p>
<p>Updater and Gen: Con-</p>
<p>figuration loaded</p>
<p>without errors, gen-</p>
<p>erated without errors.</p>
<p>EXIT_NOT_OK</p>
<p>1</p>
<p>Exit object indicating</p>
<p>abnormal termination</p>
<p>EXIT_NO_WORKSPACE_PATH</p>
<p>2</p>
<p>Indicating no work-</p>
<p>space path</p>
<p>EXIT_NO_ACTION</p>
<p>3</p>
<p>Indicating no action</p>
<p>specified</p>
<p>EXIT_INVALID_SIP</p>
<p>4</p>
<p>Configuration could not</p>
<p>be opened.</p>
<p>EXIT_NO_PARAMETERS</p>
<p>5</p>
<p>Indicating missing</p>
<p>parameters</p>
<p>EXIT_INVALID_COMMANDLINE_ARGS</p>
<p>6</p>
<p>Invalid generation</p>
<p>paths.</p>
<p>EXIT_UNHANDLED_EXCEPTION</p>
<p>7</p>
<p>Unexpected error</p>
<p>occured.</p>
<p>EXIT_BASE_ECUC_GENEARTOR_</p>
<p>ERROR</p>
<p>10</p>
<p>EXIT_UPDATER_ERROR</p>
<p>11</p>
<p>Additional Information</p>
<p><b>Command Line Parameters of the DaVinci Con-</b></p>
<p><b>figurator</b></p>
<p>User Manual Startup with</p>
<p>GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>10 Variant Handling</b></p>
<p><b>10.1 Define Criterion and Variants</b></p>
<p>If you use variant handling within your project you have to define your variants first.</p>
<p>After you setup your project, open the<b> Project Settings Editor</b> via settings icon</p>
<p>1</p>
<p>and select</p>
<p><b>Variants</b>.</p>
<p>Select the Edit Variance icon</p>
<p>2</p>
<p>to add criterion, define criterion values and map criterion values to vari-</p>
<p>ants.</p>
<p>1</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 167-</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 168-</p>
<p>1.</p>
<p>Add<b> [+]</b> new Criterion.</p>
<p><b>Note</b></p>
<p>The DaVinci Configurator Pro is currently limited to a single criterion. This criterion can be</p>
<p>used for<b> diagnostic</b> and<b> communication</b> variance.</p>
<p>2.</p>
<p>Add<b> [+]</b> one criterion value for each variant.</p>
<p>3.</p>
<p>Go on with<b> [Next &gt;]</b></p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>4.</p>
<p>Add<b> [+]</b> your Variants</p>
<p>5.</p>
<p>Define Criteria Value for your Variants</p>
<p>6.</p>
<p>Go on with<b> [Next&gt;]</b> to see a summary of your definitions or<b> [Finish]</b> to come back to Variants</p>
<p>view.</p>
<p>After finishing variant definition, the tool enters to<b> PENDING UPDATE</b> project state.</p>
<p><b>Note</b></p>
<p>The DaVinci Configurator Pro is currently limited to a single criterion. This criterion can be</p>
<p>used for<b> diagnostic</b> and<b> communication</b> variance.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 169-</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 170-</p>
<p><b>10.2 Add and Assign Input Files to Variants</b></p>
<p>Open Input Files editor via<b> Project | Input Files</b> or use the input file button</p>
<p>1</p>
<p>of DaVinci Configurator</p>
<p>Pro toolbar.</p>
<p>Select<b> System Description Files</b> and add your Input Files via Add File Sets icon</p>
<p>2</p>
<p>. The Add File Set</p>
<p>Assistant opens.</p>
<p><b>Note</b></p>
<p>The following step is necessary for each variant.</p>
<p>Select the<b> Post-Build Criterion Value</b> (Variant) your input file will be valid and go on with<b> [Next</b></p>
<p><b>&gt;]</b>. Add<b> [+]</b> your input file(s), select your ECU Instance and confirm with<b> [Finish]</b>.</p>
<p>After adding and assigning your input files our project is still in PENDING UPDATE state.</p>
<p>Select<b> Update the configuration now to commit the project modifications</b> to start update pro-</p>
<p>cess.</p>
<p>1</p>
<p>2</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Cross Reference</b></p>
<p>What happens while Update Process? See section STEP2 Define Project Settings on page</p>
<p>32.</p>
<p><b>10.3 Define Variance for BSW Modules</b></p>
<p>Open Project Settings Editor via<b> Project</b> |<b> Project Settings</b> or use project settings icon</p>
<p>1</p>
<p>at DaVinci</p>
<p>Configurator Pro toolbar.</p>
<p>Select<b> Modules</b> to see all modules currently activated for your project.</p>
<p>For each BSW module define if it supports variance or not. Therefore choose<b> Implementation Vari-</b></p>
<p><b>ant</b>.</p>
<p><b>&gt; VARIANT-POST-BUILD-SELECTABLE</b></p>
<p>No post-build loadable update of the configuration at post-build time. All variants are configured at</p>
<p>pre-compile time.</p>
<p><b>&gt; VARIANT-POST-BUILD-LOADABLE-SELECTABLE</b></p>
<p>post-build loadable update of the configuration data is supported using MICROSAR Post-Build Load-</p>
<p>able. This feature required dedicated licensing.</p>
<p><b>Note</b></p>
<p>Multi selection is possible within module view of the DaVinci Configurator Pro, this enables</p>
<p>you to set variance for several BSW modules at the same time.</p>
<p><b>10.4 Configure and Validate BSW</b></p>
<p>The DaVinci Configurator Pro highlights variant parameter and container using a brown</p>
<p>. When chan-</p>
<p>ging the configuration it has to be considered whether the change shall be applied to all variants or if</p>
<p>12</p>
<p>2</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 171-</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 172-</p>
<p>the change shall be done only for one variant.</p>
<p><b>Note</b></p>
<p>You can select your<b> Active Variant</b> at the DaVinci Configurator toolbar.</p>
<p>To define a value for a single variant only, right-click on parameter, select<b> Edit variance</b> and define</p>
<p>variant (<b>Value</b>).</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Note</b></p>
<p>The validation view includes views for each variant.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 173-</p>
<p>Additional Information</p>
<p><b>Variant Handling</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 174-</p>
<p><b>11 Add Module Stubs From AUTOSAR Definition</b></p>
<p>In some cases it is necessary to add a module, which is not delivered within your SIP, e.g. a delivered</p>
<p>module (DCM) needs references and interfaces to a not delivered module (NVM), otherwise the val-</p>
<p>idation fails.</p>
<p>To avoid validation and generation errors you have to add the required module according to AUTOSAR</p>
<p>standard definition. Therefore open<b> Project Settings Editor</b>, select<b> Modules</b> and open Modules</p>
<p>Assistant via add<b> [+]</b>.</p>
<p>Choose<b> Select from AUTOSAR Standard Definition</b> and go on with<b> [Next]</b>, select the required</p>
<p>module and confirm with<b> [Finish]</b>.</p>
<p>Additional Information</p>
<p><b>Add Module Stubs from AUTOSAR definition</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>Now the module is available at the<b> Basic Editor</b>. The module based on AUTOSAR Standard definition</p>
<p>needs to be configured basically with all necessary definitions required by the MICROSAR modules</p>
<p>within your project.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 175-</p>
<p>Additional Information</p>
<p><b>Add Module Stubs from AUTOSAR definition</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 176-</p>
<p><b>12 SIP Update</b></p>
<p>You received a newer version of your SIP. This requires an update of your current project. Therefore</p>
<p>open the project with the new version of the DaVinci Configurator Pro. The<b> DaVinciCFG.exe</b> is loc-</p>
<p>ated within the folder<i> &lt;UpdateSIP&gt;\DaVinciConfigurator\Core</i>.</p>
<p>The DaVinci Configurator Pro identifies that the project was created with an older SIP and displays the</p>
<p>following message. Select<b> Update the project by opening the project within the SIP of this</b></p>
<p><b>DaVinci Configurator instance</b> and click<b> OK</b>.</p>
<p>The update will performed. Wait until the DaVinci Developer project opens. Click<b> [Accept]</b> when the</p>
<p>warning message appears. Click<b> [Import]</b> in the next dialog.</p>
<p>The Signal Import Mode dialog opens, select<b> Use import mode for all remaining objects</b> and click</p>
<p><b>[OK]</b>. The dialog proposing to<b> Save and close now</b> opens, confirm with<b> [Yes]</b>.</p>
<p>The DaVinci Developer project is closed and the update of the DaVinci Configurator Pro project con-</p>
<p>tinues. Once the update finishes click<b> [Ok]</b>.</p>
<p>The project is now migrated to the new SIP.</p>
<p>Additional Information</p>
<p><b>SIP Update</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>13 Project Migration</b></p>
<p><b>13.1 Migration Steps from Release 15 SIP to Release 16</b></p>
<p>Open your existing configuration with the new SIP environment, i.e. Configurator 5.13.xx and execute</p>
<p><b>SolveAll</b>. After that, solve the remaining validation messages according to your knowledge. The fol-</p>
<p>lowing validation messages require further explanation:</p>
<p>1)<b> AR-ECUC02008 EthTSynGeneral contains a bigger number of parameter EthTSyn-</b></p>
<p><b>GmCapable than upperMultiplicity specifies.</b></p>
<p>This is a known issue appearing during SIP migration, which is easy to solve. Delete one of the two</p>
<p>parameters.</p>
<p>2)<b> AR-ECUC02039 The target of the reference value StbMEthGlobalTimeDomainRef(value-</b></p>
<p><b>e=&lt;SomeEthTSynGlobalTimeDomainContainer&gt;) must be a container of type Defin-</b></p>
<p><b>itionRef: /AUTOSAR/EcucDefs/</b>EthTSyn</p>
<p><b>1</b></p>
<p><b>/EthTSynGlobalTimeDomain.</b></p>
<p>This issue occurs, because of the introduced support of AR-4.2.x, which brings along the TimeSync</p>
<p>modules. The manually configured reference of the previous SIP needs to be re-configured, i.e. select</p>
<p>the appropriate container again from the list of available EthTSyn domains.</p>
<p><b>1</b></p>
<p>(Time Sync Over Ethernet) This module realizes the Ethernet specific time synchronization protocol</p>
<p>and references to IEEE Standard 802.1AS (( PTP). An access to the synchronized time base by the</p>
<p>SWCs requires the Synchronized Time-Base Manager (( StbM).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 177-</p>
<p>Additional Information</p>
<p><b>Project Migration</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 178-</p>
<p><b>IV Appendix</b></p>
<p><b>&gt;</b> FAQ</p>
<p><b>&gt;</b> Release Notes</p>
<p><b>&gt;</b> Whats new, whats changed</p>
<p><b>&gt;</b> Glossary</p>
<p><b>&gt;</b> Index</p>
<p>Appendix</p>
<p><b>Overview</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 Frequently Asked Questions</b></p>
<p>You have a certain question? You just want to know how to do e.g. a certain setting without</p>
<p>reading the whole document again? Then go on reading the following list and use the links</p>
<p>to get at the place in the document where your question will be answered. This chapter will</p>
<p>be extended continuously.</p>
<p><b>1.1 Problems with using two different DaVinci Configurator Versions on the same PC</b></p>
<p><b>You get problems with using DaVinci Configurator versions 5.10.xx and DaVinci Con-</b></p>
<p><b>fiugrator version 5.11.xx on the same PC?</b></p>
<p>Start your project with command line option<b> -clean</b> for solving Eclipse caching problems when DaVinci</p>
<p>Configurator versions 5.10.xx and older are used on the same PC with DaVinci Configurator version</p>
<p>5.11.xx and younger.</p>
<p><b>1.2 Annotations for any parameter</b></p>
<p><b>How to append an annotation to a parameter</b></p>
<p>For almost any parameter you can add individual annotations regardless whether you are in the Basic</p>
<p>Editor or in the Configuration Editor. Open the context menu of a parameter by clicking the little right-</p>
<p>pointing arrow and click<b> Add annotation</b>.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 179-</p>
<p>Appendix</p>
<p><b>FAQ</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 180-</p>
<p>The annotation editor will open. You can enter one or more annotations each with a headline and float-</p>
<p>ing text.</p>
<p>Via<b> Edit annotations</b> you can open and edit an already written annotation.</p>
<p>To read you annotations you can either open it via the editor or just by touching the little letter icon</p>
<p>with the mouse, its content will be displayed like shown below as an example.</p>
<p>Via a report (<b>Project|Report...</b>) it is possible to see all your annotations. Make sure to activate the</p>
<p>checkbox<b> Include annotations in report</b></p>
<p>Appendix</p>
<p><b>FAQ</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1.3 Find Reference Container</b></p>
<p><b>1.3.1 How to find references using the [Find] dialog</b></p>
<p>Open the<b> Find</b> dialog, type in<b> value==&quot;&quot;</b> and give a container name between the quotes.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 181-</p>
<p>Appendix</p>
<p><b>FAQ</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 182-</p>
<p><b>2 Release Notes</b></p>
<p>This section gives an overview of the changes which have been made on the MICROSAR Basic Soft-</p>
<p>ware Modules (BSW) within the last releases.</p>
<p>Listed changes are new features or the extension of existing functionality. Please note that this doc-</p>
<p>ument does not provide a list of fixed issues. Open issues are documented in the issue report doc-</p>
<p>ument IssueReport_&lt;CBD-Number&gt;.pdf, which is part of the deliveries documentation.</p>
<p>This section refers to Vector internal tracking numbers (ESCAN, DAVID tickets and Feature List num-</p>
<p>bers) which uniquely identify the changes.</p>
<p>Please refer also to the Technical References for more information on the changes, modifications or</p>
<p>extensions.</p>
<p>Changes to DaVinci Configurator Pro and DaVinci Developer are documented in Release Notes</p>
<p>provided along with the tools.</p>
<p><b>2.1 Release 16</b></p>
<p><b>Breaking Changes</b></p>
<p>Modification of existing functionality or APIs that can have an impact on existing applications (such as</p>
<p>SWCs, CDDs …).</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1915</p>
<p>WDGM</p>
<p>A new feature for checkpoint generation has</p>
<p>been added in this release of the WDGM. With</p>
<p>the switch &quot;WdgMGen-</p>
<p>erateCPIdAsPortDefinedArgument&quot; it can be influ-</p>
<p>enced if the checkpoint ID shall be generated as</p>
<p>a port-defined argument or a single port per</p>
<p>supervised entity is generated. Please note: To</p>
<p>be compatible to older versions of the WDGM</p>
<p>you need to enable this option. However, an</p>
<p>AUTOSAR compliant behavior is achieved by dis-</p>
<p>abling this functionality. By default this feature is</p>
<p>disabled.</p>
<p>FEAT-1964</p>
<p>DEM</p>
<p>Removed post-build selectable from EnableCondi-</p>
<p>tionGroup and StorageConditionGroup. Variable</p>
<p>groups of those types need to get duplicated and</p>
<p>referenced by the events of a variant.</p>
<p><b>Extension</b></p>
<p>New APIs have been introduced or functionality has been added. There is no influence on existing</p>
<p>implementations.</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1327</p>
<p>J1939DCM</p>
<p>The J1939DCM DM1 transmission is now ISOBUS</p>
<p>compliant (cyclically only if active instead of cyc-</p>
<p>lic)</p>
<p>FEAT-1413</p>
<p>SOAD</p>
<p>Service oriented communication for Linux (BSD</p>
<p>socket API enhancements for SOME/IP and Ser-</p>
<p>vice Discovery).</p>
<p>FEAT-1498</p>
<p>DaVinci Configurator Pro 5</p>
<p>TCPIP</p>
<p>It is now possible to mark TcpIp</p>
<p>1</p>
<p>(IPv6) address</p>
<p>prefixes as on-link during configuration time.</p>
<p>FEAT-1516</p>
<p>TCPIP</p>
<p>It is now possible to assign a static IPv4 address</p>
<p>in addition to an address assigned by DHCP (pri-</p>
<p>ority based).</p>
<p>Limitations:</p>
<p><b>&gt;</b> one assignment method of each type per</p>
<p>address</p>
<p><b>&gt;</b> one IPv4 address per logical controller</p>
<p>(VLAN, physical controller)</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1574</p>
<p>CAL</p>
<p>CPL</p>
<p>CRY</p>
<p>SECOC</p>
<p>New SECOC functionality:</p>
<p><b>&gt;</b> Generic Freshness value interface</p>
<p><b>&gt;</b> Provision of SecOC</p>
<p>2</p>
<p>_VerifyStatusOverride</p>
<p>API</p>
<p><b>&gt;</b> SecOCAuthInfoTxLength and SecOCFresh-</p>
<p>nessValueTxLength can have an arbitrary</p>
<p>size but must result in a full byte length</p>
<p>FEAT-1641</p>
<p>SD</p>
<p>The following AUTOSAR 4.3 features are now sup-</p>
<p>ported:</p>
<p><b>&gt;</b> [Issue 68746] Impact of configuration</p>
<p>options on service matching algorithm is</p>
<p>unspecified</p>
<p><b>&gt;</b> [Issue 68823] Switching of EventHandler</p>
<p>1</p>
<p>(TCP/IP Stack) This module contains all protocols for UDP and TCP-based communication. It supports</p>
<p>the versions IPv4 and IPv6 as well as parallel operation of IPv4 and IPv6 in one ECU. It contains the fol-</p>
<p>lowing protocols: - IPv4, ICMPv4 and ARP - IPv6, ICMPv6 and NDP - UDP, TCP, DHCPv4 (client) and</p>
<p>DHCPv6 (client)</p>
<p>2</p>
<p>(Secure Onboard Communication) The SecOC is used to send or receive authenticated messages.</p>
<p>Unauthorized, repeated or manipulated messages are detected. The SecOC is part of the AUTOSAR</p>
<p>security solution.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 183-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 184-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>from Unicast to Multicast</p>
<p>FEAT-1678</p>
<p>FLS (VTT)</p>
<p>VTT Control Layer</p>
<p>VTT memory stack now supports the AURIX Fee</p>
<p>1</p>
<p>in case of dual target projects.</p>
<p>FEAT-1723</p>
<p>DEM</p>
<p>Support for OBD major monitors.</p>
<p>Please note: This feature need to be licensed sep-</p>
<p>arately. OBD major monitors require a project</p>
<p>specific analysis of the requirements to the basic</p>
<p>software.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1724</p>
<p>DCM</p>
<p>DEM</p>
<p>Support for DTR (Diag Test Results) for OBD pro-</p>
<p>jects.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1726</p>
<p>DaVinci Configurator Pro 5</p>
<p>DaVinci Developer</p>
<p>RTE</p>
<p>RTE Nv ports can now be connected to S/R ports.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1738</p>
<p>ETHIF</p>
<p>Allow concatenated receive buffers that can be</p>
<p>smaller than max frame size.</p>
<p>FEAT-1770</p>
<p>DEM</p>
<p>Up to 255 Enable- and Storage-Conditions are</p>
<p>now supported.</p>
<p>FEAT-1791</p>
<p>RTE</p>
<p>SOMEIPXF</p>
<p>Support autonomous error responses from trans-</p>
<p>formers based on AUTOSAR 4.2.2 for SOMEIPXF.</p>
<p>FEAT-1807</p>
<p>CFG5 (DCM ARXML</p>
<p>Converter)</p>
<p>CFG5 (DEM ARXML</p>
<p>Converter)</p>
<p>DCM</p>
<p>Diagnostic Data Model</p>
<p>DCM diagnostic data now can be variant in con-</p>
<p>figurations that use the MICROSAR Identity Man-</p>
<p>ager.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1818</p>
<p>COM</p>
<p>Support the configuration switch minimum delay</p>
<p>time for cyclic transmission (Parameter &quot;ComEn-</p>
<p>1</p>
<p>(Flash EEPROM Emulation) The Fee module offers a hardware-independent interface for accessing</p>
<p>flash data and uses a flash driver (( Fls) for this. In addition to reading, writing and clearing data, the</p>
<p>Fee module also distributes write accesses to different areas of flash memory, so that all flash cells</p>
<p>are uniformly stressed, which increases their life-time.</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>ableMDTForCyclicTransmission&quot;).</p>
<p>FEAT-1820</p>
<p>Base EcuC Converter</p>
<p>DOIP</p>
<p>Improved Vehicle Announcement Handling for</p>
<p>DoIP</p>
<p>1</p>
<p>based on AUTOSAR [Issue 67021].</p>
<p>FEAT-1846</p>
<p>RTM</p>
<p><b>&gt;</b> RTM measurements can now be controlled</p>
<p>via CAPL without using the test feature set</p>
<p>UI. This allows integrating RTM into complex</p>
<p>test environments.</p>
<p><b>&gt;</b> Net runtime measurement support on multi-</p>
<p>core ECUs (Beta)</p>
<p><b>&gt;</b> Response time measurement on multi core</p>
<p>ECUs (Beta)</p>
<p>FEAT-1864</p>
<p>DRM</p>
<p>Release of DRM (Diagnostic Request Manager)</p>
<p>(CDDDRM)</p>
<p>FEAT-1889</p>
<p>CAN (VTT)</p>
<p>LIN (VTT)</p>
<p>VTT Control Layer</p>
<p>VTT TechnicalReference</p>
<p>VTT now supports the MICROSAR Identity Man-</p>
<p>ager and PB-Loadable for CAN and LIN.</p>
<p>The PB-Loadable update process is not supported</p>
<p>in VTT.</p>
<p>Note: FlexRay is also supported (since Release</p>
<p>15).</p>
<p>Note: This feature requires an IDM / PB-Load-</p>
<p>able license.</p>
<p>FEAT-1896</p>
<p>IPDUM</p>
<p>The nPduToFrame mapping as used to pack sev-</p>
<p>eral COM I-PDUs into one CAN-FD frame has</p>
<p>been extended:</p>
<p><b>&gt;</b> Last is best semantics for Tx PDUs</p>
<p><b>&gt;</b> Runtime optimization: Rx pathway only</p>
<p>handles PDUs that are actually required by</p>
<p>the ECU</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1899</p>
<p>DaVinci Configurator Pro 5</p>
<p>DaVinci Developer</p>
<p>DCM</p>
<p>DIAGXF</p>
<p>Introduction of DIAGXF module to support S/R</p>
<p>interaction with DCM.</p>
<p>This feature mandates a MICROSAR RTE.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p>1</p>
<p>(Diagnostics over IP) Since AR 4.1.1 the DoIP module contains diagnostic functionality according to</p>
<p>ISO 13400-2 like vehicle discovery. Up to and including AR 4.0.3, this functionality is part of the</p>
<p>Socket Adaptor (( SoAd).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 185-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 186-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>RTE</p>
<p><b>not be used for production.</b></p>
<p>FEAT-1908</p>
<p>All-MCALs</p>
<p>BSWM</p>
<p>CAN</p>
<p>FR</p>
<p>LIN</p>
<p>WDG</p>
<p>Access to interrupt controller register has been</p>
<p>updated to better support safety use-cases.</p>
<p>Per driver it is now possible to configure two</p>
<p>options via the parameter UseOsInterruptControl</p>
<p><b>&gt;</b> OS is in charge of the interrupt control</p>
<p>register. This new functionality mandates the</p>
<p>latest MICROSAR OS. The module no longer</p>
<p>initialized the interrupt control register by</p>
<p>itself but informs the OS. Register values are</p>
<p>derived through OS APIs. This setting is</p>
<p>recommended for SafeBSW projects.</p>
<p><b>&gt;</b> Same behavior as today: Depending on the</p>
<p>driver implementation (see its technical ref-</p>
<p>erence) a driver may perform the ini-</p>
<p>tialization of the interrupt control register</p>
<p>and accesses the relevant registers directly.</p>
<p>FEAT-1912</p>
<p>ETH Switch Driver</p>
<p>(Bcm8953x)</p>
<p>The switch driver has been extended to support</p>
<p>the AUTOSAR 4.2.1 frame mirroring and for-</p>
<p>warding extensions.</p>
<p><b>&gt;</b> CFP Rules for VLAN-filtering (mirroring)</p>
<p><b>&gt;</b> Reserved MAC multicast packets shall be for-</p>
<p>warded by the switch</p>
<p><b>&gt;</b> Mirroring VLAN double-tagging</p>
<p><b>&gt;</b> Enabling/disabling mirroring during runtime</p>
<p><b>&gt;</b> Mirroring filters</p>
<p>Please note that these features may not be avail-</p>
<p>able for each switch hardware.</p>
<p>FEAT-1922</p>
<p>DCM</p>
<p>Support for OBD2 Mode 0x09 with variable</p>
<p>length as required by primary OBD nodes with</p>
<p>multiple secondary nodes.</p>
<p>FEAT-1938</p>
<p>CRY</p>
<p>Software CRY now supports the CMAC AES-128</p>
<p>algorithm.</p>
<p>FEAT-1987</p>
<p>TSYNC ETH</p>
<p>The IEEE 802.AS Pdelay message configuration</p>
<p>is more flexible and allows the following options:</p>
<p><b>&gt;</b> Dynamic Pdelay protocol for time master and</p>
<p>slave</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p><b>&gt;</b> Optimized Pdelay configuration by time slave</p>
<p>Pdelay_Req. Time master answers with</p>
<p>Pdelay_Res and Pdelay_res_Follow_Up.</p>
<p><b>&gt;</b> Optionally a static Pdelay configuration can</p>
<p>cause Pdelay requests to be ignored.</p>
<p>FEAT-451</p>
<p>DaVinci Configurator Pro 5</p>
<p>DaVinci Developer</p>
<p>RTE</p>
<p>The RTE implements automatic scaling (offset</p>
<p>and factor) between a FixedPoint and Float.</p>
<p>Use-Case: network representation is FixedPoint</p>
<p>(with factor and offset) while the internal pro-</p>
<p>cessing is Float based.</p>
<p><b>Information</b></p>
<p>The internal behavior of the BSW has been improved without any change in the API. Only for inform-</p>
<p>ation purpose.</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1506</p>
<p>ETH Switch Driver</p>
<p>(Bcm8953x)</p>
<p>The Ethernet switch configuration has been</p>
<p>improved. Thus only used ports have to be con-</p>
<p>figured and pre-configured ports can be mapped</p>
<p>to any used port.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1513</p>
<p>CAN</p>
<p>CANIF</p>
<p>XCP On CAN</p>
<p>Release of CAN-FD functionality.</p>
<p>FEAT-1640</p>
<p>COM</p>
<p>Runtime improvement in the COM Rx signal noti-</p>
<p>fication handling:</p>
<p><b>&gt;</b> COM Rx signal notifications are now always</p>
<p>called with the interrupt not being locked by</p>
<p>the COM module</p>
<p><b>&gt;</b> The Rx signal notifications are called after a</p>
<p>configured amount of notifications has to be</p>
<p>called.</p>
<p><b>&gt;</b> An ISR lock threshold is configurable per tim-</p>
<p>ing domain.</p>
<p>FEAT-1701</p>
<p>FEE</p>
<p>The API ForceSectorSwitch now always causes</p>
<p>the sector to be switched. This shall result in a</p>
<p>more robust FEE in case of errors.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 187-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 188-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1779</p>
<p>SECOC</p>
<p>Release of SECOC module.</p>
<p>FEAT-1839</p>
<p>FEE (Small Sector Flash)</p>
<p>An alternative FEE implementation is now avail-</p>
<p>able that is specifically designed to support</p>
<p>devices with very small flash sectors. On such</p>
<p>devices (currently RH850) this implementation is</p>
<p>more robust and has less overhead.</p>
<p>FEAT-1886</p>
<p>IPDUM</p>
<p>Feature Release: 16bit IPDUM selector field val-</p>
<p>ues are now supported for production projects</p>
<p>FEAT-1888</p>
<p>NVM</p>
<p>The problem that RTE invokes the DET during</p>
<p>NvM ReadAll (ESCAN00087644) is now solved.</p>
<p>FEAT-1910</p>
<p>SOAD</p>
<p>Release of BSD-Socket API for series production</p>
<p>FEAT-1948</p>
<p>OSEKNM</p>
<p>Release of OSEK-NM implementation.</p>
<p><b>2.1.1 Required AUTOSAR Tools</b></p>
<p>This MICROSAR release requires the usage of the following tools:</p>
<p><b>Tool</b></p>
<p><b>Version</b></p>
<p>DaVinci</p>
<p>Developer</p>
<p><b>3.13.0</b></p>
<p>Please use the latest service pack available from the Vector download center</p>
<p>DaVinci</p>
<p>Configurator</p>
<p>Pro</p>
<p>The latest service pack version is delivered as part of the SIP. Upcoming service</p>
<p>packs can be retrieved from the Vector download center</p>
<p><b>2.2 Release 15</b></p>
<p><b>Breaking Changes</b></p>
<p>Modification of existing functionality or APIs that can have an impact on existing applications (such as</p>
<p>SWCs, CDDs …).</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1631</p>
<p>Asr4NmStMgr_Renault</p>
<p>CANNM</p>
<p>COM</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>FRIF</p>
<p>FRNM</p>
<p>The semantics of the TriggerTransmit APIs have</p>
<p>been changed and are now in line with AUTOSAR</p>
<p>4.2.2:</p>
<p><b>&gt;</b> The PduInfo.SduLength parameter is now a</p>
<p>in/out parameter</p>
<p><b>&gt;</b> The lower layer provides the maximum avail-</p>
<p>able buffer to the higher layer module</p>
<p><b>&gt;</b> The higher layer module copies the data (as</p>
<p>in the past) and informs the lower layer mod-</p>
<p>ule on the actual size of the data by updating</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>IPDUM</p>
<p>LDCOM</p>
<p>OSEKNM</p>
<p>PDUR</p>
<p>RTE</p>
<p>SECOC</p>
<p>SOAD</p>
<p>TSYNC FR</p>
<p>UDPNM</p>
<p>the SduLegth parameter</p>
<p>Impact to existing projects:</p>
<p>If the application implements TriggerTransmit</p>
<p>APIs the handling of the SduLength parameter</p>
<p>must be adapted as described above.</p>
<p>FEAT-1644</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>IPDUM</p>
<p>J1939DCM</p>
<p>J1939NM</p>
<p>J1939RM</p>
<p>Support of Request2 support for complex drivers</p>
<p>and RTE.</p>
<p>IPDUM now supports the meta data handling as</p>
<p>required by J1939 services.</p>
<p><b>Impact on existing projects:</b></p>
<p>The API of J1939Rm</p>
<p>1</p>
<p>have been changed and</p>
<p>need to be adapted if being used. The following</p>
<p>APIs have been an updated signature:</p>
<p><b>&gt;</b> J1939Rm_SendRequest</p>
<p><b>&gt;</b> J1939Rm_SendAck</p>
<p><b>Extension</b></p>
<p>New APIs have been introduced or functionality has been added. There is no influence on existing</p>
<p>implementations.</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1347</p>
<p>SOAD</p>
<p>TCPIP</p>
<p>TLS</p>
<p>2</p>
<p>TLS is now a plug-in of the TCPIP module</p>
<p><b>&gt;</b> TLS handling / usage is largely transparent</p>
<p>for upper layers</p>
<p><b>&gt;</b> TLS can be configured per socket separately</p>
<p>FEAT-1485</p>
<p>CANIF</p>
<p>Support of N:1 and 1:N multi-frame transport</p>
<p>protocol routing paths. During runtime all of the</p>
<p>1</p>
<p>(SAE J1939 Request Manager) The J1939Rm module implements requesting of data via Request Hand-</p>
<p>ling that is defined in the SAE J1939 protocol.</p>
<p>2</p>
<p>(Transport Layer Security) This module contains a Transport Layer Security client. The TCP-based</p>
<p>communication is encrypted with TLS. The encryption algorithm used can be selected.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 189-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 190-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>CANTP</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>FRIF</p>
<p>FRTP</p>
<p>IPDUM</p>
<p>J1939TP</p>
<p>LINIF</p>
<p>LINTP</p>
<p>PDUR</p>
<p>SOAD</p>
<p>possible N sources can be active.</p>
<p>This feature is useful for gateways that are e.g.</p>
<p>implemented in varying EE architectures.</p>
<p>FEAT-1503</p>
<p>IPDUM</p>
<p>Added several new features to the IPDUM (Con-</p>
<p>tainer PDU Handling):</p>
<p><b>&gt;</b> FlexRay now supported</p>
<p><b>&gt;</b> Big endian container headers</p>
<p><b>&gt;</b> Tx confirmation and timeout handling</p>
<p><b>&gt;</b> Runtime optimization (deferred event cach-</p>
<p>ing)j</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1605</p>
<p>DEM</p>
<p>J1939DCM</p>
<p>Support for additional J1939 diagnostic mes-</p>
<p>sages:</p>
<p><b>&gt;</b> DM5: Diagnostic Readiness 1</p>
<p><b>&gt;</b> DM27: All Pending DTCs</p>
<p><b>&gt;</b> DM53: Active Service Only DTCs</p>
<p><b>&gt;</b> DM54: Previously Active Service Only DTCs</p>
<p><b>&gt;</b> DM55: Clear All Service Only DTCs</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1637</p>
<p>OS</p>
<p>The new MICROSAR OS generation now supports</p>
<p>the OS Service Interface towards the applic-</p>
<p>ation.</p>
<p>Note:</p>
<p>This feature is only available for projects using</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>the new (Gen7) OS.</p>
<p>FEAT-1657</p>
<p>Base EcuC Converter</p>
<p>CANIF</p>
<p>COM</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>DaVinci Configurator Pro 5</p>
<p>FRIF</p>
<p>IPDUM</p>
<p>PDUR</p>
<p>SOAD</p>
<p>If the system description maps a single PDU to</p>
<p>multiple frames this results not in the same map-</p>
<p>ping within the ECUC configuration i.e. there will</p>
<p>now be a single PDU only. Such kind of mapping</p>
<p>is supported for CANIF, FRIF or SOAD PDUs.</p>
<p>Up to now, this resulted in multiple higher layer</p>
<p>PDUs.</p>
<p><b>&gt;</b> reduction of configuration effort</p>
<p><b>&gt;</b> RAM and runtime reduction</p>
<p>FEAT-1689</p>
<p>TSYNC ETH</p>
<p>Support Time Master &amp; Time Slave functionality</p>
<p>in parallel (required for Time Gateway).</p>
<p>Note:</p>
<p><b>&gt;</b> Only a single slave port is supported</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1691</p>
<p>TSYNC ETH</p>
<p>Improved time synchronization by EthTSyn</p>
<p>1</p>
<p>:</p>
<p><b>&gt;</b> RateCorrection as OffsetCorrection</p>
<p><b>&gt;</b> FrequencyRateCorrection below and above</p>
<p>SynchronizationThreshold</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1694</p>
<p>ETH Switch Driver</p>
<p>(Bcm8950x)</p>
<p>STBM</p>
<p>TSYNC CAN</p>
<p>TSYNC ETH</p>
<p>TSYNC FR</p>
<p>Added synchronized time features</p>
<p><b>&gt;</b> Time gateway is now supported</p>
<p><b>&gt;</b> EthTSyn supports boundary clock on each</p>
<p>time master port</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>1</p>
<p>(Time Sync Over Ethernet) This module realizes the Ethernet specific time synchronization protocol</p>
<p>and references to IEEE Standard 802.1AS (( PTP). An access to the synchronized time base by the</p>
<p>SWCs requires the Synchronized Time-Base Manager (( StbM).</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 191-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 192-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1698</p>
<p>DOIP</p>
<p>DoIP now supports UUDT (Unacknowledged</p>
<p>Unsegmented Data Transfer, ISO13400) as</p>
<p>defined by AUTOSAR 4.2.2</p>
<p>FEAT-1731</p>
<p>LINIF</p>
<p>J2602 frame tolerance support allowing to spe-</p>
<p>cify. For LIN rx frames a specific tolerance as</p>
<p>one common tolerance for the LIN tx frames.</p>
<p>Frame tolerance is considered in the definition</p>
<p>and validation of the schedule table slot delays.</p>
<p>FEAT-1741</p>
<p>TLS</p>
<p>TLS extensions for in-vehicle use case</p>
<p><b>&gt;</b> Support of Certificate Revocation List</p>
<p><b>&gt;</b> Support of TLS_ECDHE_ECDSA_WITH_AES_</p>
<p>128_GCM_SHA256 (Secp256r1)</p>
<p><b>&gt;</b> Support of server-certificate validation and</p>
<p>client-certificate presentation (TLS Client)</p>
<p><b>Information</b></p>
<p>The internal behavior of the BSW has been improved without any change in the API. Only for inform-</p>
<p>ation purpose.</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1201</p>
<p>TSYNC ETH</p>
<p>QM release of EthTSyn module</p>
<p>FEAT-1427</p>
<p>DLT</p>
<p>QM release of DLT (AUTOSAR) module.</p>
<p>FEAT-1449</p>
<p>DOIP</p>
<p>SD</p>
<p>UDPNM</p>
<p>QM release of the following Ethernet related mod-</p>
<p>ules:</p>
<p><b>&gt;</b> UdpNm</p>
<p>1</p>
<p><b>&gt;</b> DoIP</p>
<p><b>&gt;</b> Sd</p>
<p>2</p>
<p>FEAT-1619</p>
<p>DaVinci Configurator Pro 5</p>
<p>RTE</p>
<p>VTT Control Layer</p>
<p>The configuration workflow of RTE configuration</p>
<p>for VTT hooks has been changed:</p>
<p><b>&gt;</b> The VTT tool no longer adapts the generated</p>
<p>code of the RTE. Instead the VTT tool require-</p>
<p>ments are communicated to the RTE using</p>
<p>dedicated VTT VFB Trace Function con-</p>
<p>1</p>
<p>(UDP Network Management) You use network management over UDP to implement synchronous</p>
<p>transition to sleep mode for Ethernet ECUs.</p>
<p>2</p>
<p>(Service Discovery) Service Discovery was first specified in AR 4.1.1. An ECU communicates the</p>
<p>availability of its services to communication partners via the publish-subscribe protocol implemented</p>
<p>in this module. In addition, ECUs can register to receive automatic notifications, e.g. on a signal</p>
<p>update.</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>figuration elements within the RTE con-</p>
<p>figuration prior to RTE generation.</p>
<p>FEAT-1650</p>
<p>SECOC</p>
<p>Improved SecOC usability by additional val-</p>
<p>idation rules in DaVinci Configurator Pro:</p>
<p><b>&gt;</b> Truncated Freshness Value + Tx Authentic-</p>
<p>ator + Authentic Pdu Length must be equal</p>
<p>Secured Pdu Length</p>
<p><b>&gt;</b> Auth Info Tx Length and Freshnessvalue Tx</p>
<p>Length must be a multiple of 8</p>
<p><b>&gt;</b> A Freshness Value ID should not be used</p>
<p>twice</p>
<p><b>&gt;</b> Freshness Timestamp Feature is not sup-</p>
<p>ported</p>
<p><b>&gt;</b> If a Verification Status Callout is configured</p>
<p>at least one SecOCVeri-</p>
<p>ficationStatusPropagationMode must be !=</p>
<p>NONE</p>
<p><b>&gt;</b> Correct types for SecOCMaxAlignScalarType</p>
<p>parameter</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1687</p>
<p>Fr</p>
<p>1</p>
<p>(VTT)</p>
<p>VTT Control Layer</p>
<p>VTT-Tool</p>
<p>VTTFr now supports PB-Loadable and PB-Select-</p>
<p>able (Identity Manager).</p>
<p>FEAT-421</p>
<p>RTE</p>
<p>QM release of RTE inter ECU client/server com-</p>
<p>munication.</p>
<p>FEAT-441</p>
<p>RTE</p>
<p>QM release of RTE S/R serialization.</p>
<p><b>2.2.1 Required AUTOSAR Tools</b></p>
<p>This MICROSAR release requires the usage of the following tools:</p>
<p><b>Tool</b></p>
<p><b>Version</b></p>
<p>DaVinci</p>
<p>Developer</p>
<p><b>3.12.x</b></p>
<p>Please use the latest service pack available from the Vector download center</p>
<p>DaVinci</p>
<p>Configurator</p>
<p>Pro</p>
<p>The latest service pack version is delivered as part of the SIP. Upcoming service</p>
<p>packs can be retrieved from the Vector download center</p>
<p>1</p>
<p>(FlexRay Driver ) The FlexRay Driver abstracts access to the FlexRay hardware for sending and</p>
<p>receiving data and for switching between controller states.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 193-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 194-</p>
<p><b>2.3 Release 14</b></p>
<p><b>Breaking Changes</b></p>
<p>Modification of existing functionality or APIs that can have an impact on existing applications (such as</p>
<p>SWCs, CDDs …).</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-10</p>
<p>Base EcuC Converter</p>
<p>DOIP</p>
<p>PDUR</p>
<p>SOAD</p>
<p>TCPIP</p>
<p>The DoIP implementation is now based on</p>
<p>AUTOSAR 4.2.1.</p>
<p>The following callback signatures have been</p>
<p>changed and now comply with AUTOSAR 4.2.1:</p>
<p><b>&gt;</b> &lt;User_GetVin&gt;</p>
<p><b>&gt;</b> &lt;User_GetDiagPowerMode&gt;</p>
<p><b>&gt;</b> &lt;User_GetGid&gt;</p>
<p>the following user callbacks have been added:</p>
<p><b>&gt;</b> &lt;User_TriggerGidSync&gt;</p>
<p><b>&gt;</b> &lt;User_ActivationLineState&gt;</p>
<p><b>&gt;</b> &lt;User_RoutingActivationAuthentication&gt;</p>
<p><b>&gt;</b> &lt;User_RoutingActivationConfirmation&gt;</p>
<p>For more details please refer to the DoIP Tech-</p>
<p>nical Reference document.</p>
<p>NOTE: The upstream mapping is based on</p>
<p>AUTOSAR 4.2.2 as it is not defined in earlier ver-</p>
<p>sions.</p>
<p>Impact to existing projects:</p>
<p>If DoIP user-callbacks are used, the imple-</p>
<p>mentation may have to be adapted according to</p>
<p>the new interface.</p>
<p>FEAT-1713</p>
<p>FIM</p>
<p>The following FIM features have been dis-</p>
<p>continued as these are apparently not being used</p>
<p>any more:</p>
<p><b>&gt;</b> cyclic event evaluation: Supported value:</p>
<p>FiMGeneral[FiMEventUp-</p>
<p>dateTriggeredByDem] = TRUE: MICROSAR</p>
<p>DEM always uses TRUE as mandated value.</p>
<p><b>&gt;</b> calibration support: Supported value:</p>
<p>FiMGeneral[FiMDataFixed] = FALSE: Con-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>figuration update can be realized using post-</p>
<p>build loadable instead.</p>
<p><b>Impact on existing projects:</b></p>
<p>If the discontinued features have been used:</p>
<p>Please check with your Vector contact in order to</p>
<p>find a replacement for the discontinued func-</p>
<p>tionality.</p>
<p>FEAT-1776</p>
<p>ETM</p>
<p>The Ethernet test module ETI has been renamed</p>
<p>to ETM.</p>
<p>Impact to existing projects:</p>
<p><b>&gt;</b> API names have been changed. Access to</p>
<p>APIs need to be adapted.</p>
<p><b>&gt;</b> BSWMD names have been changed. Con-</p>
<p>figuration need to be reworked.</p>
<p><b>Extension</b></p>
<p>New APIs have been introduced or functionality has been added. There is no influence on existing</p>
<p>implementations.</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1295</p>
<p>OSEKNM</p>
<p>OSEK-NM now supports post-build selectable</p>
<p>(MICROSAR Identity Manager) and post-build</p>
<p>loadable.</p>
<p>Note: These features require dedicated licens-</p>
<p>ing.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1357</p>
<p>XCP</p>
<p>For safety critical ECUs (ISO26262) it is now pos-</p>
<p>sible to deactivate the XCP module in a safe way</p>
<p>during normal operation. Using a dedicated API</p>
<p>the application can enable XCP handling. Once</p>
<p>XCP is enabled the XCP module is no longer a</p>
<p>safe module from implementation perspective.</p>
<p>Note: This feature requires dedicated licensing</p>
<p>of MICROSAR SafeBSW for XCP.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 195-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 196-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1370</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>The CDD</p>
<p>1</p>
<p>interface for communication PDUs</p>
<p>now supports PDUs to be variant. The imple-</p>
<p>mentation of the complex driver shall use the</p>
<p>complex driver APIs in a variant specific way.</p>
<p>FEAT-1429</p>
<p>CAN</p>
<p>CANIF</p>
<p>The CAN stack High-End option allows a more</p>
<p>efficient CAN stack realization by the following</p>
<p>new features:</p>
<p><b>&gt;</b> Support of several CAN driver basic Tx</p>
<p>objects</p>
<p><b>&gt;</b> The queue type can be configured for each Tx</p>
<p>BasicCAN object individually (e.g. including</p>
<p>the depth of each queue)</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1436</p>
<p>Base EcuC Converter</p>
<p>COM</p>
<p>Com</p>
<p>2</p>
<p>Validation Lib</p>
<p>VASE Scripting</p>
<p>The COM module has been extended with several</p>
<p>features that increase performance:</p>
<p><b>&gt;</b> Support of multiple COM main functions with</p>
<p>different timing domains. This can reduce the</p>
<p>overall runtime of COM MainFunctions</p>
<p><b>&gt;</b> Optimized handling of deferred events</p>
<p>(queue instead of a linear search)</p>
<p><b>&gt;</b> Optional Signals and Signal Groups. It is now</p>
<p>possible to configure if a Signal is accessed</p>
<p>or not</p>
<p><b>&gt;</b> Description Based Routing allows a more effi-</p>
<p>cient implementation of a signal gateway</p>
<p>Note: Description based routing requires ded-</p>
<p>icated licensing</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1481</p>
<p>TCPIP</p>
<p>IPv4 fragmentation support. Required to send</p>
<p>and receive UDP packets with more than 1472</p>
<p>1</p>
<p>(Complex Drivers) The Complex Drivers are software modules that are not standardized by</p>
<p>AUTOSAR. They have access to other BSW modules, the RTE and direct hardware access. For</p>
<p>example, these modules are not standardized communication drivers for SPI or legacy software.</p>
<p>2</p>
<p>(Communication) The Com module provides a signal-based data interface for the RTE. It places sig-</p>
<p>nals in messages and sends them according to the defined send type. The module contains various noti-</p>
<p>fication mechanisms for receiving signals. It also manages initial values, update bits and timeouts on</p>
<p>the signal level. In multi-channel ECUs, the integrated signal gateway offers the ability to route signals</p>
<p>between the communication buses.</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>bytes.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1485</p>
<p>CANIF</p>
<p>CANTP</p>
<p>Communication Interface</p>
<p>Complex Driver</p>
<p>FRIF</p>
<p>FRTP</p>
<p>IPDUM</p>
<p>J1939TP</p>
<p>LINIF</p>
<p>LINTP</p>
<p>PDUR</p>
<p>SOAD</p>
<p>Support of N:1 and 1:N multi-frame transport</p>
<p>protocol routing paths from configuration point</p>
<p>of view. At runtime only one of the N possible</p>
<p>paths may be active at the same time.</p>
<p>This feature is useful for gateways that are e.g.</p>
<p>implemented in varying EE architectures.</p>
<p>FEAT-1486</p>
<p>ARXML(MC data) to a2l</p>
<p>Converter</p>
<p>DaVinci Configurator Pro 5</p>
<p>VTT Control Layer</p>
<p>VTT MCAL Modules</p>
<p>vVIRTUALtarget (VTT) modules have been</p>
<p>improved:</p>
<p><b>&gt;</b> VTT MCAL modules do no longer mandate a</p>
<p>configuration of a include file list.</p>
<p><b>&gt;</b> VTTCNTRL provides an API that enabled com-</p>
<p>plex drivers and IOHWAB to create and</p>
<p>access CANoe system variables directly. This</p>
<p>allows the stimulation and monitoring of</p>
<p>I/Os</p>
<p>1</p>
<p>that are e.g. connected by SPI or I2C</p>
<p>or hardware that cannot be accessed by</p>
<p>AUTOSAR drivers.</p>
<p><b>&gt;</b> VTT MCAL now supports more channels (e.g.</p>
<p>ADC, DIO...).</p>
<p><b>&gt;</b> VTTWDG can now also operate without GPT.</p>
<p><b>&gt;</b> VTTADC has now a value range from 1:63 as</p>
<p>1</p>
<p>(Operating System) This module is the operating system of an AUTOSAR ECU. It is actually an exten-</p>
<p>ded OSEK operating system. Extensions are divided into so-called Scalability Classes (SC1-SC4). They</p>
<p>cover the following functionalities: - SC1: schedule tables - SC2: timing protection + schedule tables -</p>
<p>SC3: memory protection + schedule tables - SC4: memory protection + timing protection + schedule</p>
<p>tables In safety-related ECUs, the OS is one of the safety-related modules. The operating system also</p>
<p>supports multi-core microcontrollers.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 197-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 198-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>defined by AUTOSAR.</p>
<p><b>&gt;</b> VTTMCU allows the implementation of a ECU</p>
<p>reset as it now supports also &quot;normal&quot; mode.</p>
<p><b>&gt;</b> XCP module is now able to consider the</p>
<p>address offset of the dynamically loaded DLL</p>
<p>automatically. This allows online calibration</p>
<p>of RAM variables of the virtual ECU without</p>
<p>manual address translation.</p>
<p><b>&gt;</b> RAMTST supports VTT with respect to APIs.</p>
<p>No actual test algorithms are applied in case</p>
<p>the target is VTT.</p>
<p>FEAT-1491</p>
<p>NVM</p>
<p>The NvM block size handling is now more flexible</p>
<p>to simplify ECU development. For NVRAM Blocks</p>
<p>it is now possible to specify a maximum block</p>
<p>size. The maximum size defines an upper bound-</p>
<p>ary for user data. At determines the actual sizes</p>
<p>using the configured permanent RAM Blocks'</p>
<p>types.</p>
<p>Instead of calculating and maintaining exact</p>
<p>block sizes, users may estimate them, and keep</p>
<p>them even across changes during development.</p>
<p>Once the ECU configuration is completed the</p>
<p>block size can be reduced to the exact size of the</p>
<p>type to be stored in order to limit overhead in NV</p>
<p>memory.</p>
<p>FEAT-1505</p>
<p>DaVinci Configurator Pro 5</p>
<p>SD</p>
<p>SOAD</p>
<p>Post-build loadable for Socket Adaptor and Ser-</p>
<p>vice Discovery.</p>
<p>Note: This feature requires dedicated licensing.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1519</p>
<p>DaVinci Configurator Pro 5</p>
<p>DaVinci Developer</p>
<p>RTE</p>
<p>The RTE now supports Rte</p>
<p>1</p>
<p>_ActivatingEvent</p>
<p>including the definition of an activation reason.</p>
<p>1</p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of the</p>
<p>SWCs. It also ensures consistent data exchange between the SWCs themselves and between the SWCs</p>
<p>and the basic software. The execution of the basic software is realized by the integrated ( SchM. The</p>
<p>RTE also supports communication beyond partition boundaries (multi-core/trusted/untrusted). In addi-</p>
<p>tion, it offers simplified access to NVRAM data and calibration data. In safety-related ECUs, the RTE is</p>
<p>one of the safety-related modules.</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1529</p>
<p>ETH (MPC55xx)</p>
<p>ETH Switch Driver</p>
<p>(Bcm8950x)</p>
<p>ETHIF</p>
<p>TSYNC ETH</p>
<p>Upper layers, such as EthTSyn, need a port-view</p>
<p>for transmission and reception of Ethernet mes-</p>
<p>sages. Ethernet Switch-Driver and EthIf</p>
<p>1</p>
<p>have</p>
<p>been extended by additional API's to provide that</p>
<p>functionality.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1531</p>
<p>STBM</p>
<p>Support of High Resolution Time Base Reference</p>
<p>Clock based on GPT</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1535</p>
<p>DaVinci Configurator Pro 5</p>
<p>RTE</p>
<p>The RTE allows the distribution of service layer</p>
<p>BSW modules in several partitions as it is</p>
<p>required by the multi-core master-satellite</p>
<p>concept.</p>
<p>Note: This feature need to be supported by each</p>
<p>BSW module individually.</p>
<p>FEAT-1540</p>
<p>All-MCALs</p>
<p>DaVinci Configurator Pro 5</p>
<p>ECUM</p>
<p>The initialization requirements of third party</p>
<p>MCALs can now be defined more precisely by</p>
<p>Vector. This allows the creation of more com-</p>
<p>plete initialization sequences.</p>
<p>Note: This feature need to be released for each</p>
<p>MCAL separately and may therefore not be avail-</p>
<p>able for all MCALs.</p>
<p>FEAT-1553</p>
<p>Base EcuC Converter</p>
<p>J1939RM</p>
<p>J1939Rm now supports basic handling of</p>
<p>Request2 messages:</p>
<p><b>&gt;</b> RQST2 reception</p>
<p><b>&gt;</b> Extended identifier bytes in NACK after</p>
<p>RQST2</p>
<p><b>&gt;</b> Evaluation of extended identifier bytes of</p>
<p>received RQST2 to trigger multiplexed PDUs</p>
<p>in COM</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1593</p>
<p>DCM</p>
<p>Diagnostic Variants can now be supported by</p>
<p>DCM using dedicated APIs that can be used to</p>
<p>1</p>
<p>(Ethernet Interface) The Ethernet Interface enables bus-independent control of the Ethernet driver (( </p>
<p>Eth) and Ethernet transceiver driver (( EthTrcv). Since AR 4.1, this module is also responsible for VLAN</p>
<p>handling.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 199-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 200-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>control variance. API documentation is provided</p>
<p>in the DCM technical reference (chapter 9.29</p>
<p>&quot;How to Handle Multiple Diagnostic Service Vari-</p>
<p>ants&quot;).</p>
<p>FEAT-1618</p>
<p>DaVinci Configurator Pro 5</p>
<p>DaVinci Developer</p>
<p>RTE</p>
<p>Mapping of Record Data Elements to Receiver</p>
<p>Primitive Data Elements.</p>
<p>This also allows to access individual signals from</p>
<p>a signal group.</p>
<p>Has to be configured on Connector Prototype</p>
<p>based on Port Interface Mapping.</p>
<p>FEAT-1648</p>
<p>CANSM</p>
<p>Implementation of RfC 52550 - Reinitialization of</p>
<p>CAN CC after NM-Timeout if PN is used.</p>
<p>A CanSM</p>
<p>1</p>
<p>_TxTimeoutException is handled with</p>
<p>the following steps:</p>
<p><b>&gt;</b> set CAN Controller to stopped by invoking</p>
<p>CanIf</p>
<p>2</p>
<p>_SetControllerMode(CtrlID,CANIF_</p>
<p>CS_STOPPED)</p>
<p><b>&gt;</b> set CAN Controller to the requested state by</p>
<p>invoking CanIf_SetControllerMode</p>
<p>(CtrlID,&lt;requested mode&gt;)</p>
<p>FEAT-1695</p>
<p>ETH Switch Driver</p>
<p>(Bcm8950x)</p>
<p>Mirroring of Ethernet traffic on a configurable</p>
<p>switch port for monitoring. Limited to</p>
<p>BCM895xx/BCM892xx Ethernet switches.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1711</p>
<p>ETM</p>
<p>Implementation of the Ethernet Testability Mod-</p>
<p>ule (ETM) for IETF RFC conformance testing</p>
<p>according to AUTOSAR concept CONC_618_Eth-</p>
<p>ernetTestability.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p>FEAT-1737</p>
<p>BSWM</p>
<p>Pending COMM requests are now considered in</p>
<p>state machine of the &quot;ECU State Handling&quot;. A</p>
<p>Pending request causes the state machine to</p>
<p>stay in RUN or change back from POST_RUN to</p>
<p>RUN.</p>
<p>1</p>
<p>(CAN State Manager) The CAN State Manager is responsible for the bus-specific error handling.</p>
<p>2</p>
<p>(CAN Interface) The CAN Interface offers abstracted (PDU-based) access to the CAN Driver. It con-</p>
<p>trols the CAN Driver (( Can) as well as the transceiver driver (( CanTrcv).</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-921</p>
<p>RTM</p>
<p>Runtime measurement in multi-core envir-</p>
<p>onments supported.</p>
<p>Measurement results can be exported in a csv</p>
<p>formant compatible with TimingArchitects tool-</p>
<p>ing for further evaluation of multi-core runnable</p>
<p>scheduling.</p>
<p><b>Beta Implementation. This feature shall</b></p>
<p><b>not be used for production.</b></p>
<p><b>Information</b></p>
<p>The internal behavior of the BSW has been improved without any change in the API. Only for inform-</p>
<p>ation purpose.</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>FEAT-1431</p>
<p>CANTP</p>
<p>Optimization of MainFunction runtime. This fea-</p>
<p>ture becomes relevant in gateway ECUs with</p>
<p>many TP connections.</p>
<p>FEAT-1600</p>
<p>J1939NM</p>
<p>J1939RM</p>
<p>Release of</p>
<p><b>&gt;</b> J1939Nm</p>
<p>1</p>
<p><b>&gt;</b> J1939Rm</p>
<p>FEAT-1660</p>
<p>DCM</p>
<p>If Dcm</p>
<p>2</p>
<p>_ReadMemory returns DCM_READ_</p>
<p>FAILED, the DCM module now triggers a negative</p>
<p>response with NRC 0x10 (GeneralReject). Imple-</p>
<p>mentation based on [SWS_Dcm_00644].</p>
<p>FEAT-236</p>
<p>RTE</p>
<p>The union- and bit field data type handling have</p>
<p>been released (initial implementation through</p>
<p>FEAT-349).</p>
<p>FEAT-569</p>
<p>RTE</p>
<p>The implementation based on the concept &quot;Com-</p>
<p>bined require and provide semantic for ports</p>
<p>(AUTOSAR Concept 584) has been released (ini-</p>
<p>tial implementation through FEAT-1227).</p>
<p>FEAT-82</p>
<p>RTE</p>
<p>Text Table Mapping resp. Bit Field mapping has</p>
<p>1</p>
<p>(SAE J1939 Network Management) J1939 supports adding ECUs to networks on-the-fly. The J1939Nm</p>
<p>module is responsible for negotiating a unique ECU address (&quot;AddressClaim&quot;) and unlike other NM mod-</p>
<p>ules for handling the wake-up or going to sleep of the bus.</p>
<p>2</p>
<p>(Diagnostic Communication Manager ) The Dcm module implements diagnostic communication</p>
<p>according to ISO 14229-1:2006 (UDS). Some diagnostic requests are processed directly in the Dcm</p>
<p>(management of diagnostic sessions, reading of error codes, EcuReset, etc.) and some are routed to</p>
<p>the SWCs via port interfaces (reading, writing and controlling of data elements within a data identifier,</p>
<p>execution of routines, etc.). Legal requirements of OBDII / SAE J1979 are also supported.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 201-</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 202-</p>
<p><b>Change ID</b></p>
<p><b>Affected Modules</b></p>
<p><b>Description</b></p>
<p>been released to allow a more efficient NV data</p>
<p>handling (initial implementation through AR4-</p>
<p>782).</p>
<p><b>2.3.1 Required AUTOSAR Tools</b></p>
<p>This MICROSAR release requires the usage of the following tools:</p>
<p><b>Tool</b></p>
<p><b>Version</b></p>
<p>DaVinci</p>
<p>Developer</p>
<p><b>3.11.x</b></p>
<p>Please use the latest service pack available from the Vector download center</p>
<p>DaVinci</p>
<p>Configurator</p>
<p>Pro</p>
<p>The latest service pack version is delivered as part of the SIP. Upcoming service</p>
<p>packs can be retrieved from the Vector download center</p>
<p>Appendix</p>
<p><b>Release Notes</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3 What’s New, What’s Changed</b></p>
<p><b>What’s new and what’s changed?</b></p>
<p>This section explains the changes within this document from the previous version to the one men-</p>
<p>tioned in the headline.</p>
<p><b>Version 4.x.x</b></p>
<p><b>Author</b></p>
<p><b>Date</b></p>
<p>Klaus Emmert</p>
<p>2016-09-13</p>
<p>What’s new?</p>
<p><b>&gt;</b> Hint to Acknowledgment in validation view 03_Validation.htm</p>
<p><b>&gt;</b> Service Mapping in DaVinci Configurator Pro 06_Mapping.htm</p>
<p><b>&gt;</b> BswM</p>
<p>1</p>
<p>: activation of peripheral interrupt devices via callout 04_ConfigureBSW.htm.</p>
<p><b>&gt;</b> New view for comfortable task mapping 06_Mapping.htm</p>
<p><b>&gt;</b> Migration steps from Release 15 to Release 16</p>
<p>What’s changed?</p>
<p><b>&gt;</b> Add necessary information for MICROSAR 4 release 14.x.</p>
<p><b>&gt;</b> New migration hints for updating to or over Release 15 concerning PDUs and DEM 20_Pro-</p>
<p>jectMigration.htm</p>
<p><b>&gt;</b> New symbols in the chapter 00_About This User Manual.htm</p>
<p><b>&gt;</b> Topics concerning older releases deleted</p>
<p><b>&gt;</b> Minor changed, screenshots, typos, etc.</p>
<p><b>&gt;</b> Workflow illustration now visible</p>
<p>1</p>
<p>(BSW Mode Manager) The BswM module contains vehicle mode management and application mode</p>
<p>management. It processes mode requests from SWCs or other BSW modules, and it performs actions</p>
<p>based on the arbitration, such as control of deadline monitoring, switching schedule tables, and hand-</p>
<p>ling of IPDU groups. In conjunction with the EcuM, the BswM module is responsible for starting up and</p>
<p>shutting down the ECU. The BswM also coordinates the multi-core partitions.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 203-</p>
<p>Appendix</p>
<p><b>What's New, What's Changed?</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 204-</p>
<p><b>4 Glossary</b></p>
<p><b>Adc</b></p>
<p>(Analog Digital Converter Driver) The ADC driver abstracts hardware access to the analog-</p>
<p>digital converter. For every input, the conversion parameters are configured (e.g. resolution,</p>
<p>trigger source and trigger conditions).</p>
<p><b>AVTP</b></p>
<p>(Audio/Video Transport Protocol) The Audio/Video Transport Protocol is specified in IEEE</p>
<p>1722/1722a. In AVB networks it is responsible for the transport of audio/video data, including</p>
<p>the Presentation Time.</p>
<p><b>Bfx</b></p>
<p>(Bitfield functions for fixed point) Library for bit handling in fixed point arithmetic functions</p>
<p><b>BMCA</b></p>
<p>(Best Master Clock Algorithm) The Best Master Clock Algorithm is specified in IEEE 802.1AS</p>
<p>and is used to detect the device with the most precise time unit in an AVB network. After find-</p>
<p>ing the device with the most precise time unit, it is used as the time base for the entire sys-</p>
<p>tem.</p>
<p><b>BswM</b></p>
<p>(BSW Mode Manager) The BswM module contains vehicle mode management and application</p>
<p>mode management. It processes mode requests from SWCs or other BSW modules, and it per-</p>
<p>forms actions based on the arbitration, such as control of deadline monitoring, switching sched-</p>
<p>ule tables, and handling of IPDU groups. In conjunction with the EcuM, the BswM module is</p>
<p>responsible for starting up and shutting down the ECU. The BswM also coordinates the multi-</p>
<p>core partitions.</p>
<p><b>Cal (Cpl)</b></p>
<p>(Crypto Abstraction Library) The Cal library offers SWCs and other BSW modules access to</p>
<p>basic cryptographic functions. The individual cryptographic functions are implemented in soft-</p>
<p>ware via the Cpl module.</p>
<p><b>Can</b></p>
<p>(CAN Driver) The CAN Driver abstracts access to the CAN hardware for sending and receiving</p>
<p>messages and for switching between controller states (sleep, stop, etc.)</p>
<p><b>CanIf</b></p>
<p>(CAN Interface) The CAN Interface offers abstracted (PDU-based) access to the CAN Driver. It</p>
<p>controls the CAN Driver (( Can) as well as the transceiver driver (( CanTrcv).</p>
<p><b>CanNm</b></p>
<p>(CAN Network Management) Within a CAN network, CAN Network Management is responsible</p>
<p>for coordinated transitions between the wake up and sleep state.</p>
<p><b>CanSM</b></p>
<p>(CAN State Manager) The CAN State Manager is responsible for the bus-specific error hand-</p>
<p>ling.</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>CanTp</b></p>
<p>(CAN Transport Layer) The CanTp module conforms to ISO standard 15765-2. As the transport</p>
<p>protocol for CAN, it is responsible for segmenting the data in the Tx direction, collecting data in</p>
<p>the Rx direction and monitoring the data stream.</p>
<p><b>CanTrcv</b></p>
<p>(CAN Transceiver Driver) This driver is responsible for controlling the operating states of an</p>
<p>external CAN transceiver. It contains control of wake up and sleep functions.</p>
<p><b>CanTSyn</b></p>
<p>(Time Sync Over CAN) This module realizes the CAN specific time synchronization protocol. An</p>
<p>access to the synchronized time base by the SWCs requires the Synchronized Time-Base Man-</p>
<p>ager (( StbM).</p>
<p><b>CanXcp / XCPonCan</b></p>
<p>(CAN XCP-Module) The CanXcp module contains CAN-specific contents of the XCP module (( </p>
<p>Xcp).</p>
<p><b>CDD</b></p>
<p>(Complex Drivers) The Complex Drivers are software modules that are not standardized by</p>
<p>AUTOSAR. They have access to other BSW modules, the RTE and direct hardware access. For</p>
<p>example, these modules are not standardized communication drivers for SPI or legacy soft-</p>
<p>ware.</p>
<p><b>Com</b></p>
<p>(Communication) The Com module provides a signal-based data interface for the RTE. It</p>
<p>places signals in messages and sends them according to the defined send type. The module</p>
<p>contains various notification mechanisms for receiving signals. It also manages initial values,</p>
<p>update bits and timeouts on the signal level. In multi-channel ECUs, the integrated signal gate-</p>
<p>way offers the ability to route signals between the communication buses.</p>
<p><b>ComM</b></p>
<p>(Communication Manager) The ComM module coordinates the communication channels and</p>
<p>Partial Network Cluster with the communication requirements of the application.</p>
<p><b>ComXf</b></p>
<p>(COM Based Transformer) The COM based transformer optimizes for signal groups the inter-</p>
<p>action between RTE and the COM module, because you can avoid the shadow buffer in the COM</p>
<p>module. It de-/serializes the data identical to the COM module.</p>
<p><b>CorTst</b></p>
<p>(Core Test Driver) The CorTst module contains configuration and control of the test capabilities</p>
<p>included in the microcontroller core. In addition, it offers a framework for extending these test</p>
<p>capabilities. Specifically for safety-related software, the CorTst module tests critical units such</p>
<p>as the ALU and the registers.</p>
<p><b>Crc</b></p>
<p>(CRC Routines) The Cyclic Redundancy Check library calculates CRC checksums.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 205-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 206-</p>
<p><b>Csm (Cry)</b></p>
<p>(Crypto Service Manager) The Csm module offers SWCs access to basic cryptographic func-</p>
<p>tions. The individual cryptographic functions are implemented by the Cry module in software</p>
<p>or hardware (access via ( She).</p>
<p><b>Dbg</b></p>
<p>(Debugging) The debugging module enables external access to internal information of the</p>
<p>basic software. It is also possible to modify memory data.</p>
<p><b>Dcm</b></p>
<p>(Diagnostic Communication Manager ) The Dcm module implements diagnostic communication</p>
<p>according to ISO 14229-1:2006 (UDS). Some diagnostic requests are processed directly in the</p>
<p>Dcm (management of diagnostic sessions, reading of error codes, EcuReset, etc.) and some</p>
<p>are routed to the SWCs via port interfaces (reading, writing and controlling of data elements</p>
<p>within a data identifier, execution of routines, etc.). Legal requirements of OBDII / SAE J1979</p>
<p>are also supported.</p>
<p><b>Dem</b></p>
<p>(Diagnostic Event Manager ) The Dem module implements a fault memory. The standardized</p>
<p>interface for &quot;DiagnosticMonitors&quot; enables uniform development of manufacturer-independent</p>
<p>SWCs. The Dem module is responsible for administering the DiagnosticTroubleCode states,</p>
<p>environmental data, and for storing the data in NVRAM. The legal requirements of OBDII / SAE</p>
<p>J1979 are also supported.</p>
<p><b>Det</b></p>
<p>(Development Error Tracer ) The Det module supports error debugging during software devel-</p>
<p>opment. It provides an interface for error notification, which is called by the individual BSW</p>
<p>modules in case of error.</p>
<p><b>Dio</b></p>
<p>(Digital Input Output Driver) The Digital Input Output Driver provides read and write services</p>
<p>for the DIO channels (pins), DIO ports and DIO channel groups.</p>
<p><b>Dlt</b></p>
<p>(Diagnostic Log and Trace) The Dlt module provides generic “Logging and Tracing” func-</p>
<p>tionality for SWCs and for the BSW modules ( Rte, ( Det and ( Dem.</p>
<p><b>DNS</b></p>
<p>(Domain Name System) The DNS module contains a DNS resolver. It is responsible for resolv-</p>
<p>ing a domain, e.g. vector.com, into a valid IP address.</p>
<p><b>DoIP</b></p>
<p>(Diagnostics over IP) Since AR 4.1.1 the DoIP module contains diagnostic functionality accord-</p>
<p>ing to ISO 13400-2 like vehicle discovery. Up to and including AR 4.0.3, this functionality is</p>
<p>part of the Socket Adaptor (( SoAd).</p>
<p><b>DrvExt</b></p>
<p>(External Driver) Upon request, you can obtain the implementation of drivers for externally</p>
<p>connected components. They are already available for plenty of external devices, e.g. for driv-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>ing certain EEPROMs (EEPEXT), flash chips (FLSEXT), watchdogs (WDGEXT), analog-digital con-</p>
<p>verters (ADCEXT) and communication controllers (CANEXT, LINEXT, ETHSWTEXT).</p>
<p><b>E2E</b></p>
<p>(End-to-End Communication Protection Library) Library for secure data exchange according to</p>
<p>ISO 26262 for safety-related ECUs. It is responsible for calculating the checksum and provid-</p>
<p>ing the message counter.</p>
<p><b>E2EPW</b></p>
<p>(End-to-End Protection Wrapper) The E2E Protection Wrapper extends the RTE by adding veri-</p>
<p>fication of safety-related signals.</p>
<p><b>E2EXf</b></p>
<p>(E2E Transformer) With the E2E Transformer, you integrate the protection of safety-relevant</p>
<p>signals according to ISO 26262 in the RTE interface. In contrast to the E2E protection wrapper,</p>
<p>the standard interfaces of the RTE are used.</p>
<p><b>Ea</b></p>
<p>(EEPROM Abstraction ) The Ea module offers a hardware-independent interface for accessing</p>
<p>EEPROM data and uses an EEPROM driver (( Eep) for this. In addition to reading, writing and</p>
<p>clearing data, the Ea module also distributes write accesses to different areas of the EEPROM,</p>
<p>so that all EEPROM cells are uniformly stressed, which increases their life-time.</p>
<p><b>EcuM</b></p>
<p>(ECU State Manager) The ECU State Manager is responsible for starting up and shutting down</p>
<p>the ECU as well as waking it up. It is available in two variants: flexible and fixed. The EcuM Fix</p>
<p>manages a number of defined, fixed operating states. Using the EcuM Flex, the user defines all</p>
<p>operating states flexibly in the ( BswM module. This lets you implement special energy-saving</p>
<p>states and various types of startup. In a multi-core system, the EcuM coordinates the various</p>
<p>cores.</p>
<p><b>Eep</b></p>
<p>(EEPROM Driver) The EEPROM driver enables hardware-independent access to EEPROM</p>
<p>memory. It provides services for reading, writing and comparing data.</p>
<p><b>Efx</b></p>
<p>(Extended Fixed Point Routines) Library with extended mathematical functions for fixed-point</p>
<p>values</p>
<p><b>Eth</b></p>
<p>(Ethernet Driver) The Ethernet Driver abstracts access to the Ethernet hardware for sending</p>
<p>and receiving data and for switching between controller states.</p>
<p><b>EthIf</b></p>
<p>(Ethernet Interface) The Ethernet Interface enables bus-independent control of the Ethernet</p>
<p>driver (( Eth) and Ethernet transceiver driver (( EthTrcv). Since AR 4.1, this module is also</p>
<p>responsible for VLAN handling.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 207-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 208-</p>
<p><b>EthSM</b></p>
<p>(Ethernet State Manager) The Ethernet State Manager provides the Communication Manager (( </p>
<p>ComM) with an abstract interface for starting up or shutting down communications in Ethernet</p>
<p>clusters. EthSM accesses the Ethernet hardware via ( EthIf.</p>
<p><b>EthSwt</b></p>
<p>(Ethernet Switch Driver) The module EthSwt provides a uniform and hardware independent</p>
<p>interface for controlling and configuring Ethernet switches. It also coordinates the MAC learn-</p>
<p>ing when using multiple identical ECUs like cameras for the surround view.</p>
<p><b>EthTrcv</b></p>
<p>(Ethernet Transceiver Driver) EthTrcv offers a uniform and hardware-independent interface</p>
<p>for driving multiple transceivers of the same kind. Configuration of EthTrcv is transceiver-spe-</p>
<p>cific and considers the properties of the physical network that is used.</p>
<p><b>EthTSyn</b></p>
<p>(Time Sync Over Ethernet) This module realizes the Ethernet specific time synchronization pro-</p>
<p>tocol and references to IEEE Standard 802.1AS (( PTP). An access to the synchronized time</p>
<p>base by the SWCs requires the Synchronized Time-Base Manager (( StbM).</p>
<p><b>EthXcp/ XCPonEth</b></p>
<p>(Ethernet XCP-Module) The EthXcp module contains Ethernet-specific contents of the XCP mod-</p>
<p>ule (( Xcp).</p>
<p><b>EXI</b></p>
<p>(Efficient XML Interchange) The EXI module is used to interpret XML document and to convert</p>
<p>them to a binary format. This makes it more efficient to process the files and to transmit</p>
<p>them, in order to economize on communication bandwidth. It is used in the Vehicle2Grid envir-</p>
<p>onment.</p>
<p><b>Fee</b></p>
<p>(Flash EEPROM Emulation) The Fee module offers a hardware-independent interface for access-</p>
<p>ing flash data and uses a flash driver (( Fls) for this. In addition to reading, writing and clear-</p>
<p>ing data, the Fee module also distributes write accesses to different areas of flash memory, so</p>
<p>that all flash cells are uniformly stressed, which increases their life-time.</p>
<p><b>FiM</b></p>
<p>(Function Inhibition Manager ) Based on the active errors managed by the ( Dem module, the</p>
<p>FiM offers the ability to prevent execution of functionalities in SWCs.</p>
<p><b>Fls</b></p>
<p>(Flash Driver) The flash driver enables hardware-independent and uniform access to flash</p>
<p>memory. It provides services for reading, writing and comparing data, and for deleting blocks</p>
<p>(sectors).</p>
<p><b>FlsTst</b></p>
<p>(Flash Test) The Flash Test module offers algorithms for testing nonvolatile memory such as</p>
<p>data or program flash, SRAM and protected cache.</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Fr</b></p>
<p>(FlexRay Driver ) The FlexRay Driver abstracts access to the FlexRay hardware for sending</p>
<p>and receiving data and for switching between controller states.</p>
<p><b>FrArTp</b></p>
<p>(FlexRay AUTOSAR Transport Layer ) FrArTp is a FlexRay transport protocol. Based on ISO</p>
<p>15765-2 (( CanTp), it contains a frame compatibility with the CAN bus.</p>
<p><b>FrIf</b></p>
<p>(FlexRay Interface) The FlexRay Interface offers abstracted (PDU-based) access to the</p>
<p>FlexRay hardware. In addition, it offers support for synchronization with the global FlexRay</p>
<p>time.</p>
<p><b>FrNm</b></p>
<p>(FlexRay Network Management ) This module is responsible for network management in</p>
<p>FlexRay. It synchronizes the transition to the bus sleep state.</p>
<p><b>FrSM</b></p>
<p>(FlexRay State Manager) The FlexRay State Manager controls and monitors the wake up and</p>
<p>startup of nodes in the FlexRay cluster.</p>
<p><b>FrTp</b></p>
<p>(FlexRay ISO Transport Layer) FrTp is a FlexRay transport protocol and is based on the ISO</p>
<p>10681-2 standard.</p>
<p><b>FrTrcv</b></p>
<p>(FlexRay Transceiver Driver ) The driver for an external FlexRay transceiver is responsible for</p>
<p>switching the transceiver on and off.</p>
<p><b>FrTSyn</b></p>
<p>(Time Sync Over FlexRay) This module realizes the FlexRay specific time synchronization pro-</p>
<p>tocol. An access to the synchronized time base by the SWCs requires the Synchronized Time-</p>
<p>Base Manager (( StbM).</p>
<p><b>FrXcp/ XCPonFr</b></p>
<p>(FlexRay XCP-Module) The FrXcp module contains FlexRay-specific contents of the XCP module</p>
<p>(( Xcp).</p>
<p><b>Gpt</b></p>
<p>(General Purpose Timer Driver ) The General Purpose Timer Driver provides an interface for</p>
<p>accessing internal timers of the microcontroller. It is used for controlling periodic and singular</p>
<p>events, for example.</p>
<p><b>HTTP</b></p>
<p>(Hypertext Transfer Protocol) The Hypertext Transfer Protocol, for instance, routes browser</p>
<p>requests to a server. The module contains a HTTP client. It is used in the Vehicle2Grid envir-</p>
<p>onment.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 209-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 210-</p>
<p><b>Icu</b></p>
<p>(Input Capture Unit Driver ) The Icu driver provides services for edge detection, measurement</p>
<p>of periodic signals, assignment of edge time stamps and control of wake up interrupts.</p>
<p><b>Ifl</b></p>
<p>(Interpolation Floating Point) Library with interpolation functions for floating point values</p>
<p><b>Ifx</b></p>
<p>(Interpolation Fixed Point) Library with interpolation functions for fixed point values</p>
<p><b>IicDrv</b></p>
<p>(I²C Driver) The I²C Driver provides services for communication with external I2C chips.</p>
<p><b>IoHwAb</b></p>
<p>(I/O Hardware Abstraction ) The I/O Hardware Abstraction represents the connection between</p>
<p>the RTE and the ECU's I/O channels. It encapsulates access to the I/O drivers such as ( Adc, ( </p>
<p>Dio or ( Pwm and thereby makes the I/O signals of the ECU available to the SWCs.</p>
<p><b>IpduM</b></p>
<p>(I-PDU Multiplexer) This module is responsible for multiple use of fixed PDUs with different</p>
<p>data contents.</p>
<p><b>J1939Dcm</b></p>
<p>(SAE J1939 Diagnostic Communication Manager) The module implements Diagnostic Messages</p>
<p>of the SAE J1939-73 protocol, e.g. for reading out the fault memory.</p>
<p><b>J1939Nm</b></p>
<p>(SAE J1939 Network Management) J1939 supports adding ECUs to networks on-the-fly. The</p>
<p>J1939Nm module is responsible for negotiating a unique ECU address (&quot;AddressClaim&quot;) and</p>
<p>unlike other NM modules for handling the wake-up or going to sleep of the bus.</p>
<p><b>J1939Rm</b></p>
<p>(SAE J1939 Request Manager) The J1939Rm module implements requesting of data via</p>
<p>Request Handling that is defined in the SAE J1939 protocol.</p>
<p><b>J1939Tp</b></p>
<p>(SAE J1939 Transport Layer) The J1939TP module contains the transport protocols BAM (Broad-</p>
<p>cast Announce Message) and CMDT (Connection Mode Data Transfer) of the SAE J1939 stand-</p>
<p>ard.</p>
<p><b>LdCom</b></p>
<p>(Large Data COM) The LdCom module is optimized for routing large signals. Thereby it avoids</p>
<p>an unnecessary copying of data. The LdCom is typically used together with (SomeIpXf as a seri-</p>
<p>alization transformer.</p>
<p><b>Lin</b></p>
<p>(LIN Driver) The LIN Driver provides services for initiating frame transmission (header,</p>
<p>response, sleep-mode and wake up), and for receiving responses, checking the current state</p>
<p>and validating wake up events.</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>LinIf</b></p>
<p>(LIN Interface ) The LIN Interface offers abstracted (PDU-based) access to the LIN hardware.</p>
<p>It also handles schedule table processing and contains the LIN transport protocol (( LinTp).</p>
<p><b>LinNm</b></p>
<p>(LIN Network Management) The LinNm module contains a hardware-independent protocol,</p>
<p>which coordinates the transition between normal operation and the bus sleep mode of the LIN</p>
<p>network.</p>
<p><b>LinSM</b></p>
<p>(LIN State Manager) The LIN State Manager switches between schedule tables and PDU groups</p>
<p>in the ( Com module and services the LIN interface with regard to sleep and wake up.</p>
<p><b>LinTp</b></p>
<p>(LIN Transport Layer) The LIN transport protocol is responsible for segmenting data in the Tx</p>
<p>direction, collecting data in the Rx direction and monitoring the data stream. According to the</p>
<p>AUTOSAR specification, LinTp is part of ( LinIf.</p>
<p><b>LinTrcv</b></p>
<p>(LIN Transceiver Driver ) The module for an external LIN transceiver is responsible for mon-</p>
<p>itoring and driving the wake up and sleep functions.</p>
<p><b>LinXcp</b></p>
<p>(LIN XCP-Module) The LinXcp module contains LIN-specific contents of the XCP module (( Xcp).</p>
<p><b>Mcu</b></p>
<p>(Micro Controller Unit Driver) The MCU driver provides the services for: - A microcontroller</p>
<p>reset triggered by software - Selecting microcontroller states (STOP, SLEEP, HALT, etc.) - Con-</p>
<p>figuring wake up behavior - Managing the internal PLL clock unit - Initializing RAM areas with</p>
<p>predefined values.</p>
<p><b>MemIf</b></p>
<p>(Memory Abstraction Interface ) This module provides uniform access to the services of ( Ea</p>
<p>and ( Fee. This lets you use multiple instances of these modules.</p>
<p><b>Mfl</b></p>
<p>(Mathematical Floating Point) Library with arithmetic functions for floating point values</p>
<p><b>Mfx</b></p>
<p>(Mathematical Fixed Point) Library with arithmetic functions for fixed point values</p>
<p><b>Nm</b></p>
<p>(Generic Network Management Interface ) The Nm module offers a general and network-inde-</p>
<p>pendent interface for accessing the bus-dependent network management modules (( CanNm,</p>
<p>(LinNm, ( UdpNm and ( FrNm). In addition, the module handles synchronous, inter-network</p>
<p>shutdown of the communication system in coordination with the other ECUs.</p>
<p><b>NvM</b></p>
<p>(Non Volatile RAM Manager ) The NvM module manages, reads and writes data to a nonvolatile</p>
<p>memory (( Ea or ( Fee). At system start and at shutdown, it synchronizes the data in the RAM</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 211-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 212-</p>
<p>areas of the application. The module provides services such as saving of redundant blocks for</p>
<p>a higher level of data protection. Since AR 4.0.3, the ( RTE also provides a simpler and more</p>
<p>flexible interface to Nv data (NvDataInterfaces).</p>
<p><b>Ocu</b></p>
<p>(Output Compare Unit Driver) The OCU driver standardizes initialization and access to the Out-</p>
<p>put Compare Unit.</p>
<p><b>Os</b></p>
<p>(Operating System) This module is the operating system of an AUTOSAR ECU. It is actually an</p>
<p>extended OSEK operating system. Extensions are divided into so-called Scalability Classes</p>
<p>(SC1-SC4). They cover the following functionalities: - SC1: schedule tables - SC2: timing pro-</p>
<p>tection + schedule tables - SC3: memory protection + schedule tables - SC4: memory pro-</p>
<p>tection + timing protection + schedule tables In safety-related ECUs, the OS is one of the</p>
<p>safety-related modules. The operating system also supports multi-core microcontrollers.</p>
<p><b>PduR</b></p>
<p>(PDU Router ) The PDU Router handles distribution of the communication packets (PDUs)</p>
<p>between the bus systems and the various BSW modules. In addition it offers gateway mech-</p>
<p>anisms for routing PDUs (FIFO) and TP-PDUs (on-the-fly) between the bus systems.</p>
<p><b>Port</b></p>
<p>(Port Driver ) This module is responsible for initialization of the entire port structure of the</p>
<p>microcontroller.</p>
<p><b>PTP</b></p>
<p>(Precision Time Protocol) The PTP module is used to distribute a precise system time to all</p>
<p>devices participating in an AVB network. It is implemented according to IEEE 802.1AS. The</p>
<p>implementation consists of microprocessor-dependent and independent parts.</p>
<p><b>Pwm</b></p>
<p>(Pulse Width Modulation Driver ) The Pwm driver provides services for initialization and con-</p>
<p>trol of the PWM (pulse-width modulation) channels of the microcontroller.</p>
<p><b>RamTst</b></p>
<p>(Ram Test) This module tests internal microcontroller RAM cells. A complete test is triggered</p>
<p>during startup and shutdown of the ECU or by a diagnostic command. During normal operation,</p>
<p>a periodic test is performed (block-by-block or cell-by-cell).</p>
<p><b>Rte</b></p>
<p>(Runtime Environment ) The RTE implements the Virtual Functional Bus and the execution of</p>
<p>the SWCs. It also ensures consistent data exchange between the SWCs themselves and</p>
<p>between the SWCs and the basic software. The execution of the basic software is realized by</p>
<p>the integrated ( SchM. The RTE also supports communication beyond partition boundaries</p>
<p>(multi-core/trusted/untrusted). In addition, it offers simplified access to NVRAM data and cal-</p>
<p>ibration data. In safety-related ECUs, the RTE is one of the safety-related modules.</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Rtm</b></p>
<p>(Runtime Measurement) You use the Rtm module to determine the runtime and CPU load of</p>
<p>BSW modules and of application code. The module is typically used during development.</p>
<p><b>SCC</b></p>
<p>(Smart Charge Communication) This module is responsible for smart charge communication</p>
<p>according to ISO 15118 or DIN 70121 and contains the V2GTP transport protocol that is used</p>
<p>for this protocol. It supports DC and AC charging and the associated profiles Plug-and-Charge</p>
<p>(PnC) and External Identification Means (EIM).</p>
<p><b>SchM</b></p>
<p>(BSW Scheduler) The SchM module is integrated in the ( RTE, calls the periodic “main” function</p>
<p>of the individual BSW modules, and provides functions for critical sections. For the distribution</p>
<p>of the BSW (master satellite concept) via partitions and core boundaries, the SchM provides</p>
<p>nearly identical communication interfaces like the ( RTE.</p>
<p><b>Sd</b></p>
<p>(Service Discovery) Service Discovery was first specified in AR 4.1.1. An ECU communicates</p>
<p>the availability of its services to communication partners via the publish-subscribe protocol</p>
<p>implemented in this module. In addition, ECUs can register to receive automatic notifications,</p>
<p>e.g. on a signal update.</p>
<p><b>SecOC</b></p>
<p>(Secure Onboard Communication) The SecOC is used to send or receive authenticated mes-</p>
<p>sages. Unauthorized, repeated or manipulated messages are detected. The SecOC is part of</p>
<p>the AUTOSAR security solution.</p>
<p><b>She</b></p>
<p>(Secure Hardware Extension) The She driver implements the cryptographic hardware func-</p>
<p>tions of a Hardware Security Module (HSM). This functionality is used by the ( Csm module, for</p>
<p>instance.</p>
<p><b>SoAd</b></p>
<p>(Socket Adaptor) The socket adaptor converts the communication via PDUs as it is defined in</p>
<p>AUTOSAR into a socket-based communication. In AR 4.0, the SoAd also contains the diagnostic</p>
<p>functionality defined in ISO 13400-2 ((DoIP). Since AR 4.1, this plug-in is removed and spe-</p>
<p>cified as a stand-alone module (( DoIP).</p>
<p><b>SomeIpXf</b></p>
<p>(SOME/IP Transformer) The module SOME/IP Transformer is an RPC and serialization protocol.</p>
<p>It is used to call methods on other ECUs, which for example were made known in the system</p>
<p>beforehand via Service Discovery (( Sd).</p>
<p><b>Spi</b></p>
<p>(SPI Handler/ Driver) The SPI Driver handles data exchange over the SPI interface. It is</p>
<p>primarily used in conjunction with external hardware such as EEPROM, Watchdog, etc.</p>
<p><b>StbM</b></p>
<p>(Synchronized Time-Base Manager) The Synchronized Time-Base Manager enables time syn-</p>
<p>chronization. Since AR 4.2 a time base prescribed by the Time Master can be synchronized</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 213-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 214-</p>
<p>with other ECUs via bus systems.</p>
<p><b>TcpIp</b></p>
<p>(TCP/IP Stack) This module contains all protocols for UDP and TCP-based communication. It</p>
<p>supports the versions IPv4 and IPv6 as well as parallel operation of IPv4 and IPv6 in one ECU.</p>
<p>It contains the following protocols: - IPv4, ICMPv4 and ARP - IPv6, ICMPv6 and NDP - UDP,</p>
<p>TCP, DHCPv4 (client) and DHCPv6 (client)</p>
<p><b>TLS</b></p>
<p>(Transport Layer Security) This module contains a Transport Layer Security client. The TCP-</p>
<p>based communication is encrypted with TLS. The encryption algorithm used can be selected.</p>
<p><b>Tm</b></p>
<p>(Time Services) The Tm module is used for such tasks as measuring execution times and func-</p>
<p>tions and implementing active waiting. It offers a resolution from 1µs to 4.9 days.</p>
<p><b>Ttcan</b></p>
<p>(TTCAN Driver) The TTCAN Driver offers the same functionality for a TTCAN controller (ISO</p>
<p>11898-4) as the CAN Driver (( Can) does for a CAN controller.</p>
<p><b>TtcanIf</b></p>
<p>(TTCAN Interface) The TTCAN Interface offers the same functionality for a TTCAN controller</p>
<p>(ISO 11898-4) as the CAN Interface (( CanIf) does for a CAN controller.</p>
<p><b>UdpNm</b></p>
<p>(UDP Network Management) You use network management over UDP to implement syn-</p>
<p>chronous transition to sleep mode for Ethernet ECUs.</p>
<p><b>Wdg</b></p>
<p>(Watchdog Driver) This module provides services for controlling and triggering the watchdog</p>
<p>hardware. The trigger routine is called by the Watchdog Manager (( WdgM). For safety-related</p>
<p>ECUs, the Wdg module must be developed according to ISO 26262.</p>
<p><b>WdgIf</b></p>
<p>(Watchdog Interface) This module enables uniform access to services of the Watchdog Driver</p>
<p>(( Wdg), such as mode switching and triggering. For safety-related ECUs, the WdgIf module</p>
<p>must be developed according to ISO 26262.</p>
<p><b>WdgM</b></p>
<p>(Watchdog Manager ) The Watchdog Manager monitors the reliability and functional safety of</p>
<p>the applications in an ECU. This includes monitoring for correct execution of SWCs and BSW</p>
<p>modules and triggering of the watchdogs at the required time intervals. The WdgM module</p>
<p>reacts to potential faulty behavior with multiple escalation stages. An important fact for</p>
<p>safety-related functions according to ISO 26262 is the monitoring of correct flow sequences of</p>
<p>critical tasks (logical supervision). For safety-related ECUs, the WdgM must be developed</p>
<p>according to ISO 26262.</p>
<p><b>Xcp</b></p>
<p>(Universal Measurement and Calibration Protocol) XCP is a protocol for communication</p>
<p>between a master (PC tool) and a slave (ECU). It is standardized by ASAM and is used</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p>primarily for measuring, calibrating, flashing and testing ECUs. XCP supports the bus systems</p>
<p>CAN (( CanXcp), FlexRay (( FrXcp), Ethernet (( EthXcp) and LIN (( LinXcp).</p>
<p><b>XML Security</b></p>
<p>(XML Security) You use this module to generate and validate XML signatures to EXI-encoded</p>
<p>data based on the W3C XML security standard. It is used in the Vehicle2Grid environment.</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 215-</p>
<p>Appendix</p>
<p><b>Glossary</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 Index</b></p>
<p><b>A</b></p>
<p>Alarm 154</p>
<p>Assistant</p>
<p>Component Connection Assistant</p>
<p>59</p>
<p>Data Mapping Assistant</p>
<p>62</p>
<p>Project Assistant</p>
<p>55, 59, 85, 131, 133</p>
<p>Task Mapping Assistant</p>
<p>65</p>
<p><b>B</b></p>
<p>Basic Editor</p>
<p>52, 94-95, 143, 153, 175, 179</p>
<p>BSW Modules</p>
<p>CANIF 41, 187</p>
<p><b>C</b></p>
<p>Configuration Editors 39, 95</p>
<p>Base Services 39</p>
<p>Communication 22, 40, 80, 91, 188</p>
<p>Diagnostics 41, 80</p>
<p>Memory 42, 78, 117, 128, 145, 151</p>
<p>Mode Management</p>
<p>43</p>
<p>Network Management</p>
<p>49</p>
<p>Runtime System 50, 59, 148</p>
<p><b>D</b></p>
<p>DaVinci Configurator</p>
<p>Input Files 27, 129, 170</p>
<p>On-demand Validation 52</p>
<p>Project Settings 20, 27, 87, 91, 128, 130,</p>
<p>167, 174</p>
<p><b>E</b></p>
<p>ECU Instance 170</p>
<p>Event</p>
<p>42</p>
<p><b>I</b></p>
<p>Installation Guide 21</p>
<p><b>P</b></p>
<p>Project folder</p>
<p>132</p>
<p><b>R</b></p>
<p>Runnables 66, 78, 96, 148</p>
<p><b>S</b></p>
<p>Start Menu 26</p>
<p><b>T</b></p>
<p>Task 51, 117</p>
<p>© Vector Informatik GmbH</p>
<p>Version 4.0.0 for Release 16</p>
<p>- 216-</p>
<p>Appendix</p>
<p><b>Index</b></p>
<p>User Manual Startup with GM SLP2</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Get more Information!</b></p>
<p><b>Visit our Website for:</b></p>
<p><b>&gt;</b> News</p>
<p><b>&gt;</b> Products</p>
<p><b>&gt;</b> Demo Software</p>
<p><b>&gt;</b> Support</p>
<p><b>&gt;</b> Training Classes</p>
<p><b>&gt;</b> Addresses</p>
<p><b>www.vector.com</b></p>
</body>
</html>
{% endraw %}